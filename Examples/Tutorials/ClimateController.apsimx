{
  "$type": "Models.Core.Simulations, Models",
  "ExplorerWidth": 300,
  "Version": 100,
  "ApsimVersion": "0.0.0.0",
  "Name": "Simulations",
  "Children": [
    {
      "$type": "Models.Memo, Models",
      "Text": "The purpose of the “ClimateController” Manager component is to modify the daily weather supplied to the simulation before any other components use the data.  It can be used, for example:\r\n\r\n* to approximate climate change by adding a few degrees of temperature to MinT and MaxT;\r\n* to 'correct' a weather file if the rainfall or temerature is known to be not quite appropriate for a location;\r\n* create a heat stress event by modifying temperatures for a short defined period of time;\r\n* create a drought by setting Rain to zero for a period of time.\r\n\r\nOf course many other possibilities exist.  See the testing below for various ways of interacting with the ClimateController component.\r\n\r\n\r\n**General parameters**:\r\n\r\n* *AllowControl*, “Enable?” – enables or not the whole component\r\n* *EnableDate*, “Start the climate controls beginning on date (dd/mmm/yyyy): ” – if this date is greater than the simulation start date then the climate controls will only be applied on and after this date.  This date can appear part way through a within-year control window (see below).\r\n* *WithinYearControl*, “Implement climate control only during part of the year?\")] ” – if the controls are to be applied during only part of a year (e.g. warming up the winter months) then set this to Yes and then set appropriate dates for the next two parameters\r\n* *ControlStart*, “Within each year, the first day to start the climate controls is (dd-mmm)\")] Within each year, end last day of climate control is (dd-mmm)” – the date without a year (e.g. 15-mar) that is the first day that the climate controls will start if WithinYearControl is set to Yes\r\n* *ControlEnd*, “” – the date without a year (e.g. 30-apr) that is the last day of climate controls if WithinYearControl is set to Yes\r\n\r\nWeather parameters:\r\n\r\n* *RainfallMultiplier*, “Rainfall multiplier (-)” – the value by which to multiply the value of rain from the weather file, set <1 to decrease rainfall, =1 to have no effect, and >1 to increase rainfall\r\n* *RainfallAddition*, “Rainfall addition (mm)” – the value to add to the value of rain from the weather file, set <0 to decrease rainfall, =0 to have no effect, and >0 to increase rainfall\r\n\r\nAnd as above but for other weather variables:\r\n\r\n* RadiationMultiplier\r\n* RadiationAddition\r\n* MinTMultiplier\r\n* MinTAddition\r\n* MaxTMultiplier\r\n* MaxTAddition\r\n* WindMultiplier\r\n* WindAddition\r\n* VPMultiplier\r\n* VPAddition\r\n\r\nLimitations:\r\n\r\n* the component makes no checks at all about the validity of the changes (e.g. Radiation can be set bit be negative)\r\n* there is currently no year-on-year change allowed (e.g. temperatures increasing by an increasing percentage each year compared to the base weather file)\r\n* it should be possible to have more than one ClimateController component in the simulation to create more complex patterns but this has not been tested\r\n",
      "Name": "Notes on the ClimateController",
      "Children": [],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Storage.DataStore, Models",
      "useFirebird": false,
      "CustomFileName": null,
      "Name": "DataStore",
      "Children": [],
      "IncludeInDocumentation": false,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "TestClimateControlSettings",
      "Children": [
        {
          "$type": "Models.Memo, Models",
          "Text": "This series of simulations tests that:\r\n\r\n* That disabling or enabling the whole component works (CompletelyOff)\r\n* Enabling the start of any climate control works (EnableFrom01Jan, EnableFrom05Jan, EnableFrom15Jan)\r\n* That the within-year window of control works (WithinYearControl)\r\n* That the start of any climate control works properly with a winthin-year window (WithinYearControlAndEnableDate)",
          "Name": "Tests of the general settings",
          "Children": [],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Factorial.Experiment, Models",
          "DisabledSimNames": null,
          "Name": "ClimateControlTestSettings",
          "Children": [
            {
              "$type": "Models.Factorial.Factors, Models",
              "Name": "Factors",
              "Children": [
                {
                  "$type": "Models.Factorial.Factor, Models",
                  "Specification": "",
                  "Name": "ClimateScenarios",
                  "Children": [
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=false"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "CompletelyOff",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=false"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "EnableFrom01Jan",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-05",
                        "[ClimateController].Script.WithinYearControl=false"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "EnableFrom05Jan",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-15",
                        "[ClimateController].Script.WithinYearControl=false"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "EnableFrom15Jan",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=true",
                        "[ClimateController].Script.ControlStart=05-jan",
                        "[ClimateController].Script.ControlEnd=25-jan"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "WithinYearControl",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-10",
                        "[ClimateController].Script.WithinYearControl=true",
                        "[ClimateController].Script.ControlStart=05-jan",
                        "[ClimateController].Script.ControlEnd=25-jan"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "WithinYearControlAndEnableDate",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Simulation, Models",
              "IsRunning": false,
              "Name": "ClimateControl",
              "Children": [
                {
                  "$type": "Models.Clock, Models",
                  "Start": "1980-01-01T00:00:00",
                  "End": "1981-01-31T00:00:00",
                  "Name": "Clock",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Weather, Models",
                  "FileName": "%root%\\Examples\\WeatherFiles\\lincoln.met",
                  "ExcelWorkSheetName": null,
                  "Name": "Weather",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        // - Links to APSIM models\r\n        [Link] Zone zone;\r\n        [Link] Clock clock;\r\n        [Link] Weather weather;\r\n        [Link] ISummary summary = null;\r\n\r\n        // - Paramters for this manager\r\n        [Description(\"Enable? Set to 'No' to completely disable this manager\")] public bool AllowControl { get; set; }\r\n\r\n        [Separator(\"General settings\")]\r\n        [Description(\"Start the climate controls beginning on date (dd/mmm/yyyy): \")] public DateTime EnableDate { get; set; }\r\n        [Description(\"Implement climate control only during part of the year?\")] public bool WithinYearControl { get; set; }\r\n        [Description(\"Within each year, the first day to start the climate controls is (dd-mmm)\")] public string ControlStart { get; set; }\r\n        [Description(\"Within each year, end last day of climate control is (dd-mmm)\")] public string ControlEnd { get; set; }\r\n\r\n        [Separator(\"Rainfall\")]\r\n        [Description(\"Rainfall multiplier (-): \")] public double RainfallMultiplier { get; set; }\r\n        [Description(\"Rainfall addition (mm): \")] public double RainfallAddition { get; set; }\r\n\r\n        [Separator(\"Radiation\")]\r\n        [Description(\"Radiation multiplier (-): \")] public double RadiationMultiplier { get; set; }\r\n        [Description(\"Radiation addition (MJ/m2): \")] public double RadiationAddition { get; set; }\r\n\r\n        [Separator(\"Minimum temperature\")]\r\n        [Description(\"Minimum temperature multiplier (-): \")] public double MinTMultiplier { get; set; }\r\n        [Description(\"Minimum temperature addition (C): \")] public double MinTAddition { get; set; }\r\n\r\n        [Separator(\"Maximum temperature\")]\r\n        [Description(\"Maximum temperature multiplier (-): \")] public double MaxTMultiplier { get; set; }\r\n        [Description(\"Maximum temperature addition (C): \")] public double MaxTAddition { get; set; }\r\n\r\n        [Separator(\"Wind speed\")]\r\n        [Description(\"Wind speed multiplier (-): \")] public double WindMultiplier { get; set; }\r\n        [Description(\"Wind speed addition (m/s): \")] public double WindAddition { get; set; }\r\n\r\n        [Separator(\"Vapour pressure\")]\r\n        [Description(\"Vapour pressure multiplier (-): \")] public double VPMultiplier { get; set; }\r\n        [Description(\"Vapour pressure addition (hPa): \")] public double VPAddition { get; set; }\r\n\r\n        [XmlIgnore] public bool DoControl { get; set; }\r\n        [XmlIgnore] public int DoControlInt { get; set; }\r\n\r\n        [EventSubscribe(\"PreparingNewWeatherData\")] private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            // Check if this manager is enabled\r\n            if ((AllowControl) && (clock.Today >= EnableDate))\r\n            {\r\n                DoControl = true;\r\n                if (WithinYearControl)\r\n                    DoControl = DateUtilities.WithinDates(ControlStart, clock.Today, ControlEnd); \r\n            }\r\n\r\n            if (DoControl)\r\n                DoControlInt = 1;\r\n            else\r\n                DoControlInt = 0;\r\n\r\n            if (DoControl)\r\n            {\r\n                // do the weather alterations \r\n                weather.Rain = RainfallMultiplier * weather.Rain + RainfallAddition;\r\n                weather.Radn = RadiationMultiplier * weather.Radn + RadiationAddition;\r\n                weather.MinT = MinTMultiplier * weather.MinT + MinTAddition;\r\n                weather.MaxT = MaxTMultiplier * weather.MaxT + MaxTAddition;\r\n                weather.Wind = WindMultiplier * weather.Wind + WindAddition;\r\n                weather.VP = VPMultiplier * weather.VP + VPAddition;\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "AllowControl",
                      "Value": "True"
                    },
                    {
                      "Key": "EnableDate",
                      "Value": "01/15/1980 00:00:00"
                    },
                    {
                      "Key": "WithinYearControl",
                      "Value": "False"
                    },
                    {
                      "Key": "ControlStart",
                      "Value": "15-jan"
                    },
                    {
                      "Key": "ControlEnd",
                      "Value": "20-jan"
                    },
                    {
                      "Key": "RainfallMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "RainfallAddition",
                      "Value": "15"
                    },
                    {
                      "Key": "RadiationMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "RadiationAddition",
                      "Value": "45"
                    },
                    {
                      "Key": "MinTMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "MinTAddition",
                      "Value": "35"
                    },
                    {
                      "Key": "MaxTMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "MaxTAddition",
                      "Value": "65"
                    },
                    {
                      "Key": "WindMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "WindAddition",
                      "Value": "15"
                    },
                    {
                      "Key": "VPMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "VPAddition",
                      "Value": "30"
                    }
                  ],
                  "Name": "ClimateController",
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Summary, Models",
                  "CaptureErrors": true,
                  "CaptureWarnings": true,
                  "CaptureSummaryText": true,
                  "Name": "Summary",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                  "Name": "SoilArbitrator",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Zone, Models",
                  "Area": 1.0,
                  "Slope": 0.0,
                  "AspectAngle": 0.0,
                  "Altitude": 50.0,
                  "Name": "Field",
                  "Children": [
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "soil_albedo": 0.23,
                      "SoilHeatFluxFraction": 0.4,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.5,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Irrigation, Models",
                      "Name": "Irrigation",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Fertiliser, Models",
                      "Name": "Fertiliser",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                      "InitialResidueName": "Sward",
                      "InitialResidueType": "grass",
                      "InitialResidueMass": 1000.0,
                      "InitialStandingFraction": 0.0,
                      "InitialCPR": 0.0,
                      "InitialCNR": 15.0,
                      "ResourceName": "SurfaceOrganicMatter",
                      "Name": "SurfaceOrganicMatter",
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Soil, Models",
                      "RecordNumber": 0,
                      "ASCOrder": null,
                      "ASCSubOrder": null,
                      "SoilType": "NZ_Sedimentary",
                      "LocalName": "Lismore",
                      "Site": "Winchmore",
                      "NearestTown": "Ashburton",
                      "Region": "Canterbury",
                      "State": null,
                      "Country": "New Zealand",
                      "NaturalVegetation": null,
                      "ApsoilNumber": null,
                      "Latitude": -48.48,
                      "Longitude": 0.0,
                      "LocationAccuracy": null,
                      "DataSource": null,
                      "Comments": null,
                      "Name": "LismoreSoil",
                      "Children": [
                        {
                          "$type": "Models.Soils.Chemical, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "NO3N": [
                            5.0,
                            2.5,
                            1.0,
                            0.75,
                            0.5,
                            0.5,
                            0.5
                          ],
                          "NH4N": [
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1
                          ],
                          "PH": [
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0
                          ],
                          "CL": null,
                          "EC": null,
                          "ESP": null,
                          "Name": "Chemical",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Physical, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "ParticleSizeClay": [
                            20.0,
                            15.0,
                            12.0,
                            8.0,
                            6.0,
                            5.0,
                            5.0
                          ],
                          "ParticleSizeSand": [
                            15.0,
                            20.0,
                            25.0,
                            35.0,
                            40.0,
                            40.0,
                            40.0
                          ],
                          "ParticleSizeSilt": [
                            65.0,
                            65.0,
                            63.0,
                            57.0,
                            54.0,
                            55.0,
                            55.0
                          ],
                          "BD": [
                            1.3,
                            1.35,
                            1.0,
                            0.53,
                            0.31,
                            0.3,
                            0.3
                          ],
                          "AirDry": [
                            0.05,
                            0.12,
                            0.055,
                            0.015,
                            0.01,
                            0.01,
                            0.01
                          ],
                          "LL15": [
                            0.15,
                            0.14,
                            0.055,
                            0.015,
                            0.01,
                            0.01,
                            0.01
                          ],
                          "DUL": [
                            0.36,
                            0.34,
                            0.19,
                            0.065,
                            0.04,
                            0.03,
                            0.03
                          ],
                          "SAT": [
                            0.45,
                            0.43,
                            0.25,
                            0.15,
                            0.11,
                            0.11,
                            0.11
                          ],
                          "KS": [
                            5000.0,
                            2500.0,
                            3000.0,
                            10000.0,
                            17500.0,
                            20000.0,
                            20000.0
                          ],
                          "BDMetadata": null,
                          "AirDryMetadata": null,
                          "LL15Metadata": null,
                          "DULMetadata": null,
                          "SATMetadata": null,
                          "KSMetadata": null,
                          "Name": "Physical",
                          "Children": [
                            {
                              "$type": "Models.Soils.SoilCrop, Models",
                              "LL": [
                                0.15,
                                0.14,
                                0.06,
                                0.02,
                                0.01,
                                0.01,
                                0.01
                              ],
                              "KL": [
                                0.1,
                                0.1,
                                0.08,
                                0.04,
                                0.01,
                                0.0,
                                0.0
                              ],
                              "XF": [
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                0.0,
                                0.0
                              ],
                              "LLMetadata": null,
                              "KLMetadata": null,
                              "XFMetadata": null,
                              "Name": "AGPRyegrassSoil",
                              "Children": [],
                              "IncludeInDocumentation": true,
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilCrop, Models",
                              "LL": [
                                0.15,
                                0.14,
                                0.06,
                                0.02,
                                0.01,
                                0.01,
                                0.01
                              ],
                              "KL": [
                                0.1,
                                0.1,
                                0.08,
                                0.04,
                                0.01,
                                0.0,
                                0.0
                              ],
                              "XF": [
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                0.0,
                                0.0
                              ],
                              "LLMetadata": null,
                              "KLMetadata": null,
                              "XFMetadata": null,
                              "Name": "WhiteCloverSoil",
                              "Children": [],
                              "IncludeInDocumentation": true,
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.WaterModel.WaterBalance, Models",
                          "SummerDate": "1-Nov",
                          "SummerU": 6.0,
                          "SummerCona": 3.5,
                          "WinterDate": "1-apr",
                          "WinterU": 2.0,
                          "WinterCona": 2.0,
                          "DiffusConst": 88.0,
                          "DiffusSlope": 35.0,
                          "Salb": 0.13,
                          "CN2Bare": 73.0,
                          "CNRed": 20.0,
                          "CNCov": 0.8,
                          "Slope": 0.0,
                          "DischargeWidth": 0.0,
                          "CatchmentArea": 0.0,
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "SWCON": [
                            0.5,
                            0.52,
                            0.55,
                            0.6,
                            0.65,
                            0.65,
                            0.65
                          ],
                          "KLAT": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "ResourceName": "WaterBalance",
                          "Name": "SoilWater",
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Organic, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "FOMCNRatio": 40.0,
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "Carbon": [
                            3.0,
                            1.0,
                            0.6,
                            0.4,
                            0.25,
                            0.15,
                            0.1
                          ],
                          "SoilCNRatio": [
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0
                          ],
                          "FBiom": [
                            0.04,
                            0.02,
                            0.02,
                            0.01,
                            0.01,
                            0.0,
                            0.0
                          ],
                          "FInert": [
                            0.5,
                            0.7,
                            0.83,
                            0.9,
                            0.95,
                            0.99,
                            0.99
                          ],
                          "FOM": [
                            331.337020409173,
                            245.46050190550559,
                            164.53709493722965,
                            121.89207790753734,
                            73.931282427002344,
                            40.574348067292682,
                            22.267674346259405
                          ],
                          "Name": "Organic",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.InitialWater, Models",
                          "PercentMethod": 1,
                          "FractionFull": 0.95,
                          "DepthWetSoil": "NaN",
                          "RelativeTo": null,
                          "Name": "Initial water",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Sample, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "NO3N": null,
                          "NH4N": null,
                          "SW": null,
                          "OC": null,
                          "EC": null,
                          "CL": null,
                          "ESP": null,
                          "PH": null,
                          "SWUnits": 0,
                          "OCUnits": 0,
                          "PHUnits": 0,
                          "Name": "Initial nitrogen",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.CERESSoilTemperature, Models",
                          "Name": "CERESSoilTemperature",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Nutrients.Nutrient, Models",
                          "ResourceName": "Nutrient",
                          "Name": "Nutrient",
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Report, Models",
                      "VariableNames": [
                        "[Clock].Today as Date",
                        "[Weather].Rain",
                        "[Weather].Radn",
                        "[Weather].MaxT",
                        "[Weather].MinT",
                        "[Weather].Wind",
                        "[Weather].VP",
                        "[ClimateController].Script.doControl as doControl",
                        "[ClimateController].Script.doControlInt as doControlInt"
                      ],
                      "EventNames": [
                        "[Clock].EndOfDay"
                      ],
                      "GroupByVariableName": null,
                      "Name": "Results",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowPageOfGraphs": true,
              "Name": "Plots",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Rainfall",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -11094807,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Rain",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Rainfall",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [
                    "EnableFrom01Jan",
                    "EnableFrom05Jan",
                    "EnableFrom15Jan"
                  ],
                  "LegendOutsideGraph": false,
                  "Name": "Radiation",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Radn",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Radiation",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "MinT",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.MinT",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "MinT",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "MaxT",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.MinT",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "MaxT",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Wind",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Wind",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Wind",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "VapourPressure",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.VP",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Wind",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "TestClimateControlValues",
      "Children": [
        {
          "$type": "Models.Memo, Models",
          "Text": "This series of simulations tests that the mulitpliers and additions to the various climate elements have been properly enabled.  There are four combinations tested:\r\n\r\n* The unmodified weather file (NoControl)\r\n* Multiply by 0 and add 0 so that the parameter value will be 0 (Mult0Add0)\r\n* Multiply by 0 and add 20 so that the parameter value will be 20 (Mult0Add20)\r\n* Multiply by 0.5 and add 0 so that the parameter value will be half that in the weather file (Mult0Add20)\r\n",
          "Name": "Tests of the climate settings",
          "Children": [],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Factorial.Experiment, Models",
          "DisabledSimNames": null,
          "Name": "ClimateControlTestValues",
          "Children": [
            {
              "$type": "Models.Factorial.Factors, Models",
              "Name": "Factors",
              "Children": [
                {
                  "$type": "Models.Factorial.Factor, Models",
                  "Specification": "",
                  "Name": "ClimateScenarios",
                  "Children": [
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=false",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=false",
                        "[ClimateController].Script.RainfallMultiplier=0",
                        "[ClimateController].Script.RainfallAddition=0",
                        "[ClimateController].Script.RadiationMultiplier=0",
                        "[ClimateController].Script.RadiationAddition=0",
                        "[ClimateController].Script.MinTMultiplier=0",
                        "[ClimateController].Script.MinTAddition=0",
                        "[ClimateController].Script.MaxTMultiplier=0",
                        "[ClimateController].Script.MaxTAddition=0",
                        "[ClimateController].Script.WindMultiplier=0",
                        "[ClimateController].Script.WindAddition=0",
                        "[ClimateController].Script.VPMultiplier=0",
                        "[ClimateController].Script.VPAddition=0"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "NoControl",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=false",
                        "[ClimateController].Script.RainfallMultiplier=0",
                        "[ClimateController].Script.RainfallAddition=0",
                        "[ClimateController].Script.RadiationMultiplier=0",
                        "[ClimateController].Script.RadiationAddition=0",
                        "[ClimateController].Script.MinTMultiplier=0",
                        "[ClimateController].Script.MinTAddition=0",
                        "[ClimateController].Script.MaxTMultiplier=0",
                        "[ClimateController].Script.MaxTAddition=0",
                        "[ClimateController].Script.WindMultiplier=0",
                        "[ClimateController].Script.WindAddition=0",
                        "[ClimateController].Script.VPMultiplier=0",
                        "[ClimateController].Script.VPAddition=0"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Mult0Add0",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=false",
                        "[ClimateController].Script.RainfallMultiplier=0",
                        "[ClimateController].Script.RainfallAddition=20",
                        "[ClimateController].Script.RadiationMultiplier=0",
                        "[ClimateController].Script.RadiationAddition=20",
                        "[ClimateController].Script.MinTMultiplier=0",
                        "[ClimateController].Script.MinTAddition=20",
                        "[ClimateController].Script.MaxTMultiplier=0",
                        "[ClimateController].Script.MaxTAddition=20",
                        "[ClimateController].Script.WindMultiplier=0",
                        "[ClimateController].Script.WindAddition=20",
                        "[ClimateController].Script.VPMultiplier=0",
                        "[ClimateController].Script.VPAddition=20"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "Mult0Add20",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Factorial.CompositeFactor, Models",
                      "Specifications": [
                        "[ClimateController].Script.AllowControl=true",
                        "[ClimateController].Script.EnableDate=1980-1-01",
                        "[ClimateController].Script.WithinYearControl=false",
                        "[ClimateController].Script.RainfallMultiplier=0.5",
                        "[ClimateController].Script.RainfallAddition=0",
                        "[ClimateController].Script.RadiationMultiplier=0.5",
                        "[ClimateController].Script.RadiationAddition=0",
                        "[ClimateController].Script.MinTMultiplier=0.5",
                        "[ClimateController].Script.MinTAddition=0",
                        "[ClimateController].Script.MaxTMultiplier=0.5",
                        "[ClimateController].Script.MaxTAddition=0",
                        "[ClimateController].Script.WindMultiplier=0.5",
                        "[ClimateController].Script.WindAddition=0",
                        "[ClimateController].Script.VPMultiplier=0.5",
                        "[ClimateController].Script.VPAddition=0"
                      ],
                      "Paths": null,
                      "Values": null,
                      "Name": "MultHalfAdd0",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Simulation, Models",
              "IsRunning": false,
              "Name": "ClimateControl1",
              "Children": [
                {
                  "$type": "Models.Clock, Models",
                  "Start": "1980-01-01T00:00:00",
                  "End": "1981-01-31T00:00:00",
                  "Name": "Clock",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Weather, Models",
                  "FileName": "%root%\\Examples\\WeatherFiles\\lincoln.met",
                  "ExcelWorkSheetName": null,
                  "Name": "Weather",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        // - Links to APSIM models\r\n        [Link] Zone zone;\r\n        [Link] Clock clock;\r\n        [Link] Weather weather;\r\n        [Link] ISummary summary = null;\r\n\r\n        // - Paramters for this manager\r\n        [Description(\"Enable? Set to 'No' to completely disable this manager\")] public bool AllowControl { get; set; }\r\n\r\n        [Separator(\"General settings\")]\r\n        [Description(\"Start the climate controls beginning on date (dd/mmm/yyyy): \")] public DateTime EnableDate { get; set; }\r\n        [Description(\"Implement climate control only during part of the year?\")] public bool WithinYearControl { get; set; }\r\n        [Description(\"Within each year, the first day to start the climate controls is (dd-mmm)\")] public string ControlStart { get; set; }\r\n        [Description(\"Within each year, end last day of climate control is (dd-mmm)\")] public string ControlEnd { get; set; }\r\n\r\n        [Separator(\"Rainfall\")]\r\n        [Description(\"Rainfall multiplier (-): \")] public double RainfallMultiplier { get; set; }\r\n        [Description(\"Rainfall addition (mm): \")] public double RainfallAddition { get; set; }\r\n\r\n        [Separator(\"Radiation\")]\r\n        [Description(\"Radiation multiplier (-): \")] public double RadiationMultiplier { get; set; }\r\n        [Description(\"Radiation addition (MJ/m2): \")] public double RadiationAddition { get; set; }\r\n\r\n        [Separator(\"Minimum temperature\")]\r\n        [Description(\"Minimum temperature multiplier (-): \")] public double MinTMultiplier { get; set; }\r\n        [Description(\"Minimum temperature addition (C): \")] public double MinTAddition { get; set; }\r\n\r\n        [Separator(\"Maximum temperature\")]\r\n        [Description(\"Maximum temperature multiplier (-): \")] public double MaxTMultiplier { get; set; }\r\n        [Description(\"Maximum temperature addition (C): \")] public double MaxTAddition { get; set; }\r\n\r\n        [Separator(\"Wind speed\")]\r\n        [Description(\"Wind speed multiplier (-): \")] public double WindMultiplier { get; set; }\r\n        [Description(\"Wind speed addition (m/s): \")] public double WindAddition { get; set; }\r\n\r\n        [Separator(\"Vapour pressure\")]\r\n        [Description(\"Vapour pressure multiplier (-): \")] public double VPMultiplier { get; set; }\r\n        [Description(\"Vapour pressure addition (hPa): \")] public double VPAddition { get; set; }\r\n\r\n        [XmlIgnore] public bool DoControl { get; set; }\r\n        [XmlIgnore] public int DoControlInt { get; set; }\r\n\r\n        [EventSubscribe(\"PreparingNewWeatherData\")] private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            // Check if this manager is enabled\r\n            if ((AllowControl) && (clock.Today >= EnableDate))\r\n            {\r\n                DoControl = true;\r\n                if (WithinYearControl)\r\n                    DoControl = DateUtilities.WithinDates(ControlStart, clock.Today, ControlEnd); \r\n            }\r\n\r\n            if (DoControl)\r\n                DoControlInt = 1;\r\n            else\r\n                DoControlInt = 0;\r\n\r\n            if (DoControl)\r\n            {\r\n                // do the weather alterations \r\n                weather.Rain = RainfallMultiplier * weather.Rain + RainfallAddition;\r\n                weather.Radn = RadiationMultiplier * weather.Radn + RadiationAddition;\r\n                weather.MinT = MinTMultiplier * weather.MinT + MinTAddition;\r\n                weather.MaxT = MaxTMultiplier * weather.MaxT + MaxTAddition;\r\n                weather.Wind = WindMultiplier * weather.Wind + WindAddition;\r\n                weather.VP = VPMultiplier * weather.VP + VPAddition;\r\n            }\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "AllowControl",
                      "Value": "True"
                    },
                    {
                      "Key": "EnableDate",
                      "Value": "1980-01-15"
                    },
                    {
                      "Key": "WithinYearControl",
                      "Value": "False"
                    },
                    {
                      "Key": "ControlStart",
                      "Value": "15-jan"
                    },
                    {
                      "Key": "ControlEnd",
                      "Value": "20-jan"
                    },
                    {
                      "Key": "RainfallMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "RainfallAddition",
                      "Value": "15"
                    },
                    {
                      "Key": "RadiationMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "RadiationAddition",
                      "Value": "45"
                    },
                    {
                      "Key": "MinTMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "MinTAddition",
                      "Value": "35"
                    },
                    {
                      "Key": "MaxTMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "MaxTAddition",
                      "Value": "65"
                    },
                    {
                      "Key": "WindMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "WindAddition",
                      "Value": "15"
                    },
                    {
                      "Key": "VPMultiplier",
                      "Value": "0"
                    },
                    {
                      "Key": "VPAddition",
                      "Value": "30"
                    }
                  ],
                  "Name": "ClimateController",
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Summary, Models",
                  "CaptureErrors": true,
                  "CaptureWarnings": true,
                  "CaptureSummaryText": true,
                  "Name": "Summary",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
                  "Name": "SoilArbitrator",
                  "Children": [],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Zone, Models",
                  "Area": 1.0,
                  "Slope": 0.0,
                  "AspectAngle": 0.0,
                  "Altitude": 50.0,
                  "Name": "Field",
                  "Children": [
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 0.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "soil_albedo": 0.23,
                      "SoilHeatFluxFraction": 0.4,
                      "MinimumHeightDiffForNewLayer": 0.0,
                      "NightInterceptionFraction": 0.5,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Irrigation, Models",
                      "Name": "Irrigation",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Fertiliser, Models",
                      "Name": "Fertiliser",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                      "InitialResidueName": "Sward",
                      "InitialResidueType": "grass",
                      "InitialResidueMass": 1000.0,
                      "InitialStandingFraction": 0.0,
                      "InitialCPR": 0.0,
                      "InitialCNR": 15.0,
                      "ResourceName": "SurfaceOrganicMatter",
                      "Name": "SurfaceOrganicMatter",
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Soil, Models",
                      "RecordNumber": 0,
                      "ASCOrder": null,
                      "ASCSubOrder": null,
                      "SoilType": "NZ_Sedimentary",
                      "LocalName": "Lismore",
                      "Site": "Winchmore",
                      "NearestTown": "Ashburton",
                      "Region": "Canterbury",
                      "State": null,
                      "Country": "New Zealand",
                      "NaturalVegetation": null,
                      "ApsoilNumber": null,
                      "Latitude": -48.48,
                      "Longitude": 0.0,
                      "LocationAccuracy": null,
                      "DataSource": null,
                      "Comments": null,
                      "Name": "LismoreSoil",
                      "Children": [
                        {
                          "$type": "Models.Soils.Chemical, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "NO3N": [
                            5.0,
                            2.5,
                            1.0,
                            0.75,
                            0.5,
                            0.5,
                            0.5
                          ],
                          "NH4N": [
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1
                          ],
                          "PH": [
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0,
                            6.0
                          ],
                          "CL": null,
                          "EC": null,
                          "ESP": null,
                          "Name": "Chemical",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Physical, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "ParticleSizeClay": [
                            20.0,
                            15.0,
                            12.0,
                            8.0,
                            6.0,
                            5.0,
                            5.0
                          ],
                          "ParticleSizeSand": [
                            15.0,
                            20.0,
                            25.0,
                            35.0,
                            40.0,
                            40.0,
                            40.0
                          ],
                          "ParticleSizeSilt": [
                            65.0,
                            65.0,
                            63.0,
                            57.0,
                            54.0,
                            55.0,
                            55.0
                          ],
                          "BD": [
                            1.3,
                            1.35,
                            1.0,
                            0.53,
                            0.31,
                            0.3,
                            0.3
                          ],
                          "AirDry": [
                            0.05,
                            0.12,
                            0.055,
                            0.015,
                            0.01,
                            0.01,
                            0.01
                          ],
                          "LL15": [
                            0.15,
                            0.14,
                            0.055,
                            0.015,
                            0.01,
                            0.01,
                            0.01
                          ],
                          "DUL": [
                            0.36,
                            0.34,
                            0.19,
                            0.065,
                            0.04,
                            0.03,
                            0.03
                          ],
                          "SAT": [
                            0.45,
                            0.43,
                            0.25,
                            0.15,
                            0.11,
                            0.11,
                            0.11
                          ],
                          "KS": [
                            5000.0,
                            2500.0,
                            3000.0,
                            10000.0,
                            17500.0,
                            20000.0,
                            20000.0
                          ],
                          "BDMetadata": null,
                          "AirDryMetadata": null,
                          "LL15Metadata": null,
                          "DULMetadata": null,
                          "SATMetadata": null,
                          "KSMetadata": null,
                          "Name": "Physical",
                          "Children": [
                            {
                              "$type": "Models.Soils.SoilCrop, Models",
                              "LL": [
                                0.15,
                                0.14,
                                0.06,
                                0.02,
                                0.01,
                                0.01,
                                0.01
                              ],
                              "KL": [
                                0.1,
                                0.1,
                                0.08,
                                0.04,
                                0.01,
                                0.0,
                                0.0
                              ],
                              "XF": [
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                0.0,
                                0.0
                              ],
                              "LLMetadata": null,
                              "KLMetadata": null,
                              "XFMetadata": null,
                              "Name": "AGPRyegrassSoil",
                              "Children": [],
                              "IncludeInDocumentation": true,
                              "Enabled": true,
                              "ReadOnly": false
                            },
                            {
                              "$type": "Models.Soils.SoilCrop, Models",
                              "LL": [
                                0.15,
                                0.14,
                                0.06,
                                0.02,
                                0.01,
                                0.01,
                                0.01
                              ],
                              "KL": [
                                0.1,
                                0.1,
                                0.08,
                                0.04,
                                0.01,
                                0.0,
                                0.0
                              ],
                              "XF": [
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                0.0,
                                0.0
                              ],
                              "LLMetadata": null,
                              "KLMetadata": null,
                              "XFMetadata": null,
                              "Name": "WhiteCloverSoil",
                              "Children": [],
                              "IncludeInDocumentation": true,
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.WaterModel.WaterBalance, Models",
                          "SummerDate": "1-Nov",
                          "SummerU": 6.0,
                          "SummerCona": 3.5,
                          "WinterDate": "1-apr",
                          "WinterU": 2.0,
                          "WinterCona": 2.0,
                          "DiffusConst": 88.0,
                          "DiffusSlope": 35.0,
                          "Salb": 0.13,
                          "CN2Bare": 73.0,
                          "CNRed": 20.0,
                          "CNCov": 0.8,
                          "Slope": 0.0,
                          "DischargeWidth": 0.0,
                          "CatchmentArea": 0.0,
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "SWCON": [
                            0.5,
                            0.52,
                            0.55,
                            0.6,
                            0.65,
                            0.65,
                            0.65
                          ],
                          "KLAT": [
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0,
                            0.0
                          ],
                          "ResourceName": "WaterBalance",
                          "Name": "SoilWater",
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Organic, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "FOMCNRatio": 40.0,
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "Carbon": [
                            3.0,
                            1.0,
                            0.6,
                            0.4,
                            0.25,
                            0.15,
                            0.1
                          ],
                          "SoilCNRatio": [
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0,
                            12.0
                          ],
                          "FBiom": [
                            0.04,
                            0.02,
                            0.02,
                            0.01,
                            0.01,
                            0.0,
                            0.0
                          ],
                          "FInert": [
                            0.5,
                            0.7,
                            0.83,
                            0.9,
                            0.95,
                            0.99,
                            0.99
                          ],
                          "FOM": [
                            331.337020409173,
                            245.46050190550559,
                            164.53709493722965,
                            121.89207790753734,
                            73.931282427002344,
                            40.574348067292682,
                            22.267674346259405
                          ],
                          "Name": "Organic",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.InitialWater, Models",
                          "PercentMethod": 1,
                          "FractionFull": 0.95,
                          "DepthWetSoil": "NaN",
                          "RelativeTo": null,
                          "Name": "Initial water",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Sample, Models",
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-50",
                            "50-65",
                            "65-90",
                            "90-120",
                            "120-150"
                          ],
                          "Thickness": [
                            150.0,
                            150.0,
                            200.0,
                            150.0,
                            250.0,
                            300.0,
                            300.0
                          ],
                          "NO3N": null,
                          "NH4N": null,
                          "SW": null,
                          "OC": null,
                          "EC": null,
                          "CL": null,
                          "ESP": null,
                          "PH": null,
                          "SWUnits": 0,
                          "OCUnits": 0,
                          "PHUnits": 0,
                          "Name": "Initial nitrogen",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.CERESSoilTemperature, Models",
                          "Name": "CERESSoilTemperature",
                          "Children": [],
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Nutrients.Nutrient, Models",
                          "ResourceName": "Nutrient",
                          "Name": "Nutrient",
                          "IncludeInDocumentation": true,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Report, Models",
                      "VariableNames": [
                        "[Clock].Today as Date",
                        "[Weather].Rain",
                        "[Weather].Radn",
                        "[Weather].MaxT",
                        "[Weather].MinT",
                        "[Weather].Wind",
                        "[Weather].VP",
                        "[ClimateController].Script.doControl as doControl",
                        "[ClimateController].Script.doControlInt as doControlInt"
                      ],
                      "EventNames": [
                        "[Clock].EndOfDay"
                      ],
                      "GroupByVariableName": null,
                      "Name": "Results",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Folder, Models",
              "ShowPageOfGraphs": true,
              "Name": "Plots",
              "Children": [
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Rainfall",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -11094807,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Rain",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": true,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Rainfall",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Radiation",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Radn",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Radiation",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "MinT",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.MinT",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "MinT",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "MaxT",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.MinT",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "MaxT",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "Wind",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.Wind",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Wind",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Graph, Models",
                  "Caption": null,
                  "Axis": [
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 0,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": false,
                      "CrossesAtZero": false
                    },
                    {
                      "$type": "Models.Axis, Models",
                      "Type": 3,
                      "Title": null,
                      "Inverted": false,
                      "Minimum": "NaN",
                      "Maximum": "NaN",
                      "Interval": "NaN",
                      "DateTimeAxis": true,
                      "CrossesAtZero": false
                    }
                  ],
                  "LegendPosition": 1,
                  "LegendOrientation": 0,
                  "DisabledSeries": [],
                  "LegendOutsideGraph": false,
                  "Name": "VapourPressure",
                  "Children": [
                    {
                      "$type": "Models.Series, Models",
                      "Type": 1,
                      "XAxis": 3,
                      "YAxis": 0,
                      "ColourArgb": -16747854,
                      "FactorToVaryColours": "ClimateScenarios",
                      "FactorToVaryMarkers": null,
                      "FactorToVaryLines": null,
                      "Marker": 11,
                      "MarkerSize": 0,
                      "Line": 0,
                      "LineThickness": 0,
                      "TableName": "Results",
                      "XFieldName": "Date",
                      "YFieldName": "Weather.VP",
                      "X2FieldName": "",
                      "Y2FieldName": "",
                      "ShowInLegend": true,
                      "IncludeSeriesNameInLegend": false,
                      "Cumulative": false,
                      "CumulativeX": false,
                      "Filter": null,
                      "Name": "Wind",
                      "Children": [],
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": true,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "PracticalTest",
      "Children": [
        {
          "$type": "Models.Memo, Models",
          "Text": "This test has two simulations.  The first is DalbyWheat with unmodified rainfall and in the second the rainfall is doubled.",
          "Name": "A test showing a practical example",
          "Children": [],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Graph, Models",
          "Caption": null,
          "Axis": [
            {
              "$type": "Models.Axis, Models",
              "Type": 3,
              "Title": "Date",
              "Inverted": false,
              "Minimum": "NaN",
              "Maximum": "NaN",
              "Interval": "NaN",
              "DateTimeAxis": false,
              "CrossesAtZero": false
            },
            {
              "$type": "Models.Axis, Models",
              "Type": 0,
              "Title": "Yield (kg/ha)",
              "Inverted": false,
              "Minimum": "NaN",
              "Maximum": "NaN",
              "Interval": "NaN",
              "DateTimeAxis": false,
              "CrossesAtZero": false
            }
          ],
          "LegendPosition": 0,
          "LegendOrientation": 0,
          "DisabledSeries": [],
          "LegendOutsideGraph": false,
          "Name": "Wheat Yield Time Series",
          "Children": [
            {
              "$type": "Models.Series, Models",
              "Type": 1,
              "XAxis": 3,
              "YAxis": 0,
              "ColourArgb": -16777216,
              "FactorToVaryColours": "SimulationName",
              "FactorToVaryMarkers": null,
              "FactorToVaryLines": null,
              "Marker": 0,
              "MarkerSize": 0,
              "Line": 0,
              "LineThickness": 0,
              "TableName": "Report",
              "XFieldName": "Clock.Today",
              "YFieldName": "Yield",
              "X2FieldName": "",
              "Y2FieldName": "",
              "ShowInLegend": true,
              "IncludeSeriesNameInLegend": false,
              "Cumulative": false,
              "CumulativeX": false,
              "Filter": null,
              "Name": "Wheat Yield",
              "Children": [],
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Name": "DalbyWheatNormalRainfall",
          "Children": [
            {
              "$type": "Models.Clock, Models",
              "Start": "1990-01-01T00:00:00",
              "End": "1995-12-31T00:00:00",
              "Name": "Clock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "CaptureErrors": true,
              "CaptureWarnings": true,
              "CaptureSummaryText": true,
              "Name": "SummaryFile",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Weather, Models",
              "FileName": "%root%\\Examples\\WeatherFiles\\Dalby.met",
              "ExcelWorkSheetName": null,
              "Name": "Weather",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "Field",
              "Children": [
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today",
                    "[Wheat].Phenology.Zadok.Stage",
                    "[Wheat].Phenology.CurrentStageName",
                    "[Wheat].AboveGround.Wt",
                    "[Wheat].AboveGround.N",
                    "[Wheat].Grain.Total.Wt*10 as Yield",
                    "[Wheat].Grain.Protein",
                    "[Wheat].Grain.Size",
                    "[Wheat].Grain.Number",
                    "[Wheat].Grain.Total.Wt",
                    "[Wheat].Grain.Total.N",
                    "[Wheat].Total.Wt"
                  ],
                  "EventNames": [
                    "[Wheat].Harvesting"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "Name": "Fertiliser",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 0,
                  "ASCOrder": "Vertosol",
                  "ASCSubOrder": "Black",
                  "SoilType": "Clay",
                  "LocalName": null,
                  "Site": "Norwin",
                  "NearestTown": "Norwin",
                  "Region": "Darling Downs and Granite Belt",
                  "State": "Queensland",
                  "Country": "Australia",
                  "NaturalVegetation": "Qld. Bluegrass, possible Qld. Blue gum",
                  "ApsoilNumber": "900",
                  "Latitude": -27.581836,
                  "Longitude": 151.320206,
                  "LocationAccuracy": " +/- 20m",
                  "DataSource": "CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project\"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011",
                  "Comments": "OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.01056473311131,
                        1.07145631083388,
                        1.09393858528057,
                        1.15861335018721,
                        1.17301160318016,
                        1.16287303586874,
                        1.18749547755906
                      ],
                      "AirDry": [
                        0.130250054518252,
                        0.198689390775399,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "LL15": [
                        0.260500109036505,
                        0.248361738469248,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "DUL": [
                        0.52100021807301,
                        0.496723476938497,
                        0.488437607673005,
                        0.480296969355493,
                        0.471583596524955,
                        0.457070570557793,
                        0.452331759845006
                      ],
                      "SAT": [
                        0.588654817693846,
                        0.565676863836273,
                        0.557192986686577,
                        0.532787415023694,
                        0.527354112007486,
                        0.531179986464627,
                        0.521888499034317
                      ],
                      "KS": [
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0
                      ],
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.261,
                            0.248,
                            0.28,
                            0.306,
                            0.36,
                            0.392,
                            0.446
                          ],
                          "KL": [
                            0.06,
                            0.06,
                            0.06,
                            0.04,
                            0.04,
                            0.02,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 5.0,
                      "SummerCona": 5.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 5.0,
                      "WinterCona": 5.0,
                      "DiffusConst": 40.0,
                      "DiffusSlope": 16.0,
                      "Salb": 0.12,
                      "CN2Bare": 73.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "SWCON": [
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "Carbon": [
                        1.2,
                        0.96,
                        0.6,
                        0.3,
                        0.18,
                        0.12,
                        0.12
                      ],
                      "SoilCNRatio": [
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0
                      ],
                      "FBiom": [
                        0.04,
                        0.02,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.4,
                        0.6,
                        0.8,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        347.12903231275641,
                        270.3443621919937,
                        163.97214434990104,
                        99.454132887040629,
                        60.321980831124677,
                        36.587130828674873,
                        22.1912165985086
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4N": [
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1
                      ],
                      "PH": [
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 1,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "OC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "EC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "CL": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 500.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Wheat",
                  "Name": "Wheat",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "soil_albedo": 0.3,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        \r\n        \r\n        [Description(\"Amount of fertiliser to be applied (kg/ha)\")]\r\n        public double Amount { get; set;}\r\n        \r\n        [Description(\"Crop to be fertilised\")]\r\n        public string CropName { get; set;}\r\n        \r\n        \r\n        \r\n\r\n        [EventSubscribe(\"Sowing\")]\r\n        private void OnSowing(object sender, EventArgs e)\r\n        {\r\n            Model crop = sender as Model;\r\n            if (crop.Name.ToLower()==CropName.ToLower())\r\n                Fertiliser.Apply(Amount: Amount, Type: Fertiliser.Types.NO3N);\r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "Amount",
                      "Value": "160"
                    },
                    {
                      "Key": "CropName",
                      "Value": "wheat"
                    }
                  ],
                  "Name": "SowingFertiliser",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link(ByName = true)] Plant Wheat;\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            if (Wheat.IsReadyForHarvesting)\r\n            {\r\n               Wheat.Harvest();\r\n               Wheat.EndCrop();    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [],
                  "Name": "Harvest",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        [Link(ByName = true)] Plant Wheat;\r\n        [Link] Soil Soil; \r\n        Accumulator accumulatedRain;\r\n        \r\n        [Description(\"Start of sowing window (d-mmm)\")]\r\n        public string StartDate { get; set;}\r\n        [Description(\"End of sowing window (d-mmm)\")]\r\n        public string EndDate { get; set;}\r\n        [Description(\"Minimum extractable soil water for sowing (mm)\")]\r\n        public double MinESW { get; set;}\r\n        [Description(\"Accumulated rainfall required for sowing (mm)\")]\r\n        public double MinRain { get; set;}\r\n        [Description(\"Duration of rainfall accumulation (d)\")]\r\n        public int RainDays { get; set;}\r\n        [Description(\"Cultivar to be sown\")]\r\n        [Display(Type=DisplayType.CultivarName)]\r\n        public string CultivarName { get; set;}\r\n        [Description(\"Sowing depth (mm)\")]\r\n        public double SowingDepth { get; set;}        \r\n        [Description(\"Row spacing (mm)\")]\r\n        public double RowSpacing { get; set;}    \r\n        [Description(\"Plant population (/m2)\")]\r\n        public double Population { get; set;}    \r\n        \r\n        \r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnSimulationCommencing(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain = new Accumulator(this, \"[Weather].Rain\", RainDays);\r\n        }\r\n        \r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain.Update();\r\n            \r\n            if (DateUtilities.WithinDates(StartDate,Clock.Today,EndDate) &&\r\n                !Wheat.IsAlive &&\r\n                MathUtilities.Sum(Soil.SoilWater.ESW) > MinESW &&\r\n                accumulatedRain.Sum > MinRain)\r\n            {\r\n               Wheat.Sow(population:Population, cultivar:CultivarName, depth:SowingDepth, rowSpacing:RowSpacing);    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "StartDate",
                      "Value": "1-may"
                    },
                    {
                      "Key": "EndDate",
                      "Value": "10-jul"
                    },
                    {
                      "Key": "MinESW",
                      "Value": "100"
                    },
                    {
                      "Key": "MinRain",
                      "Value": "5"
                    },
                    {
                      "Key": "RainDays",
                      "Value": "7"
                    },
                    {
                      "Key": "CultivarName",
                      "Value": "Hartog"
                    },
                    {
                      "Key": "SowingDepth",
                      "Value": "30"
                    },
                    {
                      "Key": "RowSpacing",
                      "Value": "250"
                    },
                    {
                      "Key": "Population",
                      "Value": "120"
                    }
                  ],
                  "Name": "SowingRule1",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": false,
          "Enabled": true,
          "ReadOnly": false
        },
        {
          "$type": "Models.Core.Simulation, Models",
          "IsRunning": false,
          "Name": "DalbyWheatDoubleRainfall",
          "Children": [
            {
              "$type": "Models.Clock, Models",
              "Start": "1990-01-01T00:00:00",
              "End": "1995-12-31T00:00:00",
              "Name": "Clock",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Summary, Models",
              "CaptureErrors": true,
              "CaptureWarnings": true,
              "CaptureSummaryText": true,
              "Name": "SummaryFile",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Weather, Models",
              "FileName": "%root%\\Examples\\WeatherFiles\\Dalby.met",
              "ExcelWorkSheetName": null,
              "Name": "Weather",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Manager, Models",
              "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System.Xml.Serialization;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        // - Links to APSIM models\r\n        [Link] Zone zone;\r\n        [Link] Clock clock;\r\n        [Link] Weather weather;\r\n        [Link] ISummary summary = null;\r\n\r\n        // - Paramters for this manager\r\n        [Description(\"Enable? Set to 'No' to completely disable this manager\")] public bool AllowControl { get; set; }\r\n\r\n        [Separator(\"General settings\")]\r\n        [Description(\"Start the climate controls beginning on date (dd/mmm/yyyy): \")] public DateTime EnableDate { get; set; }\r\n        [Description(\"Implement climate control only during part of the year?\")] public bool WithinYearControl { get; set; }\r\n        [Description(\"Within each year, the first day to start the climate controls is (dd-mmm)\")] public string ControlStart { get; set; }\r\n        [Description(\"Within each year, end last day of climate control is (dd-mmm)\")] public string ControlEnd { get; set; }\r\n\r\n        [Separator(\"Rainfall\")]\r\n        [Description(\"Rainfall multiplier (-): \")] public double RainfallMultiplier { get; set; }\r\n        [Description(\"Rainfall addition (mm): \")] public double RainfallAddition { get; set; }\r\n\r\n        [Separator(\"Radiation\")]\r\n        [Description(\"Radiation multiplier (-): \")] public double RadiationMultiplier { get; set; }\r\n        [Description(\"Radiation addition (MJ/m2): \")] public double RadiationAddition { get; set; }\r\n\r\n        [Separator(\"Minimum temperature\")]\r\n        [Description(\"Minimum temperature multiplier (-): \")] public double MinTMultiplier { get; set; }\r\n        [Description(\"Minimum temperature addition (C): \")] public double MinTAddition { get; set; }\r\n\r\n        [Separator(\"Maximum temperature\")]\r\n        [Description(\"Maximum temperature multiplier (-): \")] public double MaxTMultiplier { get; set; }\r\n        [Description(\"Maximum temperature addition (C): \")] public double MaxTAddition { get; set; }\r\n\r\n        [Separator(\"Wind speed\")]\r\n        [Description(\"Wind speed multiplier (-): \")] public double WindMultiplier { get; set; }\r\n        [Description(\"Wind speed addition (m/s): \")] public double WindAddition { get; set; }\r\n\r\n        [Separator(\"Vapour pressure\")]\r\n        [Description(\"Vapour pressure multiplier (-): \")] public double VPMultiplier { get; set; }\r\n        [Description(\"Vapour pressure addition (hPa): \")] public double VPAddition { get; set; }\r\n\r\n        [XmlIgnore] public bool DoControl { get; set; }\r\n        [XmlIgnore] public int DoControlInt { get; set; }\r\n\r\n        [EventSubscribe(\"PreparingNewWeatherData\")] private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            // Check if this manager is enabled\r\n            if ((AllowControl) && (clock.Today >= EnableDate))\r\n            {\r\n                DoControl = true;\r\n                if (WithinYearControl)\r\n                    DoControl = DateUtilities.WithinDates(ControlStart, clock.Today, ControlEnd); \r\n            }\r\n\r\n            if (DoControl)\r\n                DoControlInt = 1;\r\n            else\r\n                DoControlInt = 0;\r\n\r\n            if (DoControl)\r\n            {\r\n                // do the weather alterations \r\n                weather.Rain = RainfallMultiplier * weather.Rain + RainfallAddition;\r\n                weather.Radn = RadiationMultiplier * weather.Radn + RadiationAddition;\r\n                weather.MinT = MinTMultiplier * weather.MinT + MinTAddition;\r\n                weather.MaxT = MaxTMultiplier * weather.MaxT + MaxTAddition;\r\n                weather.Wind = WindMultiplier * weather.Wind + WindAddition;\r\n                weather.VP = VPMultiplier * weather.VP + VPAddition;\r\n            }\r\n        }\r\n    }\r\n}\r\n",
              "Parameters": [
                {
                  "Key": "AllowControl",
                  "Value": "True"
                },
                {
                  "Key": "EnableDate",
                  "Value": "1990-01-01"
                },
                {
                  "Key": "WithinYearControl",
                  "Value": "False"
                },
                {
                  "Key": "ControlStart",
                  "Value": "01-jan"
                },
                {
                  "Key": "ControlEnd",
                  "Value": "31-dec"
                },
                {
                  "Key": "RainfallMultiplier",
                  "Value": "2"
                },
                {
                  "Key": "RainfallAddition",
                  "Value": "0"
                },
                {
                  "Key": "RadiationMultiplier",
                  "Value": "1"
                },
                {
                  "Key": "RadiationAddition",
                  "Value": "0"
                },
                {
                  "Key": "MinTMultiplier",
                  "Value": "1"
                },
                {
                  "Key": "MinTAddition",
                  "Value": "0"
                },
                {
                  "Key": "MaxTMultiplier",
                  "Value": "1"
                },
                {
                  "Key": "MaxTAddition",
                  "Value": "0"
                },
                {
                  "Key": "WindMultiplier",
                  "Value": "1"
                },
                {
                  "Key": "WindAddition",
                  "Value": "0"
                },
                {
                  "Key": "VPMultiplier",
                  "Value": "1"
                },
                {
                  "Key": "VPAddition",
                  "Value": "0"
                }
              ],
              "Name": "ClimateController",
              "IncludeInDocumentation": true,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Soils.Arbitrator.SoilArbitrator, Models",
              "Name": "SoilArbitrator",
              "Children": [],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            },
            {
              "$type": "Models.Core.Zone, Models",
              "Area": 1.0,
              "Slope": 0.0,
              "AspectAngle": 0.0,
              "Altitude": 50.0,
              "Name": "Field",
              "Children": [
                {
                  "$type": "Models.Report, Models",
                  "VariableNames": [
                    "[Clock].Today",
                    "[Wheat].Phenology.Zadok.Stage",
                    "[Wheat].Phenology.CurrentStageName",
                    "[Wheat].AboveGround.Wt",
                    "[Wheat].AboveGround.N",
                    "[Wheat].Grain.Total.Wt*10 as Yield",
                    "[Wheat].Grain.Protein",
                    "[Wheat].Grain.Size",
                    "[Wheat].Grain.Number",
                    "[Wheat].Grain.Total.Wt",
                    "[Wheat].Grain.Total.N",
                    "[Wheat].Total.Wt"
                  ],
                  "EventNames": [
                    "[Wheat].Harvesting"
                  ],
                  "GroupByVariableName": null,
                  "Name": "Report",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Fertiliser, Models",
                  "Name": "Fertiliser",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Soils.Soil, Models",
                  "RecordNumber": 0,
                  "ASCOrder": "Vertosol",
                  "ASCSubOrder": "Black",
                  "SoilType": "Clay",
                  "LocalName": null,
                  "Site": "Norwin",
                  "NearestTown": "Norwin",
                  "Region": "Darling Downs and Granite Belt",
                  "State": "Queensland",
                  "Country": "Australia",
                  "NaturalVegetation": "Qld. Bluegrass, possible Qld. Blue gum",
                  "ApsoilNumber": "900",
                  "Latitude": -27.581836,
                  "Longitude": 151.320206,
                  "LocationAccuracy": " +/- 20m",
                  "DataSource": "CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project\"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011",
                  "Comments": "OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1",
                  "Name": "Soil",
                  "Children": [
                    {
                      "$type": "Models.Soils.Physical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "ParticleSizeClay": null,
                      "ParticleSizeSand": null,
                      "ParticleSizeSilt": null,
                      "BD": [
                        1.01056473311131,
                        1.07145631083388,
                        1.09393858528057,
                        1.15861335018721,
                        1.17301160318016,
                        1.16287303586874,
                        1.18749547755906
                      ],
                      "AirDry": [
                        0.130250054518252,
                        0.198689390775399,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "LL15": [
                        0.260500109036505,
                        0.248361738469248,
                        0.28,
                        0.28,
                        0.28,
                        0.28,
                        0.28
                      ],
                      "DUL": [
                        0.52100021807301,
                        0.496723476938497,
                        0.488437607673005,
                        0.480296969355493,
                        0.471583596524955,
                        0.457070570557793,
                        0.452331759845006
                      ],
                      "SAT": [
                        0.588654817693846,
                        0.565676863836273,
                        0.557192986686577,
                        0.532787415023694,
                        0.527354112007486,
                        0.531179986464627,
                        0.521888499034317
                      ],
                      "KS": [
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0,
                        20.0
                      ],
                      "BDMetadata": null,
                      "AirDryMetadata": null,
                      "LL15Metadata": null,
                      "DULMetadata": null,
                      "SATMetadata": null,
                      "KSMetadata": null,
                      "Name": "Physical",
                      "Children": [
                        {
                          "$type": "Models.Soils.SoilCrop, Models",
                          "LL": [
                            0.261,
                            0.248,
                            0.28,
                            0.306,
                            0.36,
                            0.392,
                            0.446
                          ],
                          "KL": [
                            0.06,
                            0.06,
                            0.06,
                            0.04,
                            0.04,
                            0.02,
                            0.01
                          ],
                          "XF": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "LLMetadata": null,
                          "KLMetadata": null,
                          "XFMetadata": null,
                          "Name": "WheatSoil",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.WaterModel.WaterBalance, Models",
                      "SummerDate": "1-Nov",
                      "SummerU": 5.0,
                      "SummerCona": 5.0,
                      "WinterDate": "1-Apr",
                      "WinterU": 5.0,
                      "WinterCona": 5.0,
                      "DiffusConst": 40.0,
                      "DiffusSlope": 16.0,
                      "Salb": 0.12,
                      "CN2Bare": 73.0,
                      "CNRed": 20.0,
                      "CNCov": 0.8,
                      "Slope": "NaN",
                      "DischargeWidth": "NaN",
                      "CatchmentArea": "NaN",
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "SWCON": [
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3,
                        0.3
                      ],
                      "KLAT": null,
                      "ResourceName": "WaterBalance",
                      "Name": "SoilWater",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Organic, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "FOMCNRatio": 40.0,
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "Carbon": [
                        1.2,
                        0.96,
                        0.6,
                        0.3,
                        0.18,
                        0.12,
                        0.12
                      ],
                      "SoilCNRatio": [
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0,
                        12.0
                      ],
                      "FBiom": [
                        0.04,
                        0.02,
                        0.02,
                        0.02,
                        0.01,
                        0.01,
                        0.01
                      ],
                      "FInert": [
                        0.4,
                        0.6,
                        0.8,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "FOM": [
                        347.12903231275641,
                        270.3443621919937,
                        163.97214434990104,
                        99.454132887040629,
                        60.321980831124677,
                        36.587130828674873,
                        22.1912165985086
                      ],
                      "Name": "Organic",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Chemical, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": [
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0,
                        1.0
                      ],
                      "NH4N": [
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1,
                        0.1
                      ],
                      "PH": [
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0,
                        8.0
                      ],
                      "CL": null,
                      "EC": null,
                      "ESP": null,
                      "Name": "Chemical",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.InitialWater, Models",
                      "PercentMethod": 1,
                      "FractionFull": 1.0,
                      "DepthWetSoil": "NaN",
                      "RelativeTo": null,
                      "Name": "InitialWater",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Sample, Models",
                      "Depth": [
                        "0-15",
                        "15-30",
                        "30-60",
                        "60-90",
                        "90-120",
                        "120-150",
                        "150-180"
                      ],
                      "Thickness": [
                        150.0,
                        150.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0,
                        300.0
                      ],
                      "NO3N": null,
                      "NH4N": null,
                      "SW": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "OC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "EC": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "CL": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "ESP": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "PH": [
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN",
                        "NaN"
                      ],
                      "SWUnits": 0,
                      "OCUnits": 0,
                      "PHUnits": 0,
                      "Name": "InitialN",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.CERESSoilTemperature, Models",
                      "Name": "CERESSoilTemperature",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Nutrients.Nutrient, Models",
                      "ResourceName": "Nutrient",
                      "Name": "Nutrient",
                      "IncludeInDocumentation": true,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                  "InitialResidueName": "wheat_stubble",
                  "InitialResidueType": "wheat",
                  "InitialResidueMass": 500.0,
                  "InitialStandingFraction": 0.0,
                  "InitialCPR": 0.0,
                  "InitialCNR": 100.0,
                  "ResourceName": "SurfaceOrganicMatter",
                  "Name": "SurfaceOrganicMatter",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.PMF.Plant, Models",
                  "ResourceName": "Wheat",
                  "Name": "Wheat",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.MicroClimate, Models",
                  "a_interception": 0.0,
                  "b_interception": 1.0,
                  "c_interception": 0.0,
                  "d_interception": 0.0,
                  "soil_albedo": 0.3,
                  "SoilHeatFluxFraction": 0.4,
                  "MinimumHeightDiffForNewLayer": 0.0,
                  "NightInterceptionFraction": 0.5,
                  "ReferenceHeight": 2.0,
                  "Name": "MicroClimate",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        \r\n        \r\n        [Description(\"Amount of fertiliser to be applied (kg/ha)\")]\r\n        public double Amount { get; set;}\r\n        \r\n        [Description(\"Crop to be fertilised\")]\r\n        public string CropName { get; set;}\r\n        \r\n        \r\n        \r\n\r\n        [EventSubscribe(\"Sowing\")]\r\n        private void OnSowing(object sender, EventArgs e)\r\n        {\r\n            Model crop = sender as Model;\r\n            if (crop.Name.ToLower()==CropName.ToLower())\r\n                Fertiliser.Apply(Amount: Amount, Type: Fertiliser.Types.NO3N);\r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "Amount",
                      "Value": "160"
                    },
                    {
                      "Key": "CropName",
                      "Value": "wheat"
                    }
                  ],
                  "Name": "SowingFertiliser",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link(ByName = true)] Plant Wheat;\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            if (Wheat.IsReadyForHarvesting)\r\n            {\r\n               Wheat.Harvest();\r\n               Wheat.EndCrop();    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [],
                  "Name": "Harvest",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using APSIM.Shared.Utilities;\r\nusing Models.Utilities;\r\nusing Models.Soils.Nutrients;\r\nusing Models.Soils;\r\nusing Models.PMF;\r\nusing Models.Core;\r\nusing System;\r\nusing System.Linq;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Clock;\r\n        [Link] Fertiliser Fertiliser;\r\n        [Link] Summary Summary;\r\n        [Link(ByName = true)] Plant Wheat;\r\n        [Link] Soil Soil; \r\n        Accumulator accumulatedRain;\r\n        \r\n        [Description(\"Start of sowing window (d-mmm)\")]\r\n        public string StartDate { get; set;}\r\n        [Description(\"End of sowing window (d-mmm)\")]\r\n        public string EndDate { get; set;}\r\n        [Description(\"Minimum extractable soil water for sowing (mm)\")]\r\n        public double MinESW { get; set;}\r\n        [Description(\"Accumulated rainfall required for sowing (mm)\")]\r\n        public double MinRain { get; set;}\r\n        [Description(\"Duration of rainfall accumulation (d)\")]\r\n        public int RainDays { get; set;}\r\n        [Description(\"Cultivar to be sown\")]\r\n        [Display(Type=DisplayType.CultivarName)]\r\n        public string CultivarName { get; set;}\r\n        [Description(\"Sowing depth (mm)\")]\r\n        public double SowingDepth { get; set;}        \r\n        [Description(\"Row spacing (mm)\")]\r\n        public double RowSpacing { get; set;}    \r\n        [Description(\"Plant population (/m2)\")]\r\n        public double Population { get; set;}    \r\n        \r\n        \r\n        [EventSubscribe(\"StartOfSimulation\")]\r\n        private void OnSimulationCommencing(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain = new Accumulator(this, \"[Weather].Rain\", RainDays);\r\n        }\r\n        \r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            accumulatedRain.Update();\r\n            \r\n            if (DateUtilities.WithinDates(StartDate,Clock.Today,EndDate) &&\r\n                !Wheat.IsAlive &&\r\n                MathUtilities.Sum(Soil.SoilWater.ESW) > MinESW &&\r\n                accumulatedRain.Sum > MinRain)\r\n            {\r\n               Wheat.Sow(population:Population, cultivar:CultivarName, depth:SowingDepth, rowSpacing:RowSpacing);    \r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "StartDate",
                      "Value": "1-may"
                    },
                    {
                      "Key": "EndDate",
                      "Value": "10-jul"
                    },
                    {
                      "Key": "MinESW",
                      "Value": "100"
                    },
                    {
                      "Key": "MinRain",
                      "Value": "5"
                    },
                    {
                      "Key": "RainDays",
                      "Value": "7"
                    },
                    {
                      "Key": "CultivarName",
                      "Value": "Hartog"
                    },
                    {
                      "Key": "SowingDepth",
                      "Value": "30"
                    },
                    {
                      "Key": "RowSpacing",
                      "Value": "250"
                    },
                    {
                      "Key": "Population",
                      "Value": "120"
                    }
                  ],
                  "Name": "SowingRule1",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": false,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    }
  ],
  "IncludeInDocumentation": true,
  "Enabled": true,
  "ReadOnly": false
}