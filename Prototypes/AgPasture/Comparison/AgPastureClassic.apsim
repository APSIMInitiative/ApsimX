<folder version="36" creator="Apsim 7.8-r3922" name="Simulations">
  <simulation name="OneSpecies">
    <clock>
      <start_date type="date" description="Enter the start date of the simulation">01/07/2000</start_date>
      <end_date type="date" description="Enter the end date of the simulation">30/06/2003</end_date>
    </clock>
    <metfile name="met">
      <filename name="filename" input="yes">%apsim%X\Tests\WeatherFiles\Ruakura.met</filename>
    </metfile>
    <summaryfile />
    <area name="AgPastureClassic">
      <folder name="Managers">
        <manager2 name="HarvestingAgPasture">
          <ui>
            <Dummy1 type="category" description="Setting up a harvesting rotation for AgPasture" />
            <CutPasture_StartDate type="ddmmmdate" description=" Enter the date to start the rotation (dd/mm/yyyy):">01/01/1900</CutPasture_StartDate>
            <CutPasture_EndDate type="ddmmmdate" description=" Enter the date to end the rotation (dd/mm/yyyy):">31/12/2100</CutPasture_EndDate>
            <Dummy2 type="category" description="Parameters defining the interval and amount to harvest" />
            <CutTriggerType type="list" listvalues="Fixed interval,Target interval,Target standing biomass" description=" Choose the trigger type, defines when harvests can occur:">Fixed interval</CutTriggerType>
            <Intervals2Cut type="text" description="   If trigger is interval between harvests, enter its value (days):">21</Intervals2Cut>
            <UpperThresholds type="text" description="   If trigger is the sward standing biomass, enter the amount (kgDM/ha):">2800</UpperThresholds>
            <RemoveAmountType type="list" listvalues="Set amount,Target amount,Given amounts down to residual DM,All herbage down to residual DM" description=" Choose how the amount to harvest will be defined:">All herbage down to residual DM</RemoveAmountType>
            <Amounts2Cut type="text" description="   If setting an amount, enter the value to harvest at each cut (kgDM/ha):">185</Amounts2Cut>
            <MinimumFraction type="text" description="      For target amount, enter the fraction of the target below which harvest is ignored (0-1):">0.33</MinimumFraction>
            <LowerThresholds type="text" description="   Enter the minimum residual standing biomass after cut (kgDM/ha):">1500</LowerThresholds>
            <Dummy3 type="category" description="Management of harvested material" />
            <ResidueTreatmentType type="list" listvalues="Return as residue,Return as dung &amp; urine" description=" Choose the treatment type for the harvested material:">Return as residue</ResidueTreatmentType>
            <DMRemovalOption type="list" listvalues="Based on herbage digestibility,type a fraction (0-1)" description=" Enter fraction of DM that is removed from the field (0-1):">1.0</DMRemovalOption>
            <FracN2Remove type="text" description=" Enter fraction of N that is removed from the field (0-1):">1.0</FracN2Remove>
            <Dummy4 type="category" description="   If returning residues as dung &amp; urine" />
            <UrineDepth type="text" description="    Enter the depth down to which urine will apllied (mm):">300</UrineDepth>
            <NinDungChoice type="list" listvalues="Set the proportion returned,Define the C:N ratio" description="    Choose how the N content in dung is defined:">Set the proportion returned</NinDungChoice>
            <FracN2Dung type="text" description="      If setting the proportion of N returned in dung, enter the value (0-1):">0.4</FracN2Dung>
            <CNratioDung type="text" description="      If defining the C:N ratio of dung, enter the value (approx. 10 to 20):">0.0</CNratioDung>
          </ui>
          <text>using System;
using ModelFramework;

//This manager sets up a cut/grazing rotation for AgPasture. It also handles the return of harvested material.
// The rotation is valid between two given dates only, these don't need to be bounded to the simulation dates (start date is set to simulation start date, if prior to it).
// Harvest is done on above ground standing DM, i.e. leaves plus stem/sheath (dead and green).
// Whether harvest can happen or not is evaluated in the first day (always), and thereof evaluations follow a trigger, varying for rotation types.
// + Cut trigger types:
//  - Fixed interval:
//     Cut is allowed at given days only (set by start rotation date and then at regular intervals);
//     Cut happens if amount to remove is set and/or if existing DM is greater than ResidualDM;
//     Cut is only allowed on the date selected, 'Can_Cut' is set to "no" at the end of the day;
//  - Target interval:
//     Cut is allowed from given days (begins at start rotation date and at regular intervals after last cut);
//     Cut happens if amount to remove is set and/or if existing DM is greater than ResidualDM;
//     Cut is allow from the date selected until something is harvested, only then 'Can_Cut' is set to "no";
//  - Target standing biomass:
//     Cut is allowed when existing DM reaches the target value;
//     Cut always happens, unless UpperThreshold is bellow the LowerThreshold (i.e. residual DM);
//     Cut is allowed until something is harvested (according to remove options), 'Can_Cut' is then set to "no";
//
// + Remove amount options:
//  - Set amount: The amount to remove is fixed, if this amount is not available, no cut is performed
//  - Target amount: The amount is the smallest of the given target value and difference between existing DM and the LowerThreshold (Residual DM);
//   » To avoid harvest of very small amounts a minimum fraction of the target value can be defined. If the existing amount is below that fraction the harvest is ignored.
//  - Given amounts down to residual DM: Amount to remove in a given day is given (which is limited to the difference to the minimum residual DM). However, harvest only stops
//    when standing DM reaches the LowerThreshold.  The minimum fraction to remove is also applied here to avoid very small amounts;
//  - All herbage down to residual DM: Amount to remove is the difference between existing DM and minimum residual DM (LowerThreshold);
//
// + Residue management options:
//  - Return as residue: A fraction of the DM harvested (plus the N on it) is added as grass residue to the surfaceOM module;
//  - Return as dung &amp; urine: A fraction of the amount harvested is returned to the soil as evenly distributed urine (urea) and dung;
//     This is a very simplified approach where the fractions of DM (i.e. carbon) and N to be removed are set separately. 
//     The fraction of dry matter (or carbon) to be removed can be set (0-1) or allowed to be calculated based on herbage digestibility.
//     The partition of N between urine and dung is set by the user by defining how N in dung is computed.
//     The DM and N to be returned as dung are added to surfaceOM 'RuminantDung_PastureFed'.
//     N urine is added as urea fertiliser, distributed from surface down to  a given depth. The proportion per layer decreases linearly with depth.
//  + Defining the N content in dung:
//    - Set proportion returned: A fraction of N not removed from the field is returned in the dung. The proportion returned as dung should be given.
//    - Define the C:N ratio: The C:N ratio for dung can be defined. Note that this option may alter the amount returned as urine (to ensure mass balance).

// » The values for few parameters can be entered as an array, these are interpreted as defining the rotation within a year, so the first value is assumed to be for 01/Jan,
//    the last value is for 31/Dec, and the values in between are spread evenly over the year. The value of the parameter for each day of the year is calculated 
//    dynamically by linear interpolation.  The parameters that can be set up as arrays are:
//    - Interval between harvests (Interval2Cut)
//    - The DM amount to trigger a harvest (UpperThreshold)
//    - The amount to remove on each harvest (Amount2Cut)
//    - The residual DM after harvest (LowerThreshold)

//--&gt;  Last uptaded in: 01/Oct/2015 ..................

public class Script
{
   //Parameter variables:
   [Param] private DateTime CutPasture_StartDate;  //Date to start the cutting rotation
   [Param] private DateTime CutPasture_EndDate;    //Date to end cutting rotation

   [Param] private string CutTriggerType;          //The cut trigger type (Fixed interval,Target interval,Target standing biomass)
   [Param] private double[] Intervals2Cut;         //The interval between cuts, used if cut trigger type is by interval (days), (values will be interpolated using DoY)
   [Param] private double[] UpperThresholds;       //The standing biomass amount to trigger a cut, if cut type is target biomass (kg/ha, standing DM [leaf+stem/sheath]), (values will be interpolated using DoY)

   [Param] private string RemoveAmountType;        //The way to compute how much pasture is cut (Set amount,Target amount,Given amounts down to residual DM, All herbage down to residual DM)
   [Param] private double[] Amounts2Cut;           //The amount of DM to be removed at each cut, limited to residual DM (LowerThreshold) (kg/ha, DM above ground), (values will be interpolated using DoY)
   [Param] private double MinimumFraction;         //The minimum fraction of harvest amount that is meaningful, below which harvest is ignored (for target amount)
   [Param] private double[] LowerThresholds;       //The minimum residual DM amount left after cut (kg/ha, DM above ground), (values will be interpolated using DoY)

   [Param] private string ResidueTreatmentType;    //The treatment to the material cut (Return as residue,Return as dung &amp; urine)
   [Param] private string DMRemovalOption;         //The option to define DM to remove (Based on herbage digestibility,type a fraction (0-1))
   [Param] private double FracN2Remove;            //Fraction of the N in the material cut that is removed from simulation (0-1)
   
   [Param] private double UrineDepth;              //The depth down to which urine will be applied (mm), proportion applied per layer decrease with depth
   [Param] private string NinDungChoice;           //The way N in dung is defined (Set proportion returned,Set CN ratio)
   [Param] private double FracN2Dung;              //The fraction of returned N that goes into dung, if return is as dung &amp; urine (0-1)
   [Param] private double CNratioDung;             //The C:N ratio of dung, if return is as dung and urine (~10-20)

   //Links and events:
   [Link] private Component MySelf;
   [Link] private AgPasture MyAgPasture;
   [Link] private Fertiliser MyFertiliser;
   [Link] private SurfaceOM MySurfaceOM;
   
   //Variables read from other modules
   [Input] private DateTime Today;     //Today's date
   [Input] private double[] dlayer;    //Today's day of year

   //Outputs
   [Output][Units("")] public string Can_Cut;                  //Whether today is a harvesting day
   [Output][Units("")] public string Has_Cut;                  //Whether today's harvest was done
   [Output][Units("kg/ha")] public double harvested_dm;        //Pasture DM harvested today (kg/ha)
   [Output][Units("kgN/ha")] public double harvested_n;        //N harvested today
   [Output][Units("kg/ha")] public double removed_dm;          //DM removed from the paddock
   [Output][Units("kgN/ha")] public double removed_n;          //N removed from the paddock
   [Output][Units("kgN/ha")] public double returned_dm;        //DM returned to the paddock
   [Output][Units("kgN/ha")] public double returned_n;         //N returned to the paddock
   [Output][Units("kgN/ha")] public double NReturnedInDung;    //N returned as dung (SurfaceOM)
   [Output][Units("kgN/ha")] public double NReturnedInUrine;   //N returned as urine (urea)
   [Output][Units("kg/ha/day")] public double GrowthRateCalc;  //Average growth rate for this cut
   [Output][Units("days")] public int DaysAfterCut;            //Number of days after last harvest
   [Output][Units("kg/ha")] public double PreHarvestDM;        //Total standing DM (Leaf + Stem/Sheath) before cut
   [Output][Units("kg/ha")] public double PostHarvestDM;       //Total standing DM (Leaf + Stem/Sheath) after cut
   [Output][Units("kg/ha")] public double ResidualDM;          //Today's residual DM
   [Output][Units("kg/ha")] public double TriggerDM;           //Today's trigger DM
   [Output][Units("kg/ha")] public double HarvestAmount;       //Today's DM amount to harvest
   [Output][Units("days")] public int CutInterval;             //Todays cut interval

   //Internal variables
   private double FracDM2Remove;       //The fraction of DM to be removed from the simulation (0-1)   
   private bool CutIsAllowed;          //Whether cutting are allowed
   private int[] LowerThresholdDays;   //The DoY for each value of lower threshold
   private int[] UpperThresholdDays;   //The DoY for each value of upper threshold
   private int[] Amount2HarvestDays;   //The DoY for each amount to cut given
   private int[] CutIntervalDays;      //The DoY for each given cut interval
   private double[] FracLayer;         //The fraction of urine to be applied in each layer

   [EventHandler()]
   public void OnInitialised()
   {
      //Set the arrays with days
      LowerThresholdDays = setDays(LowerThresholds.Length);
      UpperThresholdDays = setDays(UpperThresholds.Length);
      Amount2HarvestDays = setDays(Amounts2Cut.Length);
      CutIntervalDays = setDays(Intervals2Cut.Length);
      
      //Reset variables
      CutInterval = (int) InterpolateVals(Today.DayOfYear, CutIntervalDays, Intervals2Cut);
      ResidualDM = InterpolateVals(Today.DayOfYear, LowerThresholdDays, LowerThresholds);
      TriggerDM = InterpolateVals(Today.DayOfYear, UpperThresholdDays, UpperThresholds);
      HarvestAmount = InterpolateVals(Today.DayOfYear, Amount2HarvestDays, Amounts2Cut);
      DaysAfterCut = CutInterval - 1;
      CutIsAllowed = false;
      Can_Cut = "no";
      Has_Cut = "no";

      //The fraction of DM to remove
      // - DMRemovalOption can be a value (0-1 = FracDM2Remove) or a string, which tell us that FracDM2Remove is based on digestibility
      if (DMRemovalOption.Contains("digestibility"))
      {
         FracDM2Remove = MyAgPasture.DefoliatedDigestibility;
      }
      else
      {
         try
         {
            FracDM2Remove = Convert.ToDouble(DMRemovalOption);
            if ((FracDM2Remove &lt; 0.0) || (FracDM2Remove &gt; 1.0))
            {
               throw new Exception("Fraction of DM to remove is out of bounds");
            }
         } 
         catch 
         {
            throw new Exception("Fraction of DM to remove is not valid");
         }
      }
      
      //The fraction of N to remove
      if ((FracN2Remove &lt; 0.0) || (FracN2Remove &gt; 1.0))
      {
         throw new Exception("Fraction of N to remove is out of bounds");
      }
      
      //How to return residues (DM and N)
      if (ResidueTreatmentType.Contains("urine")) 
      {
         if (NinDungChoice.Contains("proportion")) 
         {
            if ((FracN2Dung &lt; 0.0) || (FracN2Dung &gt; 1.0))
            {
               throw new Exception("Proportion of N to return as dung is out of bounds");
            }
         } 
         else if (NinDungChoice.Contains("CN ratio")) 
         {
            if ((CNratioDung &lt; 0.0) || (CNratioDung &gt; 50.0))
            {
               throw new Exception("C:N ratio of dung is out of bounds");
            }
         } 
         else
         {
            throw new Exception("Choice for setting N content in dung is not valid");
         }
      }

      //compute the fraction of urine to be aplied per layer
      if (ResidueTreatmentType.Contains("urine"))
      {
         FracLayer = new double[dlayer.Length];
         double DepthFromSurface = 0.0;
         double dltZ = 0.0;
         for (int z = 0; z &lt; dlayer.Length;z++)
         {
            if(DepthFromSurface &lt; UrineDepth)
            {
               dltZ = Math.Min(dlayer[z], UrineDepth - DepthFromSurface);
               FracLayer[z] = 2 * dltZ * (1 - ((DepthFromSurface + 0.5 * dltZ) / UrineDepth)) / UrineDepth;
            }
            DepthFromSurface += dlayer[z];
         }
      }
      //Check whether choices are allowed and prepare messages     
      string myMessage1;
      string myMessage2 = "     remove ";
      switch (CutTriggerType.ToLower())
      {
         case "fixed interval":
            if (RemoveAmountType.ToLower().Contains("amount")) 
            {
               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else
               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            } 
            else
            {
               myMessage2 += RemoveAmountType.ToLower() + " (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut only every " + CutInterval.ToString() + " days";
            break;
         case "target interval":
            if (RemoveAmountType.ToLower().Contains("amount"))
            {               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else

               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            }
            else 
            {
               myMessage2 += RemoveAmountType.ToLower() + " = (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut every " + CutInterval.ToString() + " days, or when possible";
            break;
         case "target standing biomass":
            if (RemoveAmountType.ToLower().Contains("amount")) 
            {
               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else
               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            }
            else 
            {
               myMessage2 += RemoveAmountType.ToLower() + " = (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut when DM reaches " + TriggerDM + " kgDM/ha";
            break;
         default:
            throw new Exception("Cut trigger type is not valid");
      }

      //write messages on summary file
      Console.WriteLine("");
      Console.WriteLine("   Harvesting rotation for AgPasture initialised");
      Console.WriteLine("     rotation rule valid between " + CutPasture_StartDate.ToString("dd/MM/yyyy") + " and " + CutPasture_EndDate.ToString("dd/MM/yyyy"));
      Console.WriteLine("     rotation type: " + CutTriggerType.ToLower() + myMessage1);
      Console.WriteLine(myMessage2);
      if (DMRemovalOption.Contains("digestibility"))
      {
         myMessage1 = DMRemovalOption.ToLower();
      }
      else
      {
         myMessage1 = ((1.0 - FracDM2Remove) * 100).ToString("#0.0") + "%";
      }
      Console.WriteLine("     fraction of harvested DM to " + ResidueTreatmentType.ToLower() + ": " + myMessage1);
      myMessage1 = ((1.0 - FracN2Remove) * 100).ToString("#0.0") + "%";
      if (FracN2Remove &lt; 0.999999)
      {
         myMessage1 += " (" + ((1.0 - FracN2Dung) * 100).ToString("#0.0") + "% of it as urine)";
      }
      Console.WriteLine("     fraction of harvested N to " + ResidueTreatmentType.ToLower() + ": " + myMessage1);
      if (ResidueTreatmentType.Contains("urine"))
      {
         Console.WriteLine("     proportion of urine N to be added in each layer:");
         myMessage1 = FracLayer[0].ToString("0.000");
         for (int z = 1;z &lt; dlayer.Length;z++)
         {
            myMessage1 += ", " + FracLayer[z].ToString("0.000");
         }
         Console.WriteLine("      " + myMessage1);
      }
      Console.WriteLine("");
   }

   [EventHandler()]
   public void OnPrepare()
   {
      double Amount2Harvest;
      double AmountHarvestable;
      double ExistingDM;

      //Reset variables:
      Has_Cut = "no";
      harvested_dm = 0.0;
      harvested_n = 0.0;
      removed_dm = 0.0;
      removed_n = 0.0;
      returned_dm = 0.0;
      returned_n = 0.0;
      GrowthRateCalc = 0.0;
      NReturnedInDung = 0.0;
      NReturnedInUrine = 0.0;
      DaysAfterCut = DaysAfterCut + 1;
      CutInterval = (int) InterpolateVals(Today.DayOfYear, CutIntervalDays, Intervals2Cut);
      ResidualDM = InterpolateVals(Today.DayOfYear, LowerThresholdDays, LowerThresholds);
      TriggerDM = InterpolateVals(Today.DayOfYear, UpperThresholdDays, UpperThresholds);
      HarvestAmount = InterpolateVals(Today.DayOfYear, Amount2HarvestDays, Amounts2Cut);
      ExistingDM = MyAgPasture.StandingPlantWt;

      //Decide whether cut is allowed:
      if ((Today.Date &gt;= CutPasture_StartDate.Date) &amp;&amp; (Today.Date &lt;= CutPasture_EndDate.Date))
      {
         switch (CutTriggerType.ToLower())
         {
            case "fixed interval":
               //Allways send an CutIsAllowed if interval is right, it will be reset in the end of the day
               if (DaysAfterCut &gt;= CutInterval)
               {
                  CutIsAllowed = true;
               }
               else
               {
                  CutIsAllowed = false;
                  //always reset CutIsAllowed
               }
               break;
            case "target interval":
               //Allways send an CutIsAllowed if interval is right, it will be reset only if cut actually happens (depends on amount type)
               if (DaysAfterCut &gt;= CutInterval)
               {
                  CutIsAllowed = true;
               }
               break;
            case "target standing biomass":
               //Send an CutIsAllowed if existing DM amount is above the target (TriggerDM/UpperThreshold), it will be reset if cut actually happens
               if (ExistingDM &gt;= TriggerDM)
               {
                  CutIsAllowed = true;
               }
               break;
         }

         //The use of these avoid (or at least reduces) problems when two managers are used in the same simulation
         if (CutIsAllowed)
         {
            Can_Cut = "yes";
         }
         else
         {
            Can_Cut = "no";
         }
         
         //Decide how much to cut:
         if (CutIsAllowed)
         {
            PreHarvestDM = MyAgPasture.StandingPlantWt;

            switch (RemoveAmountType.ToLower())
            {
               case "set amount":
                  Amount2Harvest = HarvestAmount;
                  if (CutTriggerType.ToLower() == "fixed interval")
                  {
                     AmountHarvestable = PreHarvestDM;
                  }
                  else
                  {
                     AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  }
                  break;
               case "target amount":
                  Amount2Harvest = Math.Min(Math.Max(MinimumFraction * HarvestAmount, PreHarvestDM - ResidualDM), HarvestAmount);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               case "given amounts down to residual dm":
                  Amount2Harvest = Math.Min(Math.Max(MinimumFraction * HarvestAmount, PreHarvestDM - ResidualDM), HarvestAmount);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               case "all herbage down to residual dm":
                  Amount2Harvest = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               default:
                  throw new Exception("Option to compute DM amount to harvest is not valid");
            }

            //Decide whether cut actually happens:
            if ((AmountHarvestable &gt;= Amount2Harvest))
            {
               CutPasture(Amount2Harvest);
               HandleResidues();
               //reset cut variables
               DaysAfterCut = 0;
               Has_Cut = "yes";
               GrowthRateCalc = harvested_dm / DaysAfterCut;
               PostHarvestDM = MyAgPasture.StandingPlantWt;
               if (RemoveAmountType.Contains("amount"))
               { // check whether reamining amount is significant
                  if (Math.Abs(PostHarvestDM - ResidualDM) &lt; MinimumFraction * HarvestAmount)
                  {  
                     CutIsAllowed = false;
                  }
               }
               else
               {
                  CutIsAllowed = false;
               }
            }
         }
         else
         {
            Amount2Harvest = 0.0;
            AmountHarvestable = 0.0;
         }
      }
   }


   private void CutPasture(double Amount2Harvest)
   {
      // -- Cutting pasture ----------------------------------------------------------------------------

      GrazeType CutData = new GrazeType();
      CutData.sender = MySelf.Name;
      CutData.amount = (float) Amount2Harvest;
      CutData.type = "SetRemoveAmount";
      MyAgPasture.Graze(CutData);
      harvested_dm = MyAgPasture.HarvestWt;
      harvested_n = MyAgPasture.HarvestN;

      //Let user know (via summary) that a cut was made
      Console.WriteLine(Today.ToString("dd MMMM yyyy") + " (Day of year=" + Today.DayOfYear.ToString() + "), " + MySelf.Name + ":");
      Console.WriteLine("     Removing " + harvested_dm.ToString("#0") + "kg DM/ha, with " + harvested_n.ToString("#0.0") + "kg N/ha");
   }

   
   private void HandleResidues()
   {
      // -- Residue management -------------------------------------------------------------------------
      
      if (DMRemovalOption.Contains("digestibility"))
      {
         FracDM2Remove = MyAgPasture.DefoliatedDigestibility;
      }
      removed_dm = harvested_dm * FracDM2Remove;
      removed_n = harvested_n * FracN2Remove;
      returned_dm = harvested_dm - removed_dm;
      returned_n = harvested_n - removed_n;

      if (returned_dm &lt; 0.0)
      {
         throw new Exception("Return_DM value is negative");
      }
      if (returned_n &lt; 0.0)
      {
         throw new Exception("Return_N value is negative");
      }

      if (ResidueTreatmentType.ToLower() == "return as residue")
      {
         if (FracDM2Remove &lt; 1.0)
         {
            BiomassRemovedType SOMData = new BiomassRemovedType();
            SOMData.crop_type = "grass";
            SOMData.dm_type = new string[] { SOMData.crop_type };
            SOMData.dlt_crop_dm = new float[] { (float) returned_dm };
            SOMData.dlt_dm_n = new float[] { (float) returned_n };
            SOMData.fraction_to_residue = new float[] { 1.0F };
            MySurfaceOM.BiomassRemoved(SOMData);            
         }
      }
      else if (ResidueTreatmentType.ToLower() == "return as dung &amp; urine")
      {
         // It is advised that dung and urine return should be done using another manager or modules, such as 'UrinePatch' 

         if (NinDungChoice.Contains("proportion"))
         {
            NReturnedInDung = returned_n * FracN2Dung;
         }
         else if (NinDungChoice.Contains("CN ratio"))
         {
            NReturnedInDung = returned_dm / CNratioDung;
         }
         NReturnedInUrine = Math.Max(0.0, returned_n - NReturnedInDung);

         if (NReturnedInDung &gt; returned_n)
         {
            throw new Exception("Amount of N to return as dung is larger than total return, check proportion or CN ratio");
         }

         if ((returned_dm &gt; 0.0) || (NReturnedInDung &gt; 0.0))
         {
            BiomassRemovedType SOMData = new BiomassRemovedType();
            SOMData.crop_type = "RuminantDung_PastureFed";
            SOMData.dm_type = new string[] { SOMData.crop_type };
            SOMData.dlt_crop_dm = new float[] { (float) returned_dm };
            SOMData.dlt_dm_n = new float[] { (float) NReturnedInDung };
            SOMData.fraction_to_residue = new float[] { 1.0F };
            MySurfaceOM.BiomassRemoved(SOMData);            
         }
         
         if (NReturnedInUrine &gt; 0.0)
         {
            FertiliserApplicationType UrineData = new FertiliserApplicationType();
            UrineData.Amount = (float) NReturnedInUrine;
            UrineData.Depth = 10;   // mm
            UrineData.Type = "urea_n";
            MyFertiliser.Apply(UrineData);
         }
      }
      else
      {
         throw new Exception("Residue management type is not valid");
      }
   }

   private int[] setDays(int NumDates)
   {
      //Define the day of year for each value on am array, given the arra's length - first value, day=1; last value day = 365; dates in between spread evenly (rounded)
      int[] xArray;
      if (NumDates &lt; 366)
      {
         xArray = new int[NumDates];
         xArray[0] = 1;
         if (NumDates &gt; 1)
         {
            xArray[NumDates - 1] = 365;
            if (NumDates &gt; 2)
            {
               for (int i = 1; i &lt; NumDates - 1; i++)
               {
                  xArray[i] = 365 * i / (NumDates);
               }
            }
         }
      }
      else
      {
         throw new Exception("Number of items on CoverTarget greater than maximum allowed (365)");
      }
      
      return xArray;
   }

   private double InterpolateVals(int my_x, int[] xArray, double[] yArray)
   {
      //Find out the value correspondig to my_x in the function described by the x and y arrays
      double my_y = 0.0;
      int iN = xArray.Length - 1;
      if (my_x &lt;= xArray[0])
      {
         //values below x[0] are set to y[0]
         my_y = yArray[0];
      }
      else if (my_x &gt;= xArray[iN])
      {
         //value above x(n) are set to y(n)
         my_y = yArray[iN];
      }
      else
      {
         //find the nearest neighbours and interpolate (linear)
         for (int i = 1; i &lt;= iN; i++)
         {
            if (my_x &lt;= xArray[i])
            {
               my_y = yArray[i - 1] + ((my_x - xArray[i - 1]) * (yArray[i] - yArray[i - 1]) / (xArray[i] - xArray[i - 1]));
               i = xArray.Length;
            }
         }
      }
      
      return my_y;
   }
}
</text>
        </manager2>
        <manager2 name="FertOnSoilNCriteria">
          <ui>
            <category type="category" description="Fertiliser application based on Soil N amount" />
            <FertAllowed type="yesno" description="Turn ferliser applications on?">yes</FertAllowed>
            <FertDepth2SoilN type="text" description="Depth to calculate available soil N (mm):">500</FertDepth2SoilN>
            <FertCriticalSoilN type="text" description="Minimum available N, triggers an application (kgN/ha):">10</FertCriticalSoilN>
            <FertNAmount type="text" description="Amount of N fertiliser for each application (kgN/ha):">25</FertNAmount>
            <FertType type="list" listvalues="no3_n,nh4_n,nh4no3,urea_n,urea_no3,urea,nh4so4_n,rock_p,banded_p,broadcast_p" description="Type of N fertiliser to apply:">urea_n</FertType>
            <FertApplicationDepth type="text" description="Depth at which to apply the fertiliser (mm):">1</FertApplicationDepth>
            <FertMinimumDays type="text" description="Minimum period between applications (days):">30</FertMinimumDays>
          </ui>
          <text>Imports System
Imports ModelFramework

Public Class Script 
   &lt;Link()&gt; Dim MyPaddock As Paddock
   &lt;Link()&gt; Dim Fert As Fertiliser

   'Parameters - user inputs from the Properties tab
   &lt;Param&gt; Private FertAllowed As String           'Whether fertilisation is allowed at all
   &lt;Param&gt; Private FertDepth2SoilN As Double       'Depth in the soil to calculate the N storage
   &lt;Param&gt; Private FertCriticalSoilN As Double     'Minimum soil N, below which fertiliser application is triggered
   &lt;Param&gt; Private FertNAmount As Double           'Amount of N fertiliser per application
   &lt;Param&gt; Private FertType As String              'Type of fertiliser to apply
   &lt;Param&gt; Private FertApplicationDepth As Double  'Depth in the soil that the fertilser will be applied
   &lt;Param&gt; Private FertMinimumDays As Double       'Minimum interval between appplications

   'Inputs - got by this Manager from elsewhere in APSIM
   &lt;Input&gt; Private Today As DateTime            'Today's date from APSIM 
   &lt;Input&gt; Private dlayer As Double()           'Array of soil layer thicknesses - for calculation of mineral N in the soil
   &lt;Input&gt; Private no3 As Double()              'Array of nitrate-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil
   &lt;Input&gt; Private nh4 As Double()              'Array of ammonium-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil
   &lt;Input&gt; Private urea As Double()             'Array of urea-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil

   'Outputs - calculated by this Manager and available to be output by the user
   &lt;Output&gt; Private TopMineralN As Double       'Mineral-N stored in the soil to a depth of FertDepth2SoilN

   'Other variables that are calculated but not needed for outputs
   Private LayerWeights As Double()             'Weigthing of each layer for FertCriticalSoilN calculation
   Private lastApplicationDate As DateTime
   Private fertiliserIsAllowed As Boolean
   Private nLayers As Integer
   Private daysSinceLastApplication As Double

   &lt;EventHandler()&gt; Public Sub OnInit2()
      '"OnInit2" is an event handler gets called once at the start of the simulation 

      fertiliserIsAllowed = (FertAllowed.ToLower = "yes")
      nLayers = dLayer.Length

   End Sub

   &lt;EventHandler()&gt; Public Sub OnPrepare()
      '"OnPrepare" is an event handler gets called once at the start of every day (before Prepare and Post) 

      daysSinceLastApplication = (Today - lastApplicationDate).TotalDays

      ' get the N stored in the soil
      Dim depthFromSurface As Double = 0.0
      Dim fracLayer As Double = 0.0
      TopMineralN = 0.0
      For layer As Integer = 0 To nLayers
         fracLayer = Math.Min(1.0, (FertDepth2SoilN - depthFromSurface) / dlayer(layer))
         TopMineralN += (NO3(layer) + NH4(layer) + Urea(layer)) * fracLayer
         depthFromSurface += dlayer(layer)
         If (depthFromSurface &gt;= FertDepth2SoilN)
            layer = nLayers
         End If
      Next

      ' Check whether a fertiliser application is due
      If (fertiliserIsAllowed And daysSinceLastApplication &gt;= FertMinimumDays And TopMineralN &lt;= FertCriticalSoilN) Then
         Fert.Apply(FertNAmount, FertApplicationDepth, FertType)
         lastApplicationDate = Today
      End If

   End Sub

End Class
   </text>
        </manager2>
        <manager2 name="CentrePivotIrrigation">
          <ui>
            <Dummy type="category" description="Centre Pivot Irrigation Manager" />
            <AllowIrrigation type="yesno" description=" Turn irrigation on?">no</AllowIrrigation>
            <Dummy type="category" description="General irrigation parameters" />
            <Irrigation_start_date type="ddmmmdate" description=" Start of irrigation season (dd-mmm):">15-Sep</Irrigation_start_date>
            <Irrigation_end_date type="ddmmmdate" description=" End of irrigation season (dd-mmm):">30-May</Irrigation_end_date>
            <DepthToCalcPAW type="text" description=" Enter the soil depth to which water deficit is computed (mm):">300</DepthToCalcPAW>
            <CritRainToPause type="text" description=" Critical rainfall - amount over 3 days after which irrigation is paused (mm):">30</CritRainToPause>
            <DaysToPauseOnCritRain type="text" description=" Number of days irrigation is paused once critical rainfall is reached (days):">3</DaysToPauseOnCritRain>
            <IrrigSetup type="list" listvalues="specify,calculate" description=" Select whether irrigation setup is specified or calculated internally">specify</IrrigSetup>
            <category type="category" description="Irrigation setup (if not to calculate)" />
            <IrrigTrigger type="text" description=" Soil water deficit at which irrigation starts (mm):">30</IrrigTrigger>
            <IrrigUpperThreshold type="text" description=" Soil water deficit at which irrigation stops, daily amount is added regardless (mm):">0</IrrigUpperThreshold>
            <IrrigAmount type="text" description=" Amount of irrigation to apply (mm/day):">6</IrrigAmount>
            <IrrigDuration type="text" description=" Duration of each irrigation event (min):">1440</IrrigDuration>
            <IrrigReturn type="text" description=" Irrigation return period (days):">1</IrrigReturn>
            <IrrigEfficiency type="text" description=" Irrigation efficiency (%):">100</IrrigEfficiency>
          </ui>
          <text>Imports System
Imports ModelFramework

'This manager applies irrigation following rules mimicking a centre-pivot management.
' Irrigation parameters can be given or be left to be calculated by the module (based on the soil PAW)

'--&gt;  Last uptaded in: 15/Nov/2014 ..................


Public Class Script 
   
   'Parameter variables:
   &lt;param&gt; Private AllowIrrigation As String                   'Indicates whether irrigation is on (yes) or off (no)
   &lt;param&gt; Private Irrigation_start_date As String             'Start of the irrigation season (dd-mmm)
   &lt;param&gt; Private Irrigation_end_date As String               'End of the irrigation season (dd-mmm)
   &lt;param&gt; Private DepthToCalcPAW As Double                    'Depth to consider plant available water, and deficit (mm)
   &lt;param&gt; Private CritRainToPause As Double                   'Value of rain (sum over 3 days) when irrigation is paused (mm)
   &lt;param&gt; Private DaysToPauseOnCritRain As Double             'Number of days irrigations is paused when CritRain is reached
   &lt;param&gt; Private IrrigSetup As String                        'Define wheter the irrgation parameters are define by user of calculated
   &lt;param&gt; Private IrrigTrigger As Double                      'User defined irrigation trigger (mm)
   &lt;param&gt; Private IrrigUpperThreshold As Double               'User defined water deficit at which irrigation stops, daily amount is added regardless (mm):
   &lt;param&gt; Private IrrigAmount As Double                       'User defined irrigation amount (mm)
   &lt;param&gt; Private IrrigDuration As Double                     'User defined duration of irrigation (minutes)
   &lt;param&gt; Private IrrigReturn As Double                       'User defined irrigation return period (days)
   &lt;param&gt; Private IrrigEfficiency As Double                   'User defined irrigation efficiency (%)

   'Link to other modules:
   &lt;Link&gt; Private Irrigator As Irrigation   
   
   'Variables read from other modules
   &lt;Input&gt; Private today As DateTime                           'Today's date
   &lt;Input&gt; Private dlayer As Double()                          'Thickness of soil layers (mm)
   &lt;Input&gt; Private rain As Double                              'Rainfall (mm)
   &lt;Input&gt; Private sw_dep As Double()                          'Soil water content (mm)
   &lt;Input&gt; Private dul_dep As Double()                         'Soil water content at DUL (mm)
   &lt;Input&gt; Private ll15_dep As Double()                        'Soil water content at LL15 (mm)

   'Output variables
   &lt;Output&gt;&lt;Units("mm")&gt; Public SoilWaterDeficit As Double          'Soil water deficit (mm)
   &lt;Output&gt;&lt;Units("days")&gt; Public DaysAfterIrrigation As Double     'The number of days after irrigation was applied
   &lt;Output&gt;&lt;Units("mm")&gt; Public SoilPAWforIrrigation As Double      'The soil plant available water (mm)
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationTrigger As Double         'The soil water deficit that triggers irrigation (mm)
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationUpperThreshold As Double  'The soil water deficit for stopping irrigation (mm)
   &lt;Output&gt;&lt;Units("days")&gt; Public IrrigationReturnPeriod As Integer 'The return period for irrigation
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationAmount As Double          'The amount of water to add in an irrigation event (mm/day)
   &lt;Output&gt;&lt;Units("min")&gt; Public IrrigationDuration As Double       'The duration of each irrigation event (min/day)
   &lt;Output&gt;&lt;Units("%")&gt; Public IrrigationEfficiency As Double       'The irrigaton efficiency (%)
   &lt;Output&gt;&lt;Units("mm")&gt; Public RainOnPrevious3Days As Double       'The amount of rainfall over the previous 3 days
   &lt;Output&gt;&lt;Units("days")&gt; Public Days2Pause As Double              'The number of days that irrigation is paused due to large rainfall

   'Internal variables
   Private StartDate As Date                                   'The date when irrigation start (in date format)
   Private EndDate As Date                                     'The date when irrigation finish (in date format)
   Private RainOnPreviousDays(2) As Double                     'Record the rain of the previous 3 days (mm)
   Private IrrigationRequired As Boolean
      
   &lt;EventHandler()&gt; Public Sub OnInitialised()

      'check the presence of the irrigation module and one of the soil modules
      Call CheckModules()
      
      'Put the dates into date format:
      StartDate = Date.Parse(Irrigation_start_date)
      EndDate = Date.Parse(Irrigation_end_date)

      DaysAfterIrrigation = IrrigationReturnPeriod
      IrrigationRequired = False
      
      'Zero rain on previous 3 days
      RainOnPrevious3Days = 0.0
      Array.Clear(RainOnPreviousDays, 0, RainOnPreviousDays.Length)

      'Calculate soil PAW for irrigation
      Dim DepthFromSurface As Double = 0
      SoilPAWforIrrigation = 0.0
      For z As Integer = 0 To dlayer.length - 1
         If DepthFromSurface &lt; DepthToCalcPAW Then
            Dim FractionLayer As Double = math.Min(1, math.Max(0, DepthToCalcPAW - DepthFromSurface) / dlayer(z))
            '  if depth does not coincide with the end of the layer, only a corresponding fraction of it is used
            SoilPAWforIrrigation += (dul_dep(z) - ll15_dep(z)) * FractionLayer
         Else
            z = dlayer.Length - 1
         End If
         DepthFromSurface += dlayer(z)
         'DepthFromSurface = DepthFromSurface + dlayer(z)
      Next
      
      Dim IrrigParamType As String
      If IrrigSetup.ToLower = "specify" Then
         'Irrgation parameters are given by the user (no check is made on their values)
         IrrigParamType = "specified by user"
         IrrigationTrigger = IrrigTrigger
         IrrigationUpperThreshold = IrrigUpperThreshold
         IrrigationAmount = IrrigAmount
         IrrigationDuration = IrrigDuration
         IrrigationReturnPeriod = IrrigReturn
         IrrigationEfficiency = IrrigEfficiency
      Else 'IrrigSetup = "calculate"
         'Determine the irrigation parameters based on soil PAW and equipment type
         IrrigParamType = "calculated by manager"
         '  Assumptions:  -capacity to supply water is not limiting (pump and pipes are well dimensioned)
         '                -irrigation ideally starts when soil available water is half of PAW, but trigger is limited to between 10 and 40mm
         '                -amount of irrigation applied aim to fill up to 90% of PAW, but is limited between 10 and 30mm/day
         '                -rotation of the pivot is function of a fixed irrigation rate (7.5mm/day)
         '                -duration is function ofthe rotation period and nozzle size (5m = wetted span, equals ~1.5 degress at a radius of 200m)
         '                -the efficiency is function of PAW, set a minimum of 70% and a maximum of 90%, and the rate of change (slope) is 0.15.
         IrrigationTrigger = Math.Min(40.0, Math.Max(10.0, SoilPAWforIrrigation / 2.0))
         IrrigationAmount = Math.Max(10.0, Math.Min(30.0, 0.9 * SoilPAWforIrrigation - IrrigationTrigger))
         IrrigationUpperThreshold = Math.Max(1.0, SoilPAWforIrrigation - IrrigationAmount)
         IrrigationReturnPeriod = Math.Round(IrrigationAmount / 7.5)
         IrrigationDuration = IrrigationReturnPeriod * 1440 * (1.5 / 360)
         IrrigationEfficiency = Math.Min(90.0, 70.0 + 0.15 * SoilPAWforIrrigation)
      End If

      Console.WriteLine("")
      If AllowIrrigation.ToLower = "yes" Then
         Console.WriteLine("   Irrigation by centre-pivot is enabled")
         Console.WriteLine("     Parameters have been " &amp; IrrigParamType &amp; ":")
         Console.WriteLine("     - Irrigation season between " &amp; StartDate.ToString("dd MMMM") &amp; " and " &amp; EndDate.ToString("dd MMMM"))
         Console.WriteLine("     - Soil layer depth for calculating irrigation is " &amp; DepthToCalcPAW.ToString("0.0") &amp; " mm")
         Console.WriteLine("        With plant available water of " &amp; SoilPAWforIrrigation.ToString("0.0") &amp; " mm")
         Console.WriteLine("     - Amount applied per irrigation event: " &amp; IrrigationAmount.ToString("#0") &amp; " mm")
         Console.WriteLine("     - Duration of each irrigation event: " &amp; IrrigationDuration.ToString("#0") &amp; " min")
         Console.WriteLine("     - Soil water deficit to trigger irrigation: " &amp; IrrigationTrigger.ToString("#0") &amp; " mm")
         Console.WriteLine("     - Return period for irrigation system: " &amp; IrrigationReturnPeriod.ToString("#0") &amp; " days")
         Console.WriteLine("     - Efficiency of the irrigation system: " &amp; IrrigationEfficiency.ToString("0.0") &amp; " %")

      Else
         Console.WriteLine("   Irrigation by centre-pivot is disabled")
      End If
      Console.WriteLine("")

   End Sub

   
   &lt;EventHandler()&gt; Public Sub OnPrepare()
      
      'Calc the soil water deficit     
      Dim DepthFromSurface As Integer = 0
      SoilWaterDeficit = 0.0         
      For z As Integer = 0 To dlayer.length - 1
         If DepthFromSurface &lt; DepthToCalcPAW Then
            Dim FractionLayer As Double = math.Min(1, math.Max(0, DepthToCalcPAW - DepthFromSurface) / dlayer(z))
            '  if depth does not coincide with the end of the layer, only a corresponding fraction of it is used
            SoilWaterDeficit += Math.Max(0, math.Min(dul_dep(z) - ll15_dep(z), dul_dep(z) - sw_dep(z))) * FractionLayer
         Else
            z = dlayer.Length - 1
         End If
         DepthFromSurface += dlayer(z)
      Next
      SoilWaterDeficit = -SoilWaterDeficit
      
      'Decide whether to irrigate
      If AllowIrrigation.ToLower = "yes" Then
         'Calc the amount of rain today plus the previous two days
         RainOnPreviousDays(2) = RainOnPreviousDays(1)
         RainOnPreviousDays(1) = RainOnPreviousDays(0)
         RainOnPreviousDays(0) = rain
         RainOnPrevious3Days = RainOnPreviousDays(0) + RainOnPreviousDays(1) + RainOnPreviousDays(2)
            
         DaysAfterIrrigation = DaysAfterIrrigation + 1

         If isBetween(today, StartDate, EndDate) Then   'We are at the irrigation season     

            'Calc the number of days to pause irrigation after large rainfal events
            If RainOnPrevious3Days &gt;= CritRainToPause Then
               Days2Pause = DaysToPauseOnCritRain
            Else
               Days2Pause = math.Max(0, Days2Pause - 1)
            End If

            'Check whether irrigation is paused
            If Days2Pause &lt; 0.5 Then
               'Irrigation is not paused, check return period
               If DaysAfterIrrigation &gt; IrrigationReturnPeriod Then    'Irrigation is allowed
                  'Check whether soil needs irrigation
                  If SoilWaterDeficit &lt;= -IrrigationTrigger Then
                     IrrigationRequired = True
                  Else If SoilWaterDeficit &gt; -IrrigationUpperThreshold Then
                     IrrigationRequired = False
                  End If

                  If IrrigationRequired Then
                     Dim MyIrrigation As IrrigationApplicationType = New IrrigationApplicationType
                     MyIrrigation.Amount = IrrigationAmount / (IrrigationEfficiency * 0.01)
                     MyIrrigation.time = ""
                     MyIrrigation.Duration = 0
                     MyIrrigation.source = New String() {}
                     MyIrrigation.Crop_Area = 0
                     MyIrrigation.NH4 = 0
                     MyIrrigation.NO3 = 0
                     MyIrrigation.CL = 0
                     Irrigator.Variable("irrigation_efficiency").Set(IrrigationEfficiency * 0.01)
                     Irrigator.Apply(MyIrrigation)
                     DaysAfterIrrigation = 1
                     Console.WriteLine(Today.ToString("dd MMMM yyyy") + " (Day of year=" + Today.DayOfYear.ToString + "), Irrigation:")
                     Console.WriteLine("  Centre-pivot is applying irrigation. Amount = " &amp; MyIrrigation.Amount.ToString("0.0") &amp; " mm")
                  End If
               End If
            End If
         End If
      End If
         
   End Sub

   
   Private Function isBetween(ByVal today As Date, ByVal startdate As Date, ByVal enddate As Date) As Boolean
      
      'Check whether today is between the start and the end dates.  This is needed because start and end dates don't have year
      
      Dim date1 As Date = New Date(today.Year, startdate.Month, startdate.Day)
      Dim date2 As Date = New Date(today.Year, enddate.Month, enddate.Day)

      If (date1 &gt; date2) Then
         'Irrigation in the middle of the year - ex: summer in the northern hemisphere
         Return (today &gt;= date1 Or today &lt;= date2)
      Else
         'Irrigation in the end of the year - ex: summer in the southern hemisphere
         Return (today &gt;= date1 And today &lt;= date2)
      End If
      
   End Function


   Private Sub CheckModules()
   
      If Irrigator Is Nothing Then
         Throw New Exception("Centre pivot manager requires the presense of the irrigation module in the paddock")
      End If
      
   End Sub
   
End Class
</text>
        </manager2>
      </folder>
      <micromet name="Micromet">
        <soilalbedo type="text" description="soilalbedo">0.23</soilalbedo>
        <a_interception type="text" description="a_interception">0</a_interception>
        <b_interception type="text" description="b_interception">0</b_interception>
        <c_interception type="text" description="c_interception">0</c_interception>
        <d_interception type="text" description="d_interception">0</d_interception>
      </micromet>
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
        <allocation type="text" description="Allocation in mm">0</allocation>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0</default_cl_conc>
      </irrigation>
      <fertiliser name="Fertiliser" />
      <surfaceom name="SurfaceOrganicMatter">
        <PoolName type="text" description="Organic Matter pool name">AgPasture</PoolName>
        <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">grass</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">40</cnr>
        <cpr type="text" description="C:P ratio of initial residue (optional)" />
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <Soil name="SoilLismore">
        <RecordNumber>0</RecordNumber>
        <SoilType>NZ_Sedimentary</SoilType>
        <LocalName>Lismore</LocalName>
        <Site>Winchmore</Site>
        <NearestTown>Ashburton</NearestTown>
        <Region>Canterbury</Region>
        <Country>New Zealand</Country>
        <NaturalVegetation>0</NaturalVegetation>
        <ApsoilNumber>0</ApsoilNumber>
        <Latitude>-48.48</Latitude>
        <Longitude>0</Longitude>
        <LocationAccuracy>0</LocationAccuracy>
        <YearOfSampling>0</YearOfSampling>
        <DataSource>published soil profile description (as an example)</DataSource>
        <Analysis>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <Rocks>
            <double>0</double>
            <double>0</double>
            <double>10</double>
            <double>40</double>
            <double>60</double>
            <double>70</double>
            <double>70</double>
          </Rocks>
          <Texture>
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
          </Texture>
          <MunsellColour>
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
          </MunsellColour>
          <PH>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
          </PH>
          <CEC>
            <double>12.5</double>
            <double>10</double>
            <double>9</double>
            <double>5</double>
            <double>4</double>
            <double>4</double>
            <double>4</double>
          </CEC>
          <ParticleSizeSand>
            <double>15</double>
            <double>20</double>
            <double>25</double>
            <double>35</double>
            <double>40</double>
            <double>40</double>
            <double>40</double>
          </ParticleSizeSand>
          <ParticleSizeSilt>
            <double>65</double>
            <double>65</double>
            <double>63</double>
            <double>57</double>
            <double>54</double>
            <double>55</double>
            <double>55</double>
          </ParticleSizeSilt>
          <ParticleSizeClay>
            <double>20</double>
            <double>15</double>
            <double>12</double>
            <double>8</double>
            <double>6</double>
            <double>5</double>
            <double>5</double>
          </ParticleSizeClay>
          <PHUnits>Water</PHUnits>
          <BoronUnits>HotWater</BoronUnits>
        </Analysis>
        <Water>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <BD>
            <double>1.3</double>
            <double>1.35</double>
            <double>1</double>
            <double>0.53</double>
            <double>0.31</double>
            <double>0.3</double>
            <double>0.3</double>
          </BD>
          <AirDry>
            <double>0.05</double>
            <double>0.12</double>
            <double>0.06</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
          </AirDry>
          <LL15>
            <double>0.15</double>
            <double>0.14</double>
            <double>0.06</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
          </LL15>
          <DUL>
            <double>0.36</double>
            <double>0.34</double>
            <double>0.19</double>
            <double>0.07</double>
            <double>0.04</double>
            <double>0.03</double>
            <double>0.03</double>
          </DUL>
          <SAT>
            <double>0.45</double>
            <double>0.43</double>
            <double>0.25</double>
            <double>0.15</double>
            <double>0.11</double>
            <double>0.11</double>
            <double>0.11</double>
          </SAT>
          <KS>
            <double>5000</double>
            <double>2500</double>
            <double>3000</double>
            <double>10000</double>
            <double>17500</double>
            <double>20000</double>
            <double>20000</double>
          </KS>
          <SoilCrop name="agpasture">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="ryegrass">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="clover">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="slurp">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.14</double>
              <double>0.14</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.02</double>
              <double>0.02</double>
              <double>0.02</double>
            </LL>
            <KL>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
        </Water>
        <SoilWater>
          <SummerCona>3.5</SummerCona>
          <SummerU>6</SummerU>
          <SummerDate>1-Nov</SummerDate>
          <WinterCona>2</WinterCona>
          <WinterU>2</WinterU>
          <WinterDate>1-apr</WinterDate>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35</DiffusSlope>
          <Salb>0.13</Salb>
          <CN2Bare>73</CN2Bare>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <Slope>NaN</Slope>
          <DischargeWidth>NaN</DischargeWidth>
          <CatchmentArea>NaN</CatchmentArea>
          <MaxPond>NaN</MaxPond>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <SWCON>
            <double>0.5</double>
            <double>0.52</double>
            <double>0.55</double>
            <double>0.6</double>
            <double>0.65</double>
            <double>0.65</double>
            <double>0.65</double>
          </SWCON>
        </SoilWater>
        <SoilOrganicMatter>
          <RootCN>40</RootCN>
          <RootWt>1000</RootWt>
          <SoilCN>12</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <OC>
            <double>3</double>
            <double>1</double>
            <double>0.6</double>
            <double>0.4</double>
            <double>0.25</double>
            <double>0.15</double>
            <double>0.1</double>
          </OC>
          <FBiom>
            <double>0.04</double>
            <double>0.02</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0</double>
            <double>0</double>
          </FBiom>
          <FInert>
            <double>0.5</double>
            <double>0.7</double>
            <double>0.83</double>
            <double>0.9</double>
            <double>0.95</double>
            <double>0.99</double>
            <double>0.99</double>
          </FInert>
          <OCUnits>Total</OCUnits>
        </SoilOrganicMatter>
        <InitialWater name="Initial water">
          <FractionFull>0.95</FractionFull>
          <DepthWetSoil>NaN</DepthWetSoil>
          <PercentMethod>EvenlyDistributed</PercentMethod>
          <RelativeTo>ll15</RelativeTo>
        </InitialWater>
        <Sample name="Initial nitrogen">
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <NO3>
            <double>5</double>
            <double>2.5</double>
            <double>1</double>
            <double>0.8</double>
            <double>0.5</double>
            <double>0.5</double>
            <double>0.5</double>
          </NO3>
          <NH4>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
          </NH4>
          <NO3Units>ppm</NO3Units>
          <NH4Units>ppm</NH4Units>
          <SWUnits>Volumetric</SWUnits>
          <OCUnits>Total</OCUnits>
          <PHUnits>Water</PHUnits>
        </Sample>
      </Soil>
      <AgPasture name="Ryegrass">
        <Dummy1 type="category" description="Initial values for each species to be simulated" />
        <speciesToSimulate type="text" description="  Name of the species to be simulated:">Ryegrass</speciesToSimulate>
        <iniShootDM type="text" description="  Initial above ground dry matter weight (kgDM/ha):">2000</iniShootDM>
        <iniRootDM type="text" description="  Initial root dry matter weight (kgDM/ha):">500</iniRootDM>
        <iniRootDepth type="text" description="  Initial rooting depth (mm):">750</iniRootDepth>
        <WaterUptakeSource type="list" listvalues="calc,apsim" description="  Water uptake done by AgPasture (calc) or by apsim?:">calc</WaterUptakeSource>
        <NUptakeSource type="list" listvalues="calc" description="  N uptake done by AgPasture (calc) or by apsim?:">calc</NUptakeSource>
        <Dummy2 type="category" description="Detailed parameters for each species (overwrites the xml file)" />
        <speciesName type="text" description="  Name of each parameterised species:">ryegrass</speciesName>
        <micrometType type="text" description="  Plant type for MicroMet/SWIM:">grass</micrometType>
        <photoPath type="text" description="  Photosynthesis pathway (C3=3, C4=4):">3</photoPath>
        <isLegume type="text" description="  Is this a legume species? (no=0, yes=1):">0</isLegume>
        <Pm type="text" description="  Reference photosynthesis rate - CO2 assimilation (mg CO2/m2.s):">1.0</Pm>
        <growthEfficiency type="text" description="  Growth efficiency factor - photosynthesis minus growth respiration (0-1):">0.75</growthEfficiency>
        <maintRespiration type="text" description="  Maintenance respiration coefficient (%):">3.0</maintRespiration>
        <alphaPhoto type="text" description="  Leaf gross photosynthesis rate (mg CO2/J):">0.01</alphaPhoto>
        <thetaPhoto type="text" description="  Photosynthesis curve parameter (J/kg.s):">0.8</thetaPhoto>
        <fractionPAR type="text" description="  Fraction of radiation that is photosynthetic active (0-1):">0.5</fractionPAR>
        <lightExtCoeff type="text" description="  Canopy light extinction coefficient (0-1):">0.5</lightExtCoeff>
        <growthTmin type="text" description="  Minimum temperature for growth (oC):">2.0</growthTmin>
        <growthTopt type="text" description="  Optimum temperature for growth (oC):">20.0</growthTopt>
        <growthTq type="text" description="  Curve parameter for growth response to temperature:">1.75</growthTq>
        <useHeatStress type="text" description="  Consider effects of high temperatures on photosynthesis? (yes/no):">yes</useHeatStress>
        <heatOnsetT type="text" description="  Onset temperature for heat effects on growth (oC):">28.0</heatOnsetT>
        <heatFullT type="text" description="  Temperature for full heat effects on growth (oC):">35.0</heatFullT>
        <heatSumT type="text" description="  Temperature sum for recovery from heat effects (oC):">30.0</heatSumT>
        <heatTq type="text" description="  Exponent for computing recovery from heat stress:">1.0</heatTq>
        <heatRecoverT type="text" description="  Base temperature for recovery from heat stress (oC):">25.0</heatRecoverT>
        <useColdStress type="text" description="  Consider effects of low temperatures on photosynthesis? (yes/no):">yes</useColdStress>
        <coldOnsetT type="text" description="  Onset temperature for cold effects on growth (oC):">0.0</coldOnsetT>
        <coldFullT type="text" description="  Temperature for full cold effects on growth (oC):">-3.0</coldFullT>
        <coldSumT type="text" description="  Temperature sum for recovery from cold effects (oC):">20.0</coldSumT>
        <coldTq type="text" description="  Exponent for computing recovery from cold stress:">1.0</coldTq>
        <coldRecoverT type="text" description="  Base temperature for recovery from cold effects (oC):">0.0</coldRecoverT>
        <referenceCO2 type="text" description="  Reference atmospheric CO2 content for photosynthesis (ppm):">380</referenceCO2>
        <respTref type="text" description="  Reference temperature for maintenance respiration (oC):">28.0</respTref>
        <maxTeffectResp type="text" description="  Maximum effect of temperature on respiration (&gt;1.0):">1.25</maxTeffectResp>
        <CO2PmaxScale type="text" description="  Scale factor for CO2 effect on photosynthesis (ppm):">700</CO2PmaxScale>
        <CO2NScale type="text" description="  Scale factor for CO2 effects on plant N concentration (ppm):">600</CO2NScale>
        <CO2NMin type="text" description="  Minimum reduction of plant N concentration under elevated CO2 (0-1):">0.7</CO2NMin>
        <CO2NCurvature type="text" description="  Curvature factor of CO2 effect on plant N concentration (&gt;1.0):">2.0</CO2NCurvature>
        <maxRootFraction type="text" description="  Maximum biomass fraction allocated to roots (0-1):">0.25</maxRootFraction>
        <targetSRratio type="text" description="  Target or ideal shoot:root ratio:">4.0</targetSRratio>
        <allocationSeasonF type="text" description="  Factor for increasing DM allocation to shoot during reproductive growth (0-1):">0.25</allocationSeasonF>
        <StartHighAllocation type="text" description="  Day for starting the period with higher DM allocation to shoot:">232</StartHighAllocation>
        <DurationHighAllocation type="text" description="  Duration of main phase for higher DM allocation to shoot (days):">60</DurationHighAllocation>
        <ShoulderHighAllocation type="text" description="  Relative duration of shoulder periods for higher shoot allocation (0-1):">0.5</ShoulderHighAllocation>
        <useLatitudeFunction type="text" description="  Adjust DM allocation (shoot/root) using latitude? (yes/no):">no</useLatitudeFunction>
        <ReferenceLatitude type="text" description="  Reference latitude, beyond which DM allocation is hardly affected (degrees):">60.0</ReferenceLatitude>
        <paramALatFunction type="text" description="  Exponent of function for defining the start of period with high allocation to shoot (&gt;1.0):">5.0</paramALatFunction>
        <onsetFacLatFunction type="text" description="  Define the duration of onset phase with high allocation, fraction of main phase (0-1):">0.5</onsetFacLatFunction>
        <outsetFacLatFunction type="text" description="  Define the duration of outset phase with high allocation, fraction of main phase (0-1):">0.5</outsetFacLatFunction>
        <maxShoulderLatFunction type="text" description="  Maximum duration of the shoulder phases with high DM allocation (days):">60</maxShoulderLatFunction>
        <minPlateauLatFunction type="text" description="  Minimum duration of main phase (plateau) with high DM allocation (days):">15</minPlateauLatFunction>
        <paramBLatFunction type="text" description="  Exponent of function defining the duration of main phase with high allocation (&gt;0.0):">2.75</paramBLatFunction>
        <paramCLatFunction type="text" description="  Exponent of function for DM fraction allocated to shoot (&gt;1.0):">4.0</paramCLatFunction>
        <allocationMax type="text" description="  Maximum increase in DM allocation to shoot during reproductive growth (0-1):">0.4</allocationMax>
        <maxFLeaf type="text" description="  Maximum fraction of new shoot growth allocated to leaves (0-1):">0.70</maxFLeaf>
        <minFLeaf type="text" description="  Minimum fraction of new shoot growth allocated to leaves (0-1):">0.70</minFLeaf>
        <dmMaxFLeaf type="text" description="  Shoot DM for maximum leaf allocation, allocation decreases above that (kgDM/m2):">500</dmMaxFLeaf>
        <dmReferenceFLeaf type="text" description="  Reference DM, when allocation to leaves is midway max and min (kgDM/m2):">2000</dmReferenceFLeaf>
        <exponentFLeaf type="text" description="  Exponent of function describing DM allocation to leaves (&gt;0.0):">3.0</exponentFLeaf>
        <fStolon type="text" description="  Fraction of new shoot growth allocated to stolons (0-1):">0.0</fStolon>
        <liveLeavesPerTiller type="text" description="  Number of live leaves per tiller:">3.0</liveLeavesPerTiller>
        <SpecificLeafArea type="text" description="  Specific leaf area, per dry matter weight (m2/kgDM):">20</SpecificLeafArea>
        <SpecificRootLength type="text" description="  Specific root length, per dry matter weight (m/gDM):">75</SpecificRootLength>
        <rateLive2Dead type="text" description="  Reference tissue turnover rate for shoot (0-1):">0.05</rateLive2Dead>
        <facGrowingTissue type="text" description="  Factor for adjusting DM turnover of growing tissue (0-1):">2.0</facGrowingTissue>
        <refTurnoverRateStolon type="text" description="  Reference tissue turnover rate for stolon (0-1):">0.0</refTurnoverRateStolon>
        <rateDead2Litter type="text" description="  Reference littering rate - dead tissue to litter (0-1):">0.11</rateDead2Litter>
        <rateRootSen type="text" description="  Reference senescence rate for roots (0-1):">0.02</rateRootSen>
        <massFluxTmin type="text" description="  Minimum temperature for tissue turnover (oC):">2.0</massFluxTmin>
        <massFluxTopt type="text" description="  Optimum temperature for tissue turnover (oC):">20.0</massFluxTopt>
        <massFluxTq type="text" description="  Exponent of function for temperature effect on tissue turnover:">1.0</massFluxTq>
        <massFluxW0 type="text" description="  Scale factor for GLFWater effect on DM turnover (&gt;1.0):">2.0</massFluxW0>
        <massFluxWopt type="text" description="  Reference GLFwater for tissue turnover (0-1):">0.5</massFluxWopt>
        <massFluxDeadWq type="text" description="  Exponent to adjust GLFWater for senescing tissue (&gt;1.0):">3.0</massFluxDeadWq>
        <stockParameter type="text" description="  Parameter for stock influence on tissue senescence:">0.05</stockParameter>
        <Kappa2_Remob type="text" description="  Coefficient for remobilisation of luxury N from tissue2 (0-1):">0.0</Kappa2_Remob>
        <Kappa3_Remob type="text" description="  Coefficient for remobilisation of luxury N from tissue3 (0-1):">0.0</Kappa3_Remob>
        <Kappa4_Remob type="text" description="  Coefficient for partitioning non-used Nremob into tissue4 (0-1):">0.0</Kappa4_Remob>
        <digestLive type="text" description="  Digestibility of live plant material (0-1):">0.6</digestLive>
        <digestDead type="text" description="  Digestibility of dead plant material (0-1):">0.2</digestDead>
        <dmshoot type="text" description="  Default initial shoot dry matter weight (kgDM/ha):">1500</dmshoot>
        <dmroot type="text" description="  Default initial root dry matter weight (kgDM/ha):">450</dmroot>
        <dmgreenmin type="text" description="  Minimum allowable green dry matter weight (kgDM/ha):">300</dmgreenmin>
        <dmdeadmin type="text" description="  Minimum allowable dead dry matter weight (kgDM/ha):">0</dmdeadmin>
        <NconcOptimum_leaves type="text" description="  Optimum N concentration of young leaves (%):">4.0</NconcOptimum_leaves>
        <NconcMaximum_leaves type="text" description="  Maximum N concentration in leaves, with luxury uptake (%):">5.0</NconcMaximum_leaves>
        <NconcMinimum_leaves type="text" description="  Minimum N concentration in leaves, at senescence (%):">1.2</NconcMinimum_leaves>
        <RelativeNconc_Stems type="text" description="  Relative N concentration in stems, fraction of leaf N (0-1):">0.5</RelativeNconc_Stems>
        <RelativeNconc_Stolons type="text" description="  Relative N concentration in stolons, fraction of leaf N (0-1):">0.0</RelativeNconc_Stolons>
        <RelativeNconc_Roots type="text" description="  Relative N concentration in roots, fraction of leaf N (0-1):">0.5</RelativeNconc_Roots>
        <RelativeNconc_stage2 type="text" description="  Optimum N concentration for tissue2 (mature), relative to tissue1 (0-1):">1.0</RelativeNconc_stage2>
        <RelativeNconc_stage3 type="text" description="  Optimum N concentration for tissue3 (senescing), relative to tissue1 (0-1):">1.0</RelativeNconc_stage3>
        <NMinFix type="text" description="  Minimum N fixation, when soil N is sufficient (0-1):">0.0</NMinFix>
        <NMaxFix type="text" description="  Maximum N fixation, when no soil N is available (0-1):">0.0</NMaxFix>
        <NdilutCoeff type="text" description="  Coefficient for modifying the effect of N stress on plant growth (0-1):">0.5</NdilutCoeff>
        <waterStressFactor type="text" description="  coefficient for modifying the effect of water stress on plant growth (0-1):">1.0</waterStressFactor>
        <soilSatFactor type="text" description="  Coefficient for growth limitations due to soil moisture saturation (0-1):">0.1</soilSatFactor>
        <MinMacroPorosity type="text" description="  Minimum soil macroporosity (pores&gt;30um) for optimum plant growth (0-1):">-1</MinMacroPorosity>
        <GenericGLF type="text" description="  Generic relative growth limiting factor (0-1):">1.0</GenericGLF>
        <SFertilityGLF type="text" description="  Soil related generic growth limiting factor (0-1):">1.0</SFertilityGLF>
        <PreferenceForGreenDM type="text" description="  Weight factor defining the preference level for green DM (on removal):">1</PreferenceForGreenDM>
        <PreferenceForDeadDM type="text" description="  Weight factor defining the preference level for dead DM (on removal):">1</PreferenceForDeadDM>
        <PreferenceForLeaves type="text" description="  Weight factor defining the preference level for leaves over stems (on removal):">1</PreferenceForLeaves>
        <rootDepth type="text" description="  Default rooting depth (mm):">750</rootDepth>
        <ExpoLinearDepthParam type="text" description="  Depth from surface below which the proportion of roots starts to decrease (mm):">90</ExpoLinearDepthParam>
        <ExpoLinearCurveParam type="text" description="  Exponent to determine the distribution of root DM in the soil profile:">3.2</ExpoLinearCurveParam>
        <MaxPlantHeight type="text" description="  Maximum average height for each species in a sward (mm):">500</MaxPlantHeight>
        <MassForMaxHeight type="text" description="  Mass above ground when maximum height is reached (kgDM/ha):">8000</MassForMaxHeight>
        <ExponentHeightFromMass type="text" description="  Exponent of function describing plant height as function of DM weight (&gt;1.0):">3.00</ExponentHeightFromMass>
        <MinimumHeight type="text" description="  Minimum plant height, for all species (mm):">20</MinimumHeight>
        <Dummy3 type="category" description="Generic parameters for initialising the sward, by species type" />
        <initialDMFractions_grass type="text" description="  Fractions of initial dmshoot for each biomass pool, for grasses:">0.15  0.25  0.25  0.05  0.05  0.10  0.10  0.05  0.00  0.00  0.00</initialDMFractions_grass>
      </AgPasture>
      <outputfile name="Results_Species">
        <filename output="yes">OneSpecies AgPastureClassic Results_Species.out</filename>
        <title>OneSpecies AgPastureClassic Results_Species</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>Species_name(1) as Ryegrass.Name</variable>
          <variable>Crop_type as Ryegrass.CropType</variable>
          <variable>SpeciesTotalWt(1) as Ryegrass.TotalWt</variable>
          <variable>SpeciesAboveGroundWt(1) as Ryegrass.AboveGroundWt</variable>
          <variable>SpeciesBelowGroundWt(1) as Ryegrass.BelowGroundWt</variable>
          <variable>SpeciesStandingWt(1) as Ryegrass.StandingWt</variable>
          <variable>SpeciesStandingLiveWt(1) as Ryegrass.StandingLiveWt</variable>
          <variable>SpeciesStandingDeadWt(1) as Ryegrass.StandingDeadWt</variable>
          <variable>SpeciesLeafWt(1) as Ryegrass.LeafWt</variable>
          <variable>SpeciesStemWt(1) as Ryegrass.StemWt</variable>
          <variable>SpeciesStolonWt(1) as Ryegrass.StolonWt</variable>
          <variable>SpeciesRootWt(1) as Ryegrass.RootWt</variable>
          <variable>SpeciesLeafStage1Wt(1) as Ryegrass.LeafStage1Wt</variable>
          <variable>SpeciesLeafStage2Wt(1) as Ryegrass.LeafStage2Wt</variable>
          <variable>SpeciesLeafStage3Wt(1) as Ryegrass.LeafStage3Wt</variable>
          <variable>SpeciesLeafStage4Wt(1) as Ryegrass.LeafStage4Wt</variable>
          <variable>SpeciesStemStage1Wt(1) as Ryegrass.StemStage1Wt</variable>
          <variable>SpeciesStemStage2Wt(1) as Ryegrass.StemStage2Wt</variable>
          <variable>SpeciesStemStage3Wt(1) as Ryegrass.StemStage3Wt</variable>
          <variable>SpeciesStemStage4Wt(1) as Ryegrass.StemStage4Wt</variable>
          <variable>SpeciesStolonStage1Wt(1) as Ryegrass.StolonStage1Wt</variable>
          <variable>SpeciesStolonStage2Wt(1) as Ryegrass.StolonStage2Wt</variable>
          <variable>SpeciesStolonStage3Wt(1) as Ryegrass.StolonStage3Wt</variable>
          <variable>SpeciesPotCarbonAssimilation(1) as Ryegrass.PotCarbonAssimilation</variable>
          <variable>SpeciesCarbonLossRespiration(1) as Ryegrass.CarbonLossRespiration</variable>
          <variable>SpeciesPotGrowthGross(1) as Ryegrass.GrossPotentialGrowthWt</variable>
          <variable>SpeciesPotGrowthNet(1) as Ryegrass.NetPotentialGrowthWt</variable>
          <variable>SpeciesPotGrowthNoNLimit(1) as Ryegrass.PotGrowthWt_Wstress</variable>
          <variable>SpeciesGrowthWt(1) as Ryegrass.ActualGrowthWt</variable>
          <variable>SpeciesNetGrowthWt(1) as Ryegrass.EffectiveGrowthWt</variable>
          <variable>SpeciesHerbageGrowth(1) as Ryegrass.HerbageGrowthWt</variable>
          <variable>SpeciesLitterWt(1) as Ryegrass.LitterWt</variable>
          <variable>SpeciesRootSenescedWt(1) as Ryegrass.RootSenescedWt</variable>
          <variable>SpeciesTotalN(1) as Ryegrass.TotalN</variable>
          <variable>SpeciesStandingN(1) as Ryegrass.StandingN</variable>
          <variable>SpeciesLeafN(1) as Ryegrass.LeafN</variable>
          <variable>SpeciesStemN(1) as Ryegrass.StemN</variable>
          <variable>SpeciesStolonN(1) as Ryegrass.StolonN</variable>
          <variable>SpeciesRootN(1) as Ryegrass.RootN</variable>
          <variable>SpeciesLeafStage1N(1) as Ryegrass.LeafStage1N</variable>
          <variable>SpeciesLeafStage2N(1) as Ryegrass.LeafStage2N</variable>
          <variable>SpeciesLeafStage3N(1) as Ryegrass.LeafStage3N</variable>
          <variable>SpeciesLeafStage4N(1) as Ryegrass.LeafStage4N</variable>
          <variable>SpeciesStemStage1N(1) as Ryegrass.StemStage1N</variable>
          <variable>SpeciesStemStage2N(1) as Ryegrass.StemStage2N</variable>
          <variable>SpeciesStemStage3N(1) as Ryegrass.StemStage3N</variable>
          <variable>SpeciesStemStage4N(1) as Ryegrass.StemStage4N</variable>
          <variable>SpeciesStolonStage1N(1) as Ryegrass.StolonStage1N</variable>
          <variable>SpeciesStolonStage2N(1) as Ryegrass.StolonStage2N</variable>
          <variable>SpeciesStolonStage3N(1) as Ryegrass.StolonStage3N</variable>
          <variable>SpeciesLeafNConc(1) as Ryegrass.LeafNConc</variable>
          <variable>SpeciesStemNConc(1) as Ryegrass.StemNConc</variable>
          <variable>SpeciesStolonNConc(1) as Ryegrass.StolonNConc</variable>
          <variable>SpeciesRootNConc(1) as Ryegrass.RootNConc</variable>
          <variable>SpeciesLeafStage1NConc(1) as Ryegrass.LeafStage1NConc</variable>
          <variable>SpeciesLeafStage2NConc(1) as Ryegrass.LeafStage2NConc</variable>
          <variable>SpeciesLeafStage3NConc(1) as Ryegrass.LeafStage3NConc</variable>
          <variable>SpeciesLeafStage4NConc(1) as Ryegrass.LeafStage4NConc</variable>
          <variable>SpeciesStemStage1NConc(1) as Ryegrass.StemStage1NConc</variable>
          <variable>SpeciesStemStage2NConc(1) as Ryegrass.StemStage2NConc</variable>
          <variable>SpeciesStemStage3NConc(1) as Ryegrass.StemStage3NConc</variable>
          <variable>SpeciesStemStage4NConc(1) as Ryegrass.StemStage4NConc</variable>
          <variable>SpeciesStolonStage1NConc(1) as Ryegrass.StolonStage1NConc</variable>
          <variable>SpeciesStolonStage2NConc(1) as Ryegrass.StolonStage2NConc</variable>
          <variable>SpeciesStolonStage3NConc(1) as Ryegrass.StolonStage3NConc</variable>
          <variable>SpeciesSenescedNRemobilisable(1) as Ryegrass.RemobilisableSenescedN</variable>
          <variable>SpeciesSenescedNRemobilised(1) as Ryegrass.RemobilisedSenescedN</variable>
          <variable>SpeciesRemobilisableNLuxury(1) as Ryegrass.RemobilisableLuxuryN</variable>
          <variable>SpeciesLuxuryNRemobilised(1) as Ryegrass.RemobilisedLuxuryN</variable>
          <variable>SpeciesFixedN(1) as Ryegrass.FixedN</variable>
          <variable>SpeciesRequiredNLuxury(1) as Ryegrass.RequiredLuxuryN</variable>
          <variable>SpeciesRequiredNOptimum(1) as Ryegrass.RequiredOptimumN</variable>
          <variable>SpeciesDemandN(1) as Ryegrass.DemandSoilN</variable>
          <variable>SpeciesUptakeN(1) as Ryegrass.UptakeN</variable>
          <variable>SpeciesLitterN(1) as Ryegrass.LitterN</variable>
          <variable>SpeciesRootSenescedN(1) as Ryegrass.SenescedRootN</variable>
          <variable>SpeciesGrowthN(1) as Ryegrass.ActualGrowthN</variable>
          <variable>SpeciesGrowthNconc(1) as Ryegrass.ActualGrowthNConc</variable>
          <variable>SpeciesWaterDemand(1) as Ryegrass.WaterDemand</variable>
          <variable>SpeciesWaterUptake(1) as Ryegrass.WaterUptake</variable>
          <variable>SpeciesLiveDMTurnoverRate(1) as Ryegrass.LiveDMTurnoverRate</variable>
          <variable>SpeciesDeadDMTurnoverRate(1) as Ryegrass.DeadDMTurnoverRate</variable>
          <variable>SpeciesStolonDMTurnoverRate(1) as Ryegrass.StolonDMTurnoverRate</variable>
          <variable>SpeciesRootDMTurnoverRate(1) as Ryegrass.RootDMTurnoverRate</variable>
          <variable>SpeciesTotalLAI(1) as Ryegrass.TotalLAI</variable>
          <variable>SpeciesGreenLAI(1) as Ryegrass.GreenLAI</variable>
          <variable>SpeciesDeadLAI(1) as Ryegrass.DeadLAI</variable>
          <variable>SpeciesGLFT(1) as Ryegrass.GlfTemperature</variable>
          <variable>SpeciesGLFW(1) as Ryegrass.GlfWater</variable>
          <variable>SpeciesGLFN(1) as Ryegrass.GlfN</variable>
          <variable>SpeciesIrradianceTopCanopy(1) as Ryegrass.IrradianceTopCanopy</variable>
          <variable>SpeciesHarvestableWt(1) as Ryegrass.HarvestableWt</variable>
          <variable>SpeciesHarvestWt(1) as Ryegrass.HarvestedWt</variable>
          <variable>SpeciesHarvestPct(1) as Ryegrass.HarvestedFraction</variable>
          <variable>SpeciesHarvestN(1) as Ryegrass.HarvestedN</variable>
          <variable>HerbageDigestibility as Ryegrass.HerbageDigestibility</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
        <Graph name="XY">
          <Format>AAEAAAD/////AQAAAAAAAAAMAgAAAFJUZWVDaGFydCwgVmVyc2lvbj0yLjAuMjMwNi4yNjIzMiwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj05YzgxMjYyNzZjNzdiZGI3DAMAAABXU3lzdGVtLldpbmRvd3MuRm9ybXMsIFZlcnNpb249Mi4wLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj1iNzdhNWM1NjE5MzRlMDg5DAQAAABRU3lzdGVtLkRyYXdpbmcsIFZlcnNpb249Mi4wLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj1iMDNmNWY3ZjExZDUwYTNhBQEAAAAVU3RlZW1hLlRlZUNoYXJ0LkNoYXJ0wAAAAAYuV2lkdGgHLkhlaWdodA4uWm9vbS5BbmltYXRlZBMuWm9vbS5BbmltYXRlZFN0ZXBzFC5QYW5uaW5nLk1vdXNlQnV0dG9uFy5QYW5lbC5JbWFnZUJldmVsLldpZHRoEi5QYW5lbC5CZXZlbC5PdXRlchUuUGFuZWwuU2hhZG93LlZpc2libGUSLlBhbmVsLkJydXNoLkNvbG9yEi5MZWdlbmQuQ2hlY2tCb3hlcxEuTGVnZW5kLkFsaWdubWVudBcuTGVnZW5kLlRpdGxlLkZvbnQuQm9sZCEuTGVnZW5kLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUcLkxlZ2VuZC5UaXRsZS5TaGFkb3cuVmlzaWJsZRkuTGVnZW5kLlRpdGxlLlBlbi5WaXNpYmxlGy5MZWdlbmQuRm9udC5TaGFkb3cuVmlzaWJsZRYuTGVnZW5kLlNoYWRvdy5WaXNpYmxlEy5MZWdlbmQuVHJhbnNwYXJlbnQNLkhlYWRlci5MaW5lcxEuSGVhZGVyLkZvbnQuTmFtZREuSGVhZGVyLkZvbnQuU2l6ZRsuSGVhZGVyLkZvbnQuU2hhZG93LlZpc2libGUWLkhlYWRlci5TaGFkb3cuVmlzaWJsZR4uU3ViSGVhZGVyLkZvbnQuU2hhZG93LlZpc2libGUZLlN1YkhlYWRlci5TaGFkb3cuVmlzaWJsZRsuRm9vdGVyLkZvbnQuU2hhZG93LlZpc2libGUWLkZvb3Rlci5TaGFkb3cuVmlzaWJsZR4uU3ViRm9vdGVyLkZvbnQuU2hhZG93LlZpc2libGUZLlN1YkZvb3Rlci5TaGFkb3cuVmlzaWJsZRUuQXNwZWN0LlJvdGF0aW9uRmxvYXQWLkFzcGVjdC5FbGV2YXRpb25GbG9hdBkuQXNwZWN0LkNvbG9yUGFsZXR0ZUluZGV4Di5Bc3BlY3QuVmlldzNEFy5HcmFwaGljczNELkJydXNoLkNvbG9yHy5HcmFwaGljczNELkZvbnQuU2hhZG93LlZpc2libGUTLkdyYXBoaWNzM0QuWENlbnRlchMuR3JhcGhpY3MzRC5ZQ2VudGVyGS5HcmFwaGljczNELlNtb290aGluZ01vZGUdLkdyYXBoaWNzM0QuVGV4dFJlbmRlcmluZ0hpbnQaLkdyYXBoaWNzM0QuU3VwcG9ydHMzRFRleHQVLkdyYXBoaWNzM0QuQmFja0NvbG9yFS5HcmFwaGljczNELlVzZUJ1ZmZlchwuR3JhcGhpY3MzRC5Sb3RhdGlvbkNlbnRlci5YHC5HcmFwaGljczNELlJvdGF0aW9uQ2VudGVyLlkcLkdyYXBoaWNzM0QuUm90YXRpb25DZW50ZXIuWghTZXJpZXMuMBUuU2VyaWVzLjAuQnJ1c2guQ29sb3IZLlNlcmllcy4wLlBvaW50ZXIuVmlzaWJsZRcuU2VyaWVzLjAuUG9pbnRlci5TdHlsZRsuU2VyaWVzLjAuUG9pbnRlci5QZW4uQ29sb3IdLlNlcmllcy4wLlBvaW50ZXIuQnJ1c2guQ29sb3IXLlNlcmllcy4wLkxpbmVQZW4uQ29sb3IXLlNlcmllcy4wLkxpbmVQZW4uV2lkdGgPLlNlcmllcy4wLlRpdGxlHi5TZXJpZXMuMC5NYXJrcy5DYWxsb3V0Lkxlbmd0aCEuU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5BcnJvd0hlYWQlLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuQXJyb3dIZWFkU2l6ZSAuU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5EaXN0YW5jZR4uU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5EcmF3M0QdLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuU3R5bGUjLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuQnJ1c2guQ29sb3IeLlNlcmllcy4wLk1hcmtzLkl0ZW1zLkNhcGFjaXR5Iy5TZXJpZXMuMC5NYXJrcy5Gb250LlNoYWRvdy5WaXNpYmxlCFNlcmllcy4xFS5TZXJpZXMuMS5CcnVzaC5Db2xvchkuU2VyaWVzLjEuUG9pbnRlci5WaXNpYmxlFy5TZXJpZXMuMS5Qb2ludGVyLlN0eWxlGy5TZXJpZXMuMS5Qb2ludGVyLlBlbi5Db2xvch0uU2VyaWVzLjEuUG9pbnRlci5CcnVzaC5Db2xvchcuU2VyaWVzLjEuTGluZVBlbi5Db2xvchcuU2VyaWVzLjEuTGluZVBlbi5XaWR0aA8uU2VyaWVzLjEuVGl0bGUeLlNlcmllcy4xLk1hcmtzLkNhbGxvdXQuTGVuZ3RoIS5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkFycm93SGVhZCUuU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5BcnJvd0hlYWRTaXplIC5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkRpc3RhbmNlHi5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkRyYXczRB0uU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5TdHlsZSMuU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5CcnVzaC5Db2xvch4uU2VyaWVzLjEuTWFya3MuSXRlbXMuQ2FwYWNpdHkjLlNlcmllcy4xLk1hcmtzLkZvbnQuU2hhZG93LlZpc2libGUULldhbGxzLkxlZnQuQXV0b0hpZGUaLldhbGxzLkxlZnQuU2hhZG93LlZpc2libGUVLldhbGxzLlJpZ2h0LkF1dG9IaWRlGy5XYWxscy5SaWdodC5TaGFkb3cuVmlzaWJsZRQuV2FsbHMuQmFjay5BdXRvSGlkZRouV2FsbHMuQmFjay5TaGFkb3cuVmlzaWJsZRYuV2FsbHMuQm90dG9tLkF1dG9IaWRlHC5XYWxscy5Cb3R0b20uU2hhZG93LlZpc2libGUOLldhbGxzLlZpc2libGUcLkF4ZXMuTGVmdC5MYWJlbHMuU2VwYXJhdGlvbh0uQXhlcy5MZWZ0LkxhYmVscy5WYWx1ZUZvcm1hdBsuQXhlcy5MZWZ0LkxhYmVscy5Gb250Lk5hbWUbLkF4ZXMuTGVmdC5MYWJlbHMuRm9udC5TaXplJS5BeGVzLkxlZnQuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUgLkF4ZXMuTGVmdC5MYWJlbHMuU2hhZG93LlZpc2libGUULkF4ZXMuTGVmdC5BdXRvbWF0aWMYLkF4ZXMuTGVmdC5BeGlzUGVuLldpZHRoGS5BeGVzLkxlZnQuQXhpc1Blbi5FbmRDYXAVLkF4ZXMuTGVmdC5HcmlkLlN0eWxlGS5BeGVzLkxlZnQuR3JpZC5aUG9zaXRpb24XLkF4ZXMuTGVmdC5HcmlkLlZpc2libGUYLkF4ZXMuTGVmdC5NYXhpbXVtT2Zmc2V0HS5BeGVzLkxlZnQuTWlub3JUaWNrcy5WaXNpYmxlFi5BeGVzLkxlZnQuVGlja3MuQ29sb3IWLkF4ZXMuTGVmdC5UaXRsZS5MaW5lcxouQXhlcy5MZWZ0LlRpdGxlLkZvbnQuTmFtZRouQXhlcy5MZWZ0LlRpdGxlLkZvbnQuU2l6ZSguQXhlcy5MZWZ0LlRpdGxlLkZvbnQuU2hhZG93LkJydXNoLkNvbG9yJC5BeGVzLkxlZnQuVGl0bGUuRm9udC5TaGFkb3cuVmlzaWJsZSEuQXhlcy5MZWZ0LlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IfLkF4ZXMuTGVmdC5UaXRsZS5TaGFkb3cuVmlzaWJsZRsuQXhlcy5Ub3AuTGFiZWxzLlNlcGFyYXRpb24cLkF4ZXMuVG9wLkxhYmVscy5WYWx1ZUZvcm1hdBouQXhlcy5Ub3AuTGFiZWxzLkZvbnQuTmFtZRouQXhlcy5Ub3AuTGFiZWxzLkZvbnQuU2l6ZSQuQXhlcy5Ub3AuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUfLkF4ZXMuVG9wLkxhYmVscy5TaGFkb3cuVmlzaWJsZRMuQXhlcy5Ub3AuQXV0b21hdGljFy5BeGVzLlRvcC5BeGlzUGVuLldpZHRoGC5BeGVzLlRvcC5BeGlzUGVuLkVuZENhcBQuQXhlcy5Ub3AuR3JpZC5TdHlsZRguQXhlcy5Ub3AuR3JpZC5aUG9zaXRpb24WLkF4ZXMuVG9wLkdyaWQuVmlzaWJsZRwuQXhlcy5Ub3AuTWlub3JUaWNrcy5WaXNpYmxlFS5BeGVzLlRvcC5UaWNrcy5Db2xvchkuQXhlcy5Ub3AuVGl0bGUuRm9udC5OYW1lGS5BeGVzLlRvcC5UaXRsZS5Gb250LlNpemUjLkF4ZXMuVG9wLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUgLkF4ZXMuVG9wLlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IeLkF4ZXMuVG9wLlRpdGxlLlNoYWRvdy5WaXNpYmxlES5BeGVzLlRvcC5WaXNpYmxlHS5BeGVzLlJpZ2h0LkxhYmVscy5TZXBhcmF0aW9uHi5BeGVzLlJpZ2h0LkxhYmVscy5WYWx1ZUZvcm1hdBwuQXhlcy5SaWdodC5MYWJlbHMuRm9udC5OYW1lHC5BeGVzLlJpZ2h0LkxhYmVscy5Gb250LlNpemUmLkF4ZXMuUmlnaHQuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUhLkF4ZXMuUmlnaHQuTGFiZWxzLlNoYWRvdy5WaXNpYmxlFS5BeGVzLlJpZ2h0LkF1dG9tYXRpYxkuQXhlcy5SaWdodC5BeGlzUGVuLldpZHRoGi5BeGVzLlJpZ2h0LkF4aXNQZW4uRW5kQ2FwFi5BeGVzLlJpZ2h0LkdyaWQuU3R5bGUaLkF4ZXMuUmlnaHQuR3JpZC5aUG9zaXRpb24YLkF4ZXMuUmlnaHQuR3JpZC5WaXNpYmxlHi5BeGVzLlJpZ2h0Lk1pbm9yVGlja3MuVmlzaWJsZRcuQXhlcy5SaWdodC5UaWNrcy5Db2xvchsuQXhlcy5SaWdodC5UaXRsZS5Gb250Lk5hbWUbLkF4ZXMuUmlnaHQuVGl0bGUuRm9udC5TaXplJS5BeGVzLlJpZ2h0LlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUiLkF4ZXMuUmlnaHQuVGl0bGUuRm9udC5CcnVzaC5Db2xvciAuQXhlcy5SaWdodC5UaXRsZS5TaGFkb3cuVmlzaWJsZRMuQXhlcy5SaWdodC5WaXNpYmxlHi5BeGVzLkJvdHRvbS5MYWJlbHMuU2VwYXJhdGlvbiIuQXhlcy5Cb3R0b20uTGFiZWxzLkRhdGVUaW1lRm9ybWF0Hy5BeGVzLkJvdHRvbS5MYWJlbHMuVmFsdWVGb3JtYXQdLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250Lk5hbWUdLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250LlNpemUnLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlIi5BeGVzLkJvdHRvbS5MYWJlbHMuU2hhZG93LlZpc2libGUdLkF4ZXMuQm90dG9tLkF1dG9tYXRpY01heGltdW0dLkF4ZXMuQm90dG9tLkF1dG9tYXRpY01pbmltdW0aLkF4ZXMuQm90dG9tLkF4aXNQZW4uV2lkdGgbLkF4ZXMuQm90dG9tLkF4aXNQZW4uRW5kQ2FwFy5BeGVzLkJvdHRvbS5HcmlkLlN0eWxlGy5BeGVzLkJvdHRvbS5HcmlkLlpQb3NpdGlvbhkuQXhlcy5Cb3R0b20uR3JpZC5WaXNpYmxlGi5BeGVzLkJvdHRvbS5NYXhpbXVtT2Zmc2V0FC5BeGVzLkJvdHRvbS5NYXhpbXVtFC5BeGVzLkJvdHRvbS5NaW5pbXVtGi5BeGVzLkJvdHRvbS5NaW5pbXVtT2Zmc2V0Hy5BeGVzLkJvdHRvbS5NaW5vclRpY2tzLlZpc2libGUYLkF4ZXMuQm90dG9tLlRpY2tzLkNvbG9yGC5BeGVzLkJvdHRvbS5UaXRsZS5MaW5lcxwuQXhlcy5Cb3R0b20uVGl0bGUuRm9udC5OYW1lHC5BeGVzLkJvdHRvbS5UaXRsZS5Gb250LlNpemUmLkF4ZXMuQm90dG9tLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUjLkF4ZXMuQm90dG9tLlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IhLkF4ZXMuQm90dG9tLlRpdGxlLlNoYWRvdy5WaXNpYmxlKS5BeGVzLkRlcHRoVG9wLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlJC5BeGVzLkRlcHRoVG9wLkxhYmVscy5TaGFkb3cuVmlzaWJsZRguQXhlcy5EZXB0aFRvcC5BdXRvbWF0aWMZLkF4ZXMuRGVwdGhUb3AuR3JpZC5TdHlsZR0uQXhlcy5EZXB0aFRvcC5HcmlkLlpQb3NpdGlvbiguQXhlcy5EZXB0aFRvcC5UaXRsZS5Gb250LlNoYWRvdy5WaXNpYmxlIy5BeGVzLkRlcHRoVG9wLlRpdGxlLlNoYWRvdy5WaXNpYmxlJi5BeGVzLkRlcHRoLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlIS5BeGVzLkRlcHRoLkxhYmVscy5TaGFkb3cuVmlzaWJsZRUuQXhlcy5EZXB0aC5BdXRvbWF0aWMWLkF4ZXMuRGVwdGguR3JpZC5TdHlsZRouQXhlcy5EZXB0aC5HcmlkLlpQb3NpdGlvbiUuQXhlcy5EZXB0aC5UaXRsZS5Gb250LlNoYWRvdy5WaXNpYmxlIC5BeGVzLkRlcHRoLlRpdGxlLlNoYWRvdy5WaXNpYmxlAAAAAAQABAAEAAQAAAAAAAAABgEAAAAAAAAAAAAAAAAABAAAAAQEAAQAAAAAAQQABAQEBAABAAQAAAAEBAAAAQQABAQEBAABAAQAAAAEBAAAAAAAAAAAAAAAAAEBAAAAAAAEBAAAAAAEBgEABAAEAAABAQAAAAAABAQAAAAEAQAABAAAAAEBAAAAAAAEBAAAAAQBAAAEAAAAAQEBAAAAAAAABAQAAAAAAAAABAYBAAAEAAAAAAQAAAAAAAAEAAAACAgBCCFTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Nb3VzZUJ1dHRvbnMDAAAACCNTdGVlbWEuVGVlQ2hhcnQuRHJhd2luZy5CZXZlbFN0eWxlcwIAAAABFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAAAEgU3RlZW1hLlRlZUNoYXJ0LkxlZ2VuZEFsaWdubWVudHMCAAAAAQEBAQEBAQgBAQEBAQEBAQYGCAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQgIJlN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5TbW9vdGhpbmdNb2RlBAAAACVTeXN0ZW0uRHJhd2luZy5UZXh0LlRleHRSZW5kZXJpbmdIaW50BAAAAAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQgICBRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABJFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwIAAAAUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAICCZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwIAAAAICAEkU3RlZW1hLlRlZUNoYXJ0LlN0eWxlcy5Qb2ludGVyU3R5bGVzAgAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABJFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwIAAAAUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAICCZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwIAAAAICAEkU3RlZW1hLlRlZUNoYXJ0LlN0eWxlcy5Qb2ludGVyU3R5bGVzAgAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIAQEBAQEBAQEBAQgIAQEBCCBTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuTGluZUNhcAQAAAAiU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELkRhc2hTdHlsZQQAAAAGAQgBFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAAAgUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABCAgBAQEIIFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwBAAAACJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABAQgIAQEBCCBTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuTGluZUNhcAQAAAAiU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELkRhc2hTdHlsZQQAAAAGAQEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAACAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQEICAEBAQEIIFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwBAAAACJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBCAYGCAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAACAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQEBASJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBAQEBASJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBAQIAAACLBQAAdAIAAAEEAAAABfv///8hU3lzdGVtLldpbmRvd3MuRm9ybXMuTW91c2VCdXR0b25zAQAAAAd2YWx1ZV9fAAgDAAAAAABAAAEAAAAF+v///yNTdGVlbWEuVGVlQ2hhcnQuRHJhd2luZy5CZXZlbFN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAAAAAAABfn///8UU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAABG5hbWUFdmFsdWUKa25vd25Db2xvcgVzdGF0ZQEAAAAJBwcEAAAACv////8AAAAAAAACAAEF+P///yBTdGVlbWEuVGVlQ2hhcnQuTGVnZW5kQWxpZ25tZW50cwEAAAAHdmFsdWVfXwAIAgAAAAMAAAABAAAAAAABCQkAAAAGCgAAAAZUYWhvbWEMAAAAAAAAAAAAAAAAAAAAAJB1QAAAAAAAkHVAAwAAAAAB9f////n///8KAAAAAAAAAACNAAEAANUCAAAmAQAABfT///8mU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELlNtb290aGluZ01vZGUBAAAAB3ZhbHVlX18ACAQAAAABAAAABfP///8lU3lzdGVtLkRyYXdpbmcuVGV4dC5UZXh0UmVuZGVyaW5nSGludAEAAAAHdmFsdWVfXwAIBAAAAAAAAAAAAfL////5////CgAAAAAAAAAAjQABAAEAAAAAAAAAAAAAAAAGDwAAABtTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkxpbmUB8P////n///8KAAAAAAAAAAAlAAEAAQXv////JFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAEAAAAB7v////n///8KAAAAAAAAAACkAAEAAe3////5////CgAAAAAAAAAAJQABAAHs////+f///wqZAAD/AAAAAAAAAgACAAAABhUAAAAKIGdyZWVuX2xhaQoAAAAF6v///yZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAAAAAAIAAAAAAAAAAAB6f///+////8AAAAAAej////5////CgAAAAAAAAAAIwABAAAAAAAACQ8AAAAB5v////n///8KAAAAAAAAAACNAAEAAQHl////7////wEAAAAB5P////n///8KAAAAAAAAAACkAAEAAeP////5////CgAAAAAAAAAAjQABAAHi////+f///woAAJn/AAAAAAAAAgACAAAABh8AAAAJIGRlYWRfbGFpCgAAAAHg////6v///wAAAAAIAAAAAAAAAAAB3////+////8AAAAAAd7////5////CgAAAAAAAAAAIwABAAAAAAAAAAAAAAAAAAAAUAAAAAYjAAAACCMjIzAuIyMjCQoAAAAJAAAAAAABAQAAAAXb////IFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwAQAAAAd2YWx1ZV9fAAgEAAAAAgAAAAXa////IlN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5EYXNoU3R5bGUBAAAAB3ZhbHVlX18ACAQAAAABAAAAAAAAAAAAAAAACgAAAAAB2f////n///8KAAAA/wAAAAAAAAIACSgAAAAJCgAAAAsAAAAB1v////n///8KwAAA/wAAAAAAAAIAAAHV////+f///wr/AAD/AAAAAAAAAgAAUAAAAAkjAAAACQoAAAAJAAAAAAABAQAAAAHS////2////wIAAAAB0f///9r///8BAAAAAAAAAAAAAAAAAAHQ////+f///woAAAD/AAAAAAAAAgAJCgAAAAsAAAAAAc/////5////Cv8AAP8AAAAAAAACAAAAUAAAAAkjAAAACQoAAAAJAAAAAAABAQAAAAHM////2////wIAAAABy////9r///8BAAAAAAAAAAAAAAAAAAHK////+f///woAAAD/AAAAAAAAAgAJCgAAAAsAAAAAAcn////5////Cv8AAP8AAAAAAAACAAAAUAAAAAY4AAAACWQvTU0veXl5eQkjAAAACQoAAAAJAAAAAAAAAAEAAAABxf///9v///8CAAAAAcT////a////AQAAAAAAAAAAAAAAAAoAAAAAAAAAwOfiQAAAAACA8eBACgAAAAABw/////n///8KAAAA/wAAAAAAAAIACT4AAAAJCgAAAAsAAAAAAcD////5////Cv8AAP8AAAAAAAACAAAAAAEBv////9r///8BAAAAAAAAAAAAAAAAAAAAAQG+////2v///wEAAAAAAAAAAAAAAAAAEQkAAAABAAAABkMAAAAAESgAAAABAAAACUMAAAARPgAAAAEAAAAJQwAAAAs=</Format>
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.TotalWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </outputfile>
      <outputfile name="Results_Layers">
        <filename output="yes">OneSpecies AgPastureClassic Results_Layers.out</filename>
        <title>OneSpecies AgPastureClassic Results_Layers</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>dlayer as Soil.Thickness</variable>
          <variable>RootWtFraction as Ryegrass.RootWtFraction</variable>
          <variable>rlv as Ryegrass.RLD</variable>
          <variable>NitrogenSupplyLayers as Ryegrass.NitrogenAvailable</variable>
          <variable>NitrogenUptakeLayers as Ryegrass.NitrogenUptake</variable>
          <variable>WaterSupplyLayers as Ryegrass.SoilAvailableWater</variable>
          <variable>WaterUptakeLayers as Ryegrass.WaterUptake</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
      </outputfile>
      <outputfile name="Results_MassBalance">
        <filename output="yes">OneSpecies AgPastureClassic Results_MassBalance.out</filename>
        <title>OneSpecies AgPastureClassic Results_MassBalance</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>TotalPlantN as TotalPlantN</variable>
          <variable>urea() as TotalUrea</variable>
          <variable>nh4() as TotalNH4</variable>
          <variable>no3() as TotalNO3</variable>
          <variable>hum_n() as TotalHumusN</variable>
          <variable>biom_n() as TotalBiomN</variable>
          <variable>fom_N() as TotalFomN</variable>
          <variable>surfaceom_n as SurfaceOMN</variable>
          <variable>fertiliser as FertiliserN</variable>
          <variable>PlantFixedN as FixedN</variable>
          <variable>HarvestN as HarvestN</variable>
          <variable>dnit() as DenitrifiedN</variable>
          <variable>leach_no3 as LeachedN</variable>
          <variable>NitrogenUptake as UptakeN</variable>
          <variable>PlantRemobilisedN as NitrogenRemobilisedSenescence</variable>
          <variable>PlantLuxuryNRemobilised as NitrogenRemobilisedLuxury</variable>
          <variable>PlantGrowthN as ActualGrowthN</variable>
          <variable>LitterDepositionN as LitterDepositionN</variable>
          <variable>RootSenescenceN as RootSenescenceN</variable>
          <variable>sw_dep() as TotalSoilWater</variable>
          <variable>rain as Rain</variable>
          <variable>irrigation as Irrigation</variable>
          <variable>runoff as Runoff</variable>
          <variable>drain as Drainage</variable>
          <variable>es as Evaporation</variable>
          <variable>WaterUptake as WaterUptake</variable>
          <variable>StandingPlantWt as Pasture.StandingWt</variable>
          <variable>PreHarvestDM as PreHarvestDM</variable>
          <variable>PostHarvestDM as PostHarvestDM</variable>
          <variable>harvested_dm as DefoliatedWt</variable>
          <variable>harvested_dm as HarvestedWt</variable>
          <variable>removed_dm as RemovedWt</variable>
          <variable>returned_dm as ReturnedWt</variable>
          <variable>harvested_n as DefoliatedN</variable>
          <variable>harvested_n as HarvestedN</variable>
          <variable>removed_n as RemovedN</variable>
          <variable>NReturnedInDung as NReturnedInDung</variable>
          <variable>NReturnedInUrine as NReturnedInUrine</variable>
          <variable>DaysAfterCut as DaysAfterCut</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
      </outputfile>
      <GraphReport name="Plant">
        <Graph name="PlantWt">
          <Legend>
            <CheckedTitles> Ryegrass.TotalWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.TotalWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.AboveGroundWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.AboveGroundWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.BelowGroundWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.BelowGroundWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.TotalWt</Y>
            <Y>Ryegrass.AboveGroundWt</Y>
            <Y>Ryegrass.BelowGroundWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GrowthRate">
          <Legend>
            <CheckedTitles> Ryegrass.GrossPotentialGrowthWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.GrossPotentialGrowthWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.NetPotentialGrowthWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.NetPotentialGrowthWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.PotGrowthWt_Wstress, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.PotGrowthWt_Wstress, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.ActualGrowthWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.ActualGrowthWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.EffectiveGrowthWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.EffectiveGrowthWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.HerbageGrowthWt, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.HerbageGrowthWt, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.GrossPotentialGrowthWt</Y>
            <Y>Ryegrass.NetPotentialGrowthWt</Y>
            <Y>Ryegrass.PotGrowthWt_Wstress</Y>
            <Y>Ryegrass.ActualGrowthWt</Y>
            <Y>Ryegrass.EffectiveGrowthWt</Y>
            <Y>Ryegrass.HerbageGrowthWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="PlantN">
          <Legend>
            <CheckedTitles> Ryegrass.TotalN, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.TotalN, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.LeafN, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.LeafN, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.StemN, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.StemN, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.RootN, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.RootN, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.TotalN</Y>
            <Y>Ryegrass.LeafN</Y>
            <Y>Ryegrass.StemN</Y>
            <Y>Ryegrass.RootN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="LAI">
          <Legend>
            <CheckedTitles> Ryegrass.TotalLAI, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.TotalLAI, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.GreenLAI, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.GreenLAI, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.DeadLAI, OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> Ryegrass.DeadLAI, {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.TotalLAI</Y>
            <Y>Ryegrass.GreenLAI</Y>
            <Y>Ryegrass.DeadLAI</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="Harvest">
        <Graph name="PlantDM">
          <Legend>
            <CheckedTitles> Pasture.StandingWt</CheckedTitles>
            <CheckedTitles> PreHarvestDM</CheckedTitles>
            <CheckedTitles> PostHarvestDM</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Pasture.StandingWt</Y>
            <Y>PreHarvestDM</Y>
            <Y>PostHarvestDM</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="DMHarvestable">
          <Legend>
            <CheckedTitles> Ryegrass.HarvestableWt</CheckedTitles>
            <CheckedTitles> Ryegrass.HarvestedWt</CheckedTitles>
            <CheckedTitles> Ryegrass.HerbageDigestibility</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.HarvestableWt</Y>
            <Y>Ryegrass.HarvestedWt</Y>
            <YRight>Ryegrass.HerbageDigestibility</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="DMYield">
          <Legend>
            <CheckedTitles> Ryegrass.HarvestedWt</CheckedTitles>
            <CheckedTitles> Cumulative Ryegrass.HarvestedWt</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.HarvestedWt</Y>
            <YRight>Cumulative Ryegrass.HarvestedWt</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="Harvest">
          <Legend>
            <CheckedTitles> Cumulative HarvestedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative HarvestedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative RemovedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative RemovedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative ReturnedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative ReturnedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <YRight>Cumulative HarvestedWt</YRight>
            <YRight>Cumulative RemovedWt</YRight>
            <YRight>Cumulative ReturnedWt</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="GLFs">
        <Graph name="GLFTemp">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.GlfTemperature</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GLFW">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.GlfWater</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GLFN">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.GlfN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="Radn">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.IrradianceTopCanopy</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="NBalance">
        <Graph name="MineralN">
          <Legend>
            <CheckedTitles> TotalNO3, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNO3, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNH4, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNH4, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalNO3</Y>
            <Y>TotalNH4</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="OrganicN">
          <Legend>
            <CheckedTitles> TotalBiomN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalBiomN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalFomN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalFomN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> SurfaceOMN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> SurfaceOMN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalHumusN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalHumusN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalBiomN</Y>
            <Y>TotalFomN</Y>
            <Y>SurfaceOMN</Y>
            <YRight>TotalHumusN</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="Uptake">
        <Graph name="PlantWater">
          <Legend>
            <CheckedTitles> Ryegrass.WaterDemand</CheckedTitles>
            <CheckedTitles> Ryegrass.WaterUptake</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.WaterDemand</Y>
            <Y>Ryegrass.WaterUptake</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="PlantNUptake">
          <Legend>
            <CheckedTitles> Ryegrass.RequiredOptimumN</CheckedTitles>
            <CheckedTitles> Ryegrass.DemandSoilN</CheckedTitles>
            <CheckedTitles> Ryegrass.UptakeN</CheckedTitles>
            <CheckedTitles> Ryegrass.FixedN</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Ryegrass.RequiredOptimumN</Y>
            <Y>Ryegrass.DemandSoilN</Y>
            <Y>Ryegrass.UptakeN</Y>
            <Y>Ryegrass.FixedN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="WBalance">
        <Graph name="SWC">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalSoilWater</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="InOuts">
          <Legend>
            <CheckedTitles> Cumulative Rain</CheckedTitles>
            <CheckedTitles> Cumulative Irrigation</CheckedTitles>
            <CheckedTitles> Cumulative Runoff</CheckedTitles>
            <CheckedTitles> Cumulative Drainage</CheckedTitles>
            <CheckedTitles> Cumulative Evaporation</CheckedTitles>
            <CheckedTitles> Cumulative WaterUptake</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <YRight>Cumulative Rain</YRight>
            <YRight>Cumulative Irrigation</YRight>
            <YRight>Cumulative Runoff</YRight>
            <YRight>Cumulative Drainage</YRight>
            <YRight>Cumulative Evaporation</YRight>
            <YRight>Cumulative WaterUptake</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
    </area>
  </simulation>
  <simulation name="TwoSpecies">
    <clock>
      <start_date type="date" description="Enter the start date of the simulation">01/07/2000</start_date>
      <end_date type="date" description="Enter the end date of the simulation">30/06/2003</end_date>
    </clock>
    <metfile name="met">
      <filename name="filename" input="yes">%apsim%X\Tests\WeatherFiles\Ruakura.met</filename>
    </metfile>
    <summaryfile />
    <area name="AgPastureClassic">
      <folder name="Managers">
        <manager2 name="HarvestingAgPasture">
          <ui>
            <Dummy1 type="category" description="Setting up a harvesting rotation for AgPasture" />
            <CutPasture_StartDate type="ddmmmdate" description=" Enter the date to start the rotation (dd/mm/yyyy):">01/01/1900</CutPasture_StartDate>
            <CutPasture_EndDate type="ddmmmdate" description=" Enter the date to end the rotation (dd/mm/yyyy):">31/12/2100</CutPasture_EndDate>
            <Dummy2 type="category" description="Parameters defining the interval and amount to harvest" />
            <CutTriggerType type="list" listvalues="Fixed interval,Target interval,Target standing biomass" description=" Choose the trigger type, defines when harvests can occur:">Fixed interval</CutTriggerType>
            <Intervals2Cut type="text" description="   If trigger is interval between harvests, enter its value (days):">21</Intervals2Cut>
            <UpperThresholds type="text" description="   If trigger is the sward standing biomass, enter the amount (kgDM/ha):">2800</UpperThresholds>
            <RemoveAmountType type="list" listvalues="Set amount,Target amount,Given amounts down to residual DM,All herbage down to residual DM" description=" Choose how the amount to harvest will be defined:">All herbage down to residual DM</RemoveAmountType>
            <Amounts2Cut type="text" description="   If setting an amount, enter the value to harvest at each cut (kgDM/ha):">185</Amounts2Cut>
            <MinimumFraction type="text" description="      For target amount, enter the fraction of the target below which harvest is ignored (0-1):">0.33</MinimumFraction>
            <LowerThresholds type="text" description="   Enter the minimum residual standing biomass after cut (kgDM/ha):">1500</LowerThresholds>
            <Dummy3 type="category" description="Management of harvested material" />
            <ResidueTreatmentType type="list" listvalues="Return as residue,Return as dung &amp; urine" description=" Choose the treatment type for the harvested material:">Return as residue</ResidueTreatmentType>
            <DMRemovalOption type="list" listvalues="Based on herbage digestibility,type a fraction (0-1)" description=" Enter fraction of DM that is removed from the field (0-1):">1.0</DMRemovalOption>
            <FracN2Remove type="text" description=" Enter fraction of N that is removed from the field (0-1):">1.0</FracN2Remove>
            <Dummy4 type="category" description="   If returning residues as dung &amp; urine" />
            <UrineDepth type="text" description="    Enter the depth down to which urine will apllied (mm):">300</UrineDepth>
            <NinDungChoice type="list" listvalues="Set the proportion returned,Define the C:N ratio" description="    Choose how the N content in dung is defined:">Set the proportion returned</NinDungChoice>
            <FracN2Dung type="text" description="      If setting the proportion of N returned in dung, enter the value (0-1):">0.4</FracN2Dung>
            <CNratioDung type="text" description="      If defining the C:N ratio of dung, enter the value (approx. 10 to 20):">0.0</CNratioDung>
          </ui>
          <text>using System;
using ModelFramework;

//This manager sets up a cut/grazing rotation for AgPasture. It also handles the return of harvested material.
// The rotation is valid between two given dates only, these don't need to be bounded to the simulation dates (start date is set to simulation start date, if prior to it).
// Harvest is done on above ground standing DM, i.e. leaves plus stem/sheath (dead and green).
// Whether harvest can happen or not is evaluated in the first day (always), and thereof evaluations follow a trigger, varying for rotation types.
// + Cut trigger types:
//  - Fixed interval:
//     Cut is allowed at given days only (set by start rotation date and then at regular intervals);
//     Cut happens if amount to remove is set and/or if existing DM is greater than ResidualDM;
//     Cut is only allowed on the date selected, 'Can_Cut' is set to "no" at the end of the day;
//  - Target interval:
//     Cut is allowed from given days (begins at start rotation date and at regular intervals after last cut);
//     Cut happens if amount to remove is set and/or if existing DM is greater than ResidualDM;
//     Cut is allow from the date selected until something is harvested, only then 'Can_Cut' is set to "no";
//  - Target standing biomass:
//     Cut is allowed when existing DM reaches the target value;
//     Cut always happens, unless UpperThreshold is bellow the LowerThreshold (i.e. residual DM);
//     Cut is allowed until something is harvested (according to remove options), 'Can_Cut' is then set to "no";
//
// + Remove amount options:
//  - Set amount: The amount to remove is fixed, if this amount is not available, no cut is performed
//  - Target amount: The amount is the smallest of the given target value and difference between existing DM and the LowerThreshold (Residual DM);
//   » To avoid harvest of very small amounts a minimum fraction of the target value can be defined. If the existing amount is below that fraction the harvest is ignored.
//  - Given amounts down to residual DM: Amount to remove in a given day is given (which is limited to the difference to the minimum residual DM). However, harvest only stops
//    when standing DM reaches the LowerThreshold.  The minimum fraction to remove is also applied here to avoid very small amounts;
//  - All herbage down to residual DM: Amount to remove is the difference between existing DM and minimum residual DM (LowerThreshold);
//
// + Residue management options:
//  - Return as residue: A fraction of the DM harvested (plus the N on it) is added as grass residue to the surfaceOM module;
//  - Return as dung &amp; urine: A fraction of the amount harvested is returned to the soil as evenly distributed urine (urea) and dung;
//     This is a very simplified approach where the fractions of DM (i.e. carbon) and N to be removed are set separately. 
//     The fraction of dry matter (or carbon) to be removed can be set (0-1) or allowed to be calculated based on herbage digestibility.
//     The partition of N between urine and dung is set by the user by defining how N in dung is computed.
//     The DM and N to be returned as dung are added to surfaceOM 'RuminantDung_PastureFed'.
//     N urine is added as urea fertiliser, distributed from surface down to  a given depth. The proportion per layer decreases linearly with depth.
//  + Defining the N content in dung:
//    - Set proportion returned: A fraction of N not removed from the field is returned in the dung. The proportion returned as dung should be given.
//    - Define the C:N ratio: The C:N ratio for dung can be defined. Note that this option may alter the amount returned as urine (to ensure mass balance).

// » The values for few parameters can be entered as an array, these are interpreted as defining the rotation within a year, so the first value is assumed to be for 01/Jan,
//    the last value is for 31/Dec, and the values in between are spread evenly over the year. The value of the parameter for each day of the year is calculated 
//    dynamically by linear interpolation.  The parameters that can be set up as arrays are:
//    - Interval between harvests (Interval2Cut)
//    - The DM amount to trigger a harvest (UpperThreshold)
//    - The amount to remove on each harvest (Amount2Cut)
//    - The residual DM after harvest (LowerThreshold)

//--&gt;  Last uptaded in: 01/Oct/2015 ..................

public class Script
{
   //Parameter variables:
   [Param] private DateTime CutPasture_StartDate;  //Date to start the cutting rotation
   [Param] private DateTime CutPasture_EndDate;    //Date to end cutting rotation

   [Param] private string CutTriggerType;          //The cut trigger type (Fixed interval,Target interval,Target standing biomass)
   [Param] private double[] Intervals2Cut;         //The interval between cuts, used if cut trigger type is by interval (days), (values will be interpolated using DoY)
   [Param] private double[] UpperThresholds;       //The standing biomass amount to trigger a cut, if cut type is target biomass (kg/ha, standing DM [leaf+stem/sheath]), (values will be interpolated using DoY)

   [Param] private string RemoveAmountType;        //The way to compute how much pasture is cut (Set amount,Target amount,Given amounts down to residual DM, All herbage down to residual DM)
   [Param] private double[] Amounts2Cut;           //The amount of DM to be removed at each cut, limited to residual DM (LowerThreshold) (kg/ha, DM above ground), (values will be interpolated using DoY)
   [Param] private double MinimumFraction;         //The minimum fraction of harvest amount that is meaningful, below which harvest is ignored (for target amount)
   [Param] private double[] LowerThresholds;       //The minimum residual DM amount left after cut (kg/ha, DM above ground), (values will be interpolated using DoY)

   [Param] private string ResidueTreatmentType;    //The treatment to the material cut (Return as residue,Return as dung &amp; urine)
   [Param] private string DMRemovalOption;         //The option to define DM to remove (Based on herbage digestibility,type a fraction (0-1))
   [Param] private double FracN2Remove;            //Fraction of the N in the material cut that is removed from simulation (0-1)
   
   [Param] private double UrineDepth;              //The depth down to which urine will be applied (mm), proportion applied per layer decrease with depth
   [Param] private string NinDungChoice;           //The way N in dung is defined (Set proportion returned,Set CN ratio)
   [Param] private double FracN2Dung;              //The fraction of returned N that goes into dung, if return is as dung &amp; urine (0-1)
   [Param] private double CNratioDung;             //The C:N ratio of dung, if return is as dung and urine (~10-20)

   //Links and events:
   [Link] private Component MySelf;
   [Link] private AgPasture MyAgPasture;
   [Link] private Fertiliser MyFertiliser;
   [Link] private SurfaceOM MySurfaceOM;
   
   //Variables read from other modules
   [Input] private DateTime Today;     //Today's date
   [Input] private double[] dlayer;    //Today's day of year

   //Outputs
   [Output][Units("")] public string Can_Cut;                  //Whether today is a harvesting day
   [Output][Units("")] public string Has_Cut;                  //Whether today's harvest was done
   [Output][Units("kg/ha")] public double harvested_dm;        //Pasture DM harvested today (kg/ha)
   [Output][Units("kgN/ha")] public double harvested_n;        //N harvested today
   [Output][Units("kg/ha")] public double removed_dm;          //DM removed from the paddock
   [Output][Units("kgN/ha")] public double removed_n;          //N removed from the paddock
   [Output][Units("kgN/ha")] public double returned_dm;        //DM returned to the paddock
   [Output][Units("kgN/ha")] public double returned_n;         //N returned to the paddock
   [Output][Units("kgN/ha")] public double NReturnedInDung;    //N returned as dung (SurfaceOM)
   [Output][Units("kgN/ha")] public double NReturnedInUrine;   //N returned as urine (urea)
   [Output][Units("kg/ha/day")] public double GrowthRateCalc;  //Average growth rate for this cut
   [Output][Units("days")] public int DaysAfterCut;            //Number of days after last harvest
   [Output][Units("kg/ha")] public double PreHarvestDM;        //Total standing DM (Leaf + Stem/Sheath) before cut
   [Output][Units("kg/ha")] public double PostHarvestDM;       //Total standing DM (Leaf + Stem/Sheath) after cut
   [Output][Units("kg/ha")] public double ResidualDM;          //Today's residual DM
   [Output][Units("kg/ha")] public double TriggerDM;           //Today's trigger DM
   [Output][Units("kg/ha")] public double HarvestAmount;       //Today's DM amount to harvest
   [Output][Units("days")] public int CutInterval;             //Todays cut interval

   //Internal variables
   private double FracDM2Remove;       //The fraction of DM to be removed from the simulation (0-1)   
   private bool CutIsAllowed;          //Whether cutting are allowed
   private int[] LowerThresholdDays;   //The DoY for each value of lower threshold
   private int[] UpperThresholdDays;   //The DoY for each value of upper threshold
   private int[] Amount2HarvestDays;   //The DoY for each amount to cut given
   private int[] CutIntervalDays;      //The DoY for each given cut interval
   private double[] FracLayer;         //The fraction of urine to be applied in each layer

   [EventHandler()]
   public void OnInitialised()
   {
      //Set the arrays with days
      LowerThresholdDays = setDays(LowerThresholds.Length);
      UpperThresholdDays = setDays(UpperThresholds.Length);
      Amount2HarvestDays = setDays(Amounts2Cut.Length);
      CutIntervalDays = setDays(Intervals2Cut.Length);
      
      //Reset variables
      CutInterval = (int) InterpolateVals(Today.DayOfYear, CutIntervalDays, Intervals2Cut);
      ResidualDM = InterpolateVals(Today.DayOfYear, LowerThresholdDays, LowerThresholds);
      TriggerDM = InterpolateVals(Today.DayOfYear, UpperThresholdDays, UpperThresholds);
      HarvestAmount = InterpolateVals(Today.DayOfYear, Amount2HarvestDays, Amounts2Cut);
      DaysAfterCut = CutInterval - 1;
      CutIsAllowed = false;
      Can_Cut = "no";
      Has_Cut = "no";

      //The fraction of DM to remove
      // - DMRemovalOption can be a value (0-1 = FracDM2Remove) or a string, which tell us that FracDM2Remove is based on digestibility
      if (DMRemovalOption.Contains("digestibility"))
      {
         FracDM2Remove = MyAgPasture.DefoliatedDigestibility;
      }
      else
      {
         try
         {
            FracDM2Remove = Convert.ToDouble(DMRemovalOption);
            if ((FracDM2Remove &lt; 0.0) || (FracDM2Remove &gt; 1.0))
            {
               throw new Exception("Fraction of DM to remove is out of bounds");
            }
         } 
         catch 
         {
            throw new Exception("Fraction of DM to remove is not valid");
         }
      }
      
      //The fraction of N to remove
      if ((FracN2Remove &lt; 0.0) || (FracN2Remove &gt; 1.0))
      {
         throw new Exception("Fraction of N to remove is out of bounds");
      }
      
      //How to return residues (DM and N)
      if (ResidueTreatmentType.Contains("urine")) 
      {
         if (NinDungChoice.Contains("proportion")) 
         {
            if ((FracN2Dung &lt; 0.0) || (FracN2Dung &gt; 1.0))
            {
               throw new Exception("Proportion of N to return as dung is out of bounds");
            }
         } 
         else if (NinDungChoice.Contains("CN ratio")) 
         {
            if ((CNratioDung &lt; 0.0) || (CNratioDung &gt; 50.0))
            {
               throw new Exception("C:N ratio of dung is out of bounds");
            }
         } 
         else
         {
            throw new Exception("Choice for setting N content in dung is not valid");
         }
      }

      //compute the fraction of urine to be aplied per layer
      if (ResidueTreatmentType.Contains("urine"))
      {
         FracLayer = new double[dlayer.Length];
         double DepthFromSurface = 0.0;
         double dltZ = 0.0;
         for (int z = 0; z &lt; dlayer.Length;z++)
         {
            if(DepthFromSurface &lt; UrineDepth)
            {
               dltZ = Math.Min(dlayer[z], UrineDepth - DepthFromSurface);
               FracLayer[z] = 2 * dltZ * (1 - ((DepthFromSurface + 0.5 * dltZ) / UrineDepth)) / UrineDepth;
            }
            DepthFromSurface += dlayer[z];
         }
      }
      //Check whether choices are allowed and prepare messages     
      string myMessage1;
      string myMessage2 = "     remove ";
      switch (CutTriggerType.ToLower())
      {
         case "fixed interval":
            if (RemoveAmountType.ToLower().Contains("amount")) 
            {
               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else
               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            } 
            else
            {
               myMessage2 += RemoveAmountType.ToLower() + " (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut only every " + CutInterval.ToString() + " days";
            break;
         case "target interval":
            if (RemoveAmountType.ToLower().Contains("amount"))
            {               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else

               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            }
            else 
            {
               myMessage2 += RemoveAmountType.ToLower() + " = (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut every " + CutInterval.ToString() + " days, or when possible";
            break;
         case "target standing biomass":
            if (RemoveAmountType.ToLower().Contains("amount")) 
            {
               if (RemoveAmountType.ToLower().Contains("residual")) 
               {
                  myMessage2 += RemoveAmountType.ToLower() + " (amount = " + HarvestAmount.ToString("#0") + " kg/ha/day, residual DM = " + ResidualDM.ToString("#0") + " kg/ha)";
               }
               else
               {
                  myMessage2 += RemoveAmountType.ToLower() + " = " + HarvestAmount.ToString("#0") + " kg/ha";
               }
            }
            else 
            {
               myMessage2 += RemoveAmountType.ToLower() + " = (" + ResidualDM + " kg/ha)";
            }
            myMessage1 = ", cut when DM reaches " + TriggerDM + " kgDM/ha";
            break;
         default:
            throw new Exception("Cut trigger type is not valid");
      }

      //write messages on summary file
      Console.WriteLine("");
      Console.WriteLine("   Harvesting rotation for AgPasture initialised");
      Console.WriteLine("     rotation rule valid between " + CutPasture_StartDate.ToString("dd/MM/yyyy") + " and " + CutPasture_EndDate.ToString("dd/MM/yyyy"));
      Console.WriteLine("     rotation type: " + CutTriggerType.ToLower() + myMessage1);
      Console.WriteLine(myMessage2);
      if (DMRemovalOption.Contains("digestibility"))
      {
         myMessage1 = DMRemovalOption.ToLower();
      }
      else
      {
         myMessage1 = ((1.0 - FracDM2Remove) * 100).ToString("#0.0") + "%";
      }
      Console.WriteLine("     fraction of harvested DM to " + ResidueTreatmentType.ToLower() + ": " + myMessage1);
      myMessage1 = ((1.0 - FracN2Remove) * 100).ToString("#0.0") + "%";
      if (FracN2Remove &lt; 0.999999)
      {
         myMessage1 += " (" + ((1.0 - FracN2Dung) * 100).ToString("#0.0") + "% of it as urine)";
      }
      Console.WriteLine("     fraction of harvested N to " + ResidueTreatmentType.ToLower() + ": " + myMessage1);
      if (ResidueTreatmentType.Contains("urine"))
      {
         Console.WriteLine("     proportion of urine N to be added in each layer:");
         myMessage1 = FracLayer[0].ToString("0.000");
         for (int z = 1;z &lt; dlayer.Length;z++)
         {
            myMessage1 += ", " + FracLayer[z].ToString("0.000");
         }
         Console.WriteLine("      " + myMessage1);
      }
      Console.WriteLine("");
   }

   [EventHandler()]
   public void OnPrepare()
   {
      double Amount2Harvest;
      double AmountHarvestable;
      double ExistingDM;

      //Reset variables:
      Has_Cut = "no";
      harvested_dm = 0.0;
      harvested_n = 0.0;
      removed_dm = 0.0;
      removed_n = 0.0;
      returned_dm = 0.0;
      returned_n = 0.0;
      GrowthRateCalc = 0.0;
      NReturnedInDung = 0.0;
      NReturnedInUrine = 0.0;
      DaysAfterCut = DaysAfterCut + 1;
      CutInterval = (int) InterpolateVals(Today.DayOfYear, CutIntervalDays, Intervals2Cut);
      ResidualDM = InterpolateVals(Today.DayOfYear, LowerThresholdDays, LowerThresholds);
      TriggerDM = InterpolateVals(Today.DayOfYear, UpperThresholdDays, UpperThresholds);
      HarvestAmount = InterpolateVals(Today.DayOfYear, Amount2HarvestDays, Amounts2Cut);
      ExistingDM = MyAgPasture.StandingPlantWt;

      //Decide whether cut is allowed:
      if ((Today.Date &gt;= CutPasture_StartDate.Date) &amp;&amp; (Today.Date &lt;= CutPasture_EndDate.Date))
      {
         switch (CutTriggerType.ToLower())
         {
            case "fixed interval":
               //Allways send an CutIsAllowed if interval is right, it will be reset in the end of the day
               if (DaysAfterCut &gt;= CutInterval)
               {
                  CutIsAllowed = true;
               }
               else
               {
                  CutIsAllowed = false;
                  //always reset CutIsAllowed
               }
               break;
            case "target interval":
               //Allways send an CutIsAllowed if interval is right, it will be reset only if cut actually happens (depends on amount type)
               if (DaysAfterCut &gt;= CutInterval)
               {
                  CutIsAllowed = true;
               }
               break;
            case "target standing biomass":
               //Send an CutIsAllowed if existing DM amount is above the target (TriggerDM/UpperThreshold), it will be reset if cut actually happens
               if (ExistingDM &gt;= TriggerDM)
               {
                  CutIsAllowed = true;
               }
               break;
         }

         //The use of these avoid (or at least reduces) problems when two managers are used in the same simulation
         if (CutIsAllowed)
         {
            Can_Cut = "yes";
         }
         else
         {
            Can_Cut = "no";
         }
         
         //Decide how much to cut:
         if (CutIsAllowed)
         {
            PreHarvestDM = MyAgPasture.StandingPlantWt;

            switch (RemoveAmountType.ToLower())
            {
               case "set amount":
                  Amount2Harvest = HarvestAmount;
                  if (CutTriggerType.ToLower() == "fixed interval")
                  {
                     AmountHarvestable = PreHarvestDM;
                  }
                  else
                  {
                     AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  }
                  break;
               case "target amount":
                  Amount2Harvest = Math.Min(Math.Max(MinimumFraction * HarvestAmount, PreHarvestDM - ResidualDM), HarvestAmount);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               case "given amounts down to residual dm":
                  Amount2Harvest = Math.Min(Math.Max(MinimumFraction * HarvestAmount, PreHarvestDM - ResidualDM), HarvestAmount);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               case "all herbage down to residual dm":
                  Amount2Harvest = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  AmountHarvestable = Math.Max(0.0, PreHarvestDM - ResidualDM);
                  break;
               default:
                  throw new Exception("Option to compute DM amount to harvest is not valid");
            }

            //Decide whether cut actually happens:
            if ((AmountHarvestable &gt;= Amount2Harvest))
            {
               CutPasture(Amount2Harvest);
               HandleResidues();
               //reset cut variables
               DaysAfterCut = 0;
               Has_Cut = "yes";
               GrowthRateCalc = harvested_dm / DaysAfterCut;
               PostHarvestDM = MyAgPasture.StandingPlantWt;
               if (RemoveAmountType.Contains("amount"))
               { // check whether reamining amount is significant
                  if (Math.Abs(PostHarvestDM - ResidualDM) &lt; MinimumFraction * HarvestAmount)
                  {  
                     CutIsAllowed = false;
                  }
               }
               else
               {
                  CutIsAllowed = false;
               }
            }
         }
         else
         {
            Amount2Harvest = 0.0;
            AmountHarvestable = 0.0;
         }
      }
   }


   private void CutPasture(double Amount2Harvest)
   {
      // -- Cutting pasture ----------------------------------------------------------------------------

      GrazeType CutData = new GrazeType();
      CutData.sender = MySelf.Name;
      CutData.amount = (float) Amount2Harvest;
      CutData.type = "SetRemoveAmount";
      MyAgPasture.Graze(CutData);
      harvested_dm = MyAgPasture.HarvestWt;
      harvested_n = MyAgPasture.HarvestN;

      //Let user know (via summary) that a cut was made
      Console.WriteLine(Today.ToString("dd MMMM yyyy") + " (Day of year=" + Today.DayOfYear.ToString() + "), " + MySelf.Name + ":");
      Console.WriteLine("     Removing " + harvested_dm.ToString("#0") + "kg DM/ha, with " + harvested_n.ToString("#0.0") + "kg N/ha");
   }

   
   private void HandleResidues()
   {
      // -- Residue management -------------------------------------------------------------------------
      
      if (DMRemovalOption.Contains("digestibility"))
      {
         FracDM2Remove = MyAgPasture.DefoliatedDigestibility;
      }
      removed_dm = harvested_dm * FracDM2Remove;
      removed_n = harvested_n * FracN2Remove;
      returned_dm = harvested_dm - removed_dm;
      returned_n = harvested_n - removed_n;

      if (returned_dm &lt; 0.0)
      {
         throw new Exception("Return_DM value is negative");
      }
      if (returned_n &lt; 0.0)
      {
         throw new Exception("Return_N value is negative");
      }

      if (ResidueTreatmentType.ToLower() == "return as residue")
      {
         if (FracDM2Remove &lt; 1.0)
         {
            BiomassRemovedType SOMData = new BiomassRemovedType();
            SOMData.crop_type = "grass";
            SOMData.dm_type = new string[] { SOMData.crop_type };
            SOMData.dlt_crop_dm = new float[] { (float) returned_dm };
            SOMData.dlt_dm_n = new float[] { (float) returned_n };
            SOMData.fraction_to_residue = new float[] { 1.0F };
            MySurfaceOM.BiomassRemoved(SOMData);            
         }
      }
      else if (ResidueTreatmentType.ToLower() == "return as dung &amp; urine")
      {
         // It is advised that dung and urine return should be done using another manager or modules, such as 'UrinePatch' 

         if (NinDungChoice.Contains("proportion"))
         {
            NReturnedInDung = returned_n * FracN2Dung;
         }
         else if (NinDungChoice.Contains("CN ratio"))
         {
            NReturnedInDung = returned_dm / CNratioDung;
         }
         NReturnedInUrine = Math.Max(0.0, returned_n - NReturnedInDung);

         if (NReturnedInDung &gt; returned_n)
         {
            throw new Exception("Amount of N to return as dung is larger than total return, check proportion or CN ratio");
         }

         if ((returned_dm &gt; 0.0) || (NReturnedInDung &gt; 0.0))
         {
            BiomassRemovedType SOMData = new BiomassRemovedType();
            SOMData.crop_type = "RuminantDung_PastureFed";
            SOMData.dm_type = new string[] { SOMData.crop_type };
            SOMData.dlt_crop_dm = new float[] { (float) returned_dm };
            SOMData.dlt_dm_n = new float[] { (float) NReturnedInDung };
            SOMData.fraction_to_residue = new float[] { 1.0F };
            MySurfaceOM.BiomassRemoved(SOMData);            
         }
         
         if (NReturnedInUrine &gt; 0.0)
         {
            FertiliserApplicationType UrineData = new FertiliserApplicationType();
            UrineData.Amount = (float) NReturnedInUrine;
            UrineData.Depth = 10;   // mm
            UrineData.Type = "urea_n";
            MyFertiliser.Apply(UrineData);
         }
      }
      else
      {
         throw new Exception("Residue management type is not valid");
      }
   }

   private int[] setDays(int NumDates)
   {
      //Define the day of year for each value on am array, given the arra's length - first value, day=1; last value day = 365; dates in between spread evenly (rounded)
      int[] xArray;
      if (NumDates &lt; 366)
      {
         xArray = new int[NumDates];
         xArray[0] = 1;
         if (NumDates &gt; 1)
         {
            xArray[NumDates - 1] = 365;
            if (NumDates &gt; 2)
            {
               for (int i = 1; i &lt; NumDates - 1; i++)
               {
                  xArray[i] = 365 * i / (NumDates);
               }
            }
         }
      }
      else
      {
         throw new Exception("Number of items on CoverTarget greater than maximum allowed (365)");
      }
      
      return xArray;
   }

   private double InterpolateVals(int my_x, int[] xArray, double[] yArray)
   {
      //Find out the value correspondig to my_x in the function described by the x and y arrays
      double my_y = 0.0;
      int iN = xArray.Length - 1;
      if (my_x &lt;= xArray[0])
      {
         //values below x[0] are set to y[0]
         my_y = yArray[0];
      }
      else if (my_x &gt;= xArray[iN])
      {
         //value above x(n) are set to y(n)
         my_y = yArray[iN];
      }
      else
      {
         //find the nearest neighbours and interpolate (linear)
         for (int i = 1; i &lt;= iN; i++)
         {
            if (my_x &lt;= xArray[i])
            {
               my_y = yArray[i - 1] + ((my_x - xArray[i - 1]) * (yArray[i] - yArray[i - 1]) / (xArray[i] - xArray[i - 1]));
               i = xArray.Length;
            }
         }
      }
      
      return my_y;
   }
}
</text>
        </manager2>
        <manager2 name="FertOnSoilNCriteria">
          <ui>
            <category type="category" description="Fertiliser application based on Soil N amount" />
            <FertAllowed type="yesno" description="Turn ferliser applications on?">yes</FertAllowed>
            <FertDepth2SoilN type="text" description="Depth to calculate available soil N (mm):">500</FertDepth2SoilN>
            <FertCriticalSoilN type="text" description="Minimum available N, triggers an application (kgN/ha):">10</FertCriticalSoilN>
            <FertNAmount type="text" description="Amount of N fertiliser for each application (kgN/ha):">25</FertNAmount>
            <FertType type="list" listvalues="no3_n,nh4_n,nh4no3,urea_n,urea_no3,urea,nh4so4_n,rock_p,banded_p,broadcast_p" description="Type of N fertiliser to apply:">urea_n</FertType>
            <FertApplicationDepth type="text" description="Depth at which to apply the fertiliser (mm):">1</FertApplicationDepth>
            <FertMinimumDays type="text" description="Minimum period between applications (days):">30</FertMinimumDays>
          </ui>
          <text>Imports System
Imports ModelFramework

Public Class Script 
   &lt;Link()&gt; Dim MyPaddock As Paddock
   &lt;Link()&gt; Dim Fert As Fertiliser

   'Parameters - user inputs from the Properties tab
   &lt;Param&gt; Private FertAllowed As String           'Whether fertilisation is allowed at all
   &lt;Param&gt; Private FertDepth2SoilN As Double       'Depth in the soil to calculate the N storage
   &lt;Param&gt; Private FertCriticalSoilN As Double     'Minimum soil N, below which fertiliser application is triggered
   &lt;Param&gt; Private FertNAmount As Double           'Amount of N fertiliser per application
   &lt;Param&gt; Private FertType As String              'Type of fertiliser to apply
   &lt;Param&gt; Private FertApplicationDepth As Double  'Depth in the soil that the fertilser will be applied
   &lt;Param&gt; Private FertMinimumDays As Double       'Minimum interval between appplications

   'Inputs - got by this Manager from elsewhere in APSIM
   &lt;Input&gt; Private Today As DateTime            'Today's date from APSIM 
   &lt;Input&gt; Private dlayer As Double()           'Array of soil layer thicknesses - for calculation of mineral N in the soil
   &lt;Input&gt; Private no3 As Double()              'Array of nitrate-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil
   &lt;Input&gt; Private nh4 As Double()              'Array of ammonium-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil
   &lt;Input&gt; Private urea As Double()             'Array of urea-N (kg N /ha) for each soil layer - for calculation of mineral N in the soil

   'Outputs - calculated by this Manager and available to be output by the user
   &lt;Output&gt; Private TopMineralN As Double       'Mineral-N stored in the soil to a depth of FertDepth2SoilN

   'Other variables that are calculated but not needed for outputs
   Private LayerWeights As Double()             'Weigthing of each layer for FertCriticalSoilN calculation
   Private lastApplicationDate As DateTime
   Private fertiliserIsAllowed As Boolean
   Private nLayers As Integer
   Private daysSinceLastApplication As Double

   &lt;EventHandler()&gt; Public Sub OnInit2()
      '"OnInit2" is an event handler gets called once at the start of the simulation 

      fertiliserIsAllowed = (FertAllowed.ToLower = "yes")
      nLayers = dLayer.Length

   End Sub

   &lt;EventHandler()&gt; Public Sub OnPrepare()
      '"OnPrepare" is an event handler gets called once at the start of every day (before Prepare and Post) 

      daysSinceLastApplication = (Today - lastApplicationDate).TotalDays

      ' get the N stored in the soil
      Dim depthFromSurface As Double = 0.0
      Dim fracLayer As Double = 0.0
      TopMineralN = 0.0
      For layer As Integer = 0 To nLayers
         fracLayer = Math.Min(1.0, (FertDepth2SoilN - depthFromSurface) / dlayer(layer))
         TopMineralN += (NO3(layer) + NH4(layer) + Urea(layer)) * fracLayer
         depthFromSurface += dlayer(layer)
         If (depthFromSurface &gt;= FertDepth2SoilN)
            layer = nLayers
         End If
      Next

      ' Check whether a fertiliser application is due
      If (fertiliserIsAllowed And daysSinceLastApplication &gt;= FertMinimumDays And TopMineralN &lt;= FertCriticalSoilN) Then
         Fert.Apply(FertNAmount, FertApplicationDepth, FertType)
         lastApplicationDate = Today
      End If

   End Sub

End Class
   </text>
        </manager2>
        <manager2 name="CentrePivotIrrigation">
          <ui>
            <Dummy type="category" description="Centre Pivot Irrigation Manager" />
            <AllowIrrigation type="yesno" description=" Turn irrigation on?">no</AllowIrrigation>
            <Dummy type="category" description="General irrigation parameters" />
            <Irrigation_start_date type="ddmmmdate" description=" Start of irrigation season (dd-mmm):">15-Sep</Irrigation_start_date>
            <Irrigation_end_date type="ddmmmdate" description=" End of irrigation season (dd-mmm):">30-May</Irrigation_end_date>
            <DepthToCalcPAW type="text" description=" Enter the soil depth to which water deficit is computed (mm):">300</DepthToCalcPAW>
            <CritRainToPause type="text" description=" Critical rainfall - amount over 3 days after which irrigation is paused (mm):">30</CritRainToPause>
            <DaysToPauseOnCritRain type="text" description=" Number of days irrigation is paused once critical rainfall is reached (days):">3</DaysToPauseOnCritRain>
            <IrrigSetup type="list" listvalues="specify,calculate" description=" Select whether irrigation setup is specified or calculated internally">specify</IrrigSetup>
            <category type="category" description="Irrigation setup (if not to calculate)" />
            <IrrigTrigger type="text" description=" Soil water deficit at which irrigation starts (mm):">30</IrrigTrigger>
            <IrrigUpperThreshold type="text" description=" Soil water deficit at which irrigation stops, daily amount is added regardless (mm):">0</IrrigUpperThreshold>
            <IrrigAmount type="text" description=" Amount of irrigation to apply (mm/day):">6</IrrigAmount>
            <IrrigDuration type="text" description=" Duration of each irrigation event (min):">1440</IrrigDuration>
            <IrrigReturn type="text" description=" Irrigation return period (days):">1</IrrigReturn>
            <IrrigEfficiency type="text" description=" Irrigation efficiency (%):">100</IrrigEfficiency>
          </ui>
          <text>Imports System
Imports ModelFramework

'This manager applies irrigation following rules mimicking a centre-pivot management.
' Irrigation parameters can be given or be left to be calculated by the module (based on the soil PAW)

'--&gt;  Last uptaded in: 15/Nov/2014 ..................


Public Class Script 
   
   'Parameter variables:
   &lt;param&gt; Private AllowIrrigation As String                   'Indicates whether irrigation is on (yes) or off (no)
   &lt;param&gt; Private Irrigation_start_date As String             'Start of the irrigation season (dd-mmm)
   &lt;param&gt; Private Irrigation_end_date As String               'End of the irrigation season (dd-mmm)
   &lt;param&gt; Private DepthToCalcPAW As Double                    'Depth to consider plant available water, and deficit (mm)
   &lt;param&gt; Private CritRainToPause As Double                   'Value of rain (sum over 3 days) when irrigation is paused (mm)
   &lt;param&gt; Private DaysToPauseOnCritRain As Double             'Number of days irrigations is paused when CritRain is reached
   &lt;param&gt; Private IrrigSetup As String                        'Define wheter the irrgation parameters are define by user of calculated
   &lt;param&gt; Private IrrigTrigger As Double                      'User defined irrigation trigger (mm)
   &lt;param&gt; Private IrrigUpperThreshold As Double               'User defined water deficit at which irrigation stops, daily amount is added regardless (mm):
   &lt;param&gt; Private IrrigAmount As Double                       'User defined irrigation amount (mm)
   &lt;param&gt; Private IrrigDuration As Double                     'User defined duration of irrigation (minutes)
   &lt;param&gt; Private IrrigReturn As Double                       'User defined irrigation return period (days)
   &lt;param&gt; Private IrrigEfficiency As Double                   'User defined irrigation efficiency (%)

   'Link to other modules:
   &lt;Link&gt; Private Irrigator As Irrigation   
   
   'Variables read from other modules
   &lt;Input&gt; Private today As DateTime                           'Today's date
   &lt;Input&gt; Private dlayer As Double()                          'Thickness of soil layers (mm)
   &lt;Input&gt; Private rain As Double                              'Rainfall (mm)
   &lt;Input&gt; Private sw_dep As Double()                          'Soil water content (mm)
   &lt;Input&gt; Private dul_dep As Double()                         'Soil water content at DUL (mm)
   &lt;Input&gt; Private ll15_dep As Double()                        'Soil water content at LL15 (mm)

   'Output variables
   &lt;Output&gt;&lt;Units("mm")&gt; Public SoilWaterDeficit As Double          'Soil water deficit (mm)
   &lt;Output&gt;&lt;Units("days")&gt; Public DaysAfterIrrigation As Double     'The number of days after irrigation was applied
   &lt;Output&gt;&lt;Units("mm")&gt; Public SoilPAWforIrrigation As Double      'The soil plant available water (mm)
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationTrigger As Double         'The soil water deficit that triggers irrigation (mm)
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationUpperThreshold As Double  'The soil water deficit for stopping irrigation (mm)
   &lt;Output&gt;&lt;Units("days")&gt; Public IrrigationReturnPeriod As Integer 'The return period for irrigation
   &lt;Output&gt;&lt;Units("mm")&gt; Public IrrigationAmount As Double          'The amount of water to add in an irrigation event (mm/day)
   &lt;Output&gt;&lt;Units("min")&gt; Public IrrigationDuration As Double       'The duration of each irrigation event (min/day)
   &lt;Output&gt;&lt;Units("%")&gt; Public IrrigationEfficiency As Double       'The irrigaton efficiency (%)
   &lt;Output&gt;&lt;Units("mm")&gt; Public RainOnPrevious3Days As Double       'The amount of rainfall over the previous 3 days
   &lt;Output&gt;&lt;Units("days")&gt; Public Days2Pause As Double              'The number of days that irrigation is paused due to large rainfall

   'Internal variables
   Private StartDate As Date                                   'The date when irrigation start (in date format)
   Private EndDate As Date                                     'The date when irrigation finish (in date format)
   Private RainOnPreviousDays(2) As Double                     'Record the rain of the previous 3 days (mm)
   Private IrrigationRequired As Boolean
      
   &lt;EventHandler()&gt; Public Sub OnInitialised()

      'check the presence of the irrigation module and one of the soil modules
      Call CheckModules()
      
      'Put the dates into date format:
      StartDate = Date.Parse(Irrigation_start_date)
      EndDate = Date.Parse(Irrigation_end_date)

      DaysAfterIrrigation = IrrigationReturnPeriod
      IrrigationRequired = False
      
      'Zero rain on previous 3 days
      RainOnPrevious3Days = 0.0
      Array.Clear(RainOnPreviousDays, 0, RainOnPreviousDays.Length)

      'Calculate soil PAW for irrigation
      Dim DepthFromSurface As Double = 0
      SoilPAWforIrrigation = 0.0
      For z As Integer = 0 To dlayer.length - 1
         If DepthFromSurface &lt; DepthToCalcPAW Then
            Dim FractionLayer As Double = math.Min(1, math.Max(0, DepthToCalcPAW - DepthFromSurface) / dlayer(z))
            '  if depth does not coincide with the end of the layer, only a corresponding fraction of it is used
            SoilPAWforIrrigation += (dul_dep(z) - ll15_dep(z)) * FractionLayer
         Else
            z = dlayer.Length - 1
         End If
         DepthFromSurface += dlayer(z)
         'DepthFromSurface = DepthFromSurface + dlayer(z)
      Next
      
      Dim IrrigParamType As String
      If IrrigSetup.ToLower = "specify" Then
         'Irrgation parameters are given by the user (no check is made on their values)
         IrrigParamType = "specified by user"
         IrrigationTrigger = IrrigTrigger
         IrrigationUpperThreshold = IrrigUpperThreshold
         IrrigationAmount = IrrigAmount
         IrrigationDuration = IrrigDuration
         IrrigationReturnPeriod = IrrigReturn
         IrrigationEfficiency = IrrigEfficiency
      Else 'IrrigSetup = "calculate"
         'Determine the irrigation parameters based on soil PAW and equipment type
         IrrigParamType = "calculated by manager"
         '  Assumptions:  -capacity to supply water is not limiting (pump and pipes are well dimensioned)
         '                -irrigation ideally starts when soil available water is half of PAW, but trigger is limited to between 10 and 40mm
         '                -amount of irrigation applied aim to fill up to 90% of PAW, but is limited between 10 and 30mm/day
         '                -rotation of the pivot is function of a fixed irrigation rate (7.5mm/day)
         '                -duration is function ofthe rotation period and nozzle size (5m = wetted span, equals ~1.5 degress at a radius of 200m)
         '                -the efficiency is function of PAW, set a minimum of 70% and a maximum of 90%, and the rate of change (slope) is 0.15.
         IrrigationTrigger = Math.Min(40.0, Math.Max(10.0, SoilPAWforIrrigation / 2.0))
         IrrigationAmount = Math.Max(10.0, Math.Min(30.0, 0.9 * SoilPAWforIrrigation - IrrigationTrigger))
         IrrigationUpperThreshold = Math.Max(1.0, SoilPAWforIrrigation - IrrigationAmount)
         IrrigationReturnPeriod = Math.Round(IrrigationAmount / 7.5)
         IrrigationDuration = IrrigationReturnPeriod * 1440 * (1.5 / 360)
         IrrigationEfficiency = Math.Min(90.0, 70.0 + 0.15 * SoilPAWforIrrigation)
      End If

      Console.WriteLine("")
      If AllowIrrigation.ToLower = "yes" Then
         Console.WriteLine("   Irrigation by centre-pivot is enabled")
         Console.WriteLine("     Parameters have been " &amp; IrrigParamType &amp; ":")
         Console.WriteLine("     - Irrigation season between " &amp; StartDate.ToString("dd MMMM") &amp; " and " &amp; EndDate.ToString("dd MMMM"))
         Console.WriteLine("     - Soil layer depth for calculating irrigation is " &amp; DepthToCalcPAW.ToString("0.0") &amp; " mm")
         Console.WriteLine("        With plant available water of " &amp; SoilPAWforIrrigation.ToString("0.0") &amp; " mm")
         Console.WriteLine("     - Amount applied per irrigation event: " &amp; IrrigationAmount.ToString("#0") &amp; " mm")
         Console.WriteLine("     - Duration of each irrigation event: " &amp; IrrigationDuration.ToString("#0") &amp; " min")
         Console.WriteLine("     - Soil water deficit to trigger irrigation: " &amp; IrrigationTrigger.ToString("#0") &amp; " mm")
         Console.WriteLine("     - Return period for irrigation system: " &amp; IrrigationReturnPeriod.ToString("#0") &amp; " days")
         Console.WriteLine("     - Efficiency of the irrigation system: " &amp; IrrigationEfficiency.ToString("0.0") &amp; " %")

      Else
         Console.WriteLine("   Irrigation by centre-pivot is disabled")
      End If
      Console.WriteLine("")

   End Sub

   
   &lt;EventHandler()&gt; Public Sub OnPrepare()
      
      'Calc the soil water deficit     
      Dim DepthFromSurface As Integer = 0
      SoilWaterDeficit = 0.0         
      For z As Integer = 0 To dlayer.length - 1
         If DepthFromSurface &lt; DepthToCalcPAW Then
            Dim FractionLayer As Double = math.Min(1, math.Max(0, DepthToCalcPAW - DepthFromSurface) / dlayer(z))
            '  if depth does not coincide with the end of the layer, only a corresponding fraction of it is used
            SoilWaterDeficit += Math.Max(0, math.Min(dul_dep(z) - ll15_dep(z), dul_dep(z) - sw_dep(z))) * FractionLayer
         Else
            z = dlayer.Length - 1
         End If
         DepthFromSurface += dlayer(z)
      Next
      SoilWaterDeficit = -SoilWaterDeficit
      
      'Decide whether to irrigate
      If AllowIrrigation.ToLower = "yes" Then
         'Calc the amount of rain today plus the previous two days
         RainOnPreviousDays(2) = RainOnPreviousDays(1)
         RainOnPreviousDays(1) = RainOnPreviousDays(0)
         RainOnPreviousDays(0) = rain
         RainOnPrevious3Days = RainOnPreviousDays(0) + RainOnPreviousDays(1) + RainOnPreviousDays(2)
            
         DaysAfterIrrigation = DaysAfterIrrigation + 1

         If isBetween(today, StartDate, EndDate) Then   'We are at the irrigation season     

            'Calc the number of days to pause irrigation after large rainfal events
            If RainOnPrevious3Days &gt;= CritRainToPause Then
               Days2Pause = DaysToPauseOnCritRain
            Else
               Days2Pause = math.Max(0, Days2Pause - 1)
            End If

            'Check whether irrigation is paused
            If Days2Pause &lt; 0.5 Then
               'Irrigation is not paused, check return period
               If DaysAfterIrrigation &gt; IrrigationReturnPeriod Then    'Irrigation is allowed
                  'Check whether soil needs irrigation
                  If SoilWaterDeficit &lt;= -IrrigationTrigger Then
                     IrrigationRequired = True
                  Else If SoilWaterDeficit &gt; -IrrigationUpperThreshold Then
                     IrrigationRequired = False
                  End If

                  If IrrigationRequired Then
                     Dim MyIrrigation As IrrigationApplicationType = New IrrigationApplicationType
                     MyIrrigation.Amount = IrrigationAmount / (IrrigationEfficiency * 0.01)
                     MyIrrigation.time = ""
                     MyIrrigation.Duration = 0
                     MyIrrigation.source = New String() {}
                     MyIrrigation.Crop_Area = 0
                     MyIrrigation.NH4 = 0
                     MyIrrigation.NO3 = 0
                     MyIrrigation.CL = 0
                     Irrigator.Variable("irrigation_efficiency").Set(IrrigationEfficiency * 0.01)
                     Irrigator.Apply(MyIrrigation)
                     DaysAfterIrrigation = 1
                     Console.WriteLine(Today.ToString("dd MMMM yyyy") + " (Day of year=" + Today.DayOfYear.ToString + "), Irrigation:")
                     Console.WriteLine("  Centre-pivot is applying irrigation. Amount = " &amp; MyIrrigation.Amount.ToString("0.0") &amp; " mm")
                  End If
               End If
            End If
         End If
      End If
         
   End Sub

   
   Private Function isBetween(ByVal today As Date, ByVal startdate As Date, ByVal enddate As Date) As Boolean
      
      'Check whether today is between the start and the end dates.  This is needed because start and end dates don't have year
      
      Dim date1 As Date = New Date(today.Year, startdate.Month, startdate.Day)
      Dim date2 As Date = New Date(today.Year, enddate.Month, enddate.Day)

      If (date1 &gt; date2) Then
         'Irrigation in the middle of the year - ex: summer in the northern hemisphere
         Return (today &gt;= date1 Or today &lt;= date2)
      Else
         'Irrigation in the end of the year - ex: summer in the southern hemisphere
         Return (today &gt;= date1 And today &lt;= date2)
      End If
      
   End Function


   Private Sub CheckModules()
   
      If Irrigator Is Nothing Then
         Throw New Exception("Centre pivot manager requires the presense of the irrigation module in the paddock")
      End If
      
   End Sub
   
End Class
</text>
        </manager2>
      </folder>
      <micromet name="Micromet">
        <soilalbedo type="text" description="soilalbedo">0.23</soilalbedo>
        <a_interception type="text" description="a_interception">0</a_interception>
        <b_interception type="text" description="b_interception">0</b_interception>
        <c_interception type="text" description="c_interception">0</c_interception>
        <d_interception type="text" description="d_interception">0</d_interception>
      </micromet>
      <irrigation name="Irrigation">
        <automatic_irrigation type="list" listvalues="on,off" description="Automatic irrigation">off</automatic_irrigation>
        <asw_depth type="text" description="Depth to which ASW is calculated. (mm)">600</asw_depth>
        <crit_fr_asw type="text" description="Fraction of ASW below which irrigation is applied (0-1.0)">0.5</crit_fr_asw>
        <irrigation_efficiency type="text" description="Efficiency of the irrigation. (0-1.0)">1</irrigation_efficiency>
        <irrigation_allocation type="list" listvalues="on,off" description="Allocation limits">off</irrigation_allocation>
        <allocation type="text" description="Allocation in mm">0</allocation>
        <default_no3_conc type="text" description="Nitrate concentration (ppm N)">0</default_no3_conc>
        <default_nh4_conc type="text" description="Ammonium concentration (ppm N)">0</default_nh4_conc>
        <default_cl_conc type="text" description="Chloride concentration (ppm Cl)">0</default_cl_conc>
      </irrigation>
      <fertiliser name="Fertiliser" />
      <surfaceom name="SurfaceOrganicMatter">
        <PoolName type="text" description="Organic Matter pool name">AgPasture</PoolName>
        <type type="list" listvalues="bambatsi,barley,base_type,broccoli,camaldulensis,canola,centro,chickpea,chikenmanure_base,cm,cmA,cmB,constants,cotton,cowpea,danthonia,fababean,fieldpea,fym,gbean,globulus,goatmanure,grandis,grass,horsegram,inert,lablab,lentil,lucerne,lupin,maize,manB,manure,medic,millet,mucuna,nativepasture,navybean,oats,orobanche,peanut,pigeonpea,potato,rice,sorghum,soybean,stylo,sugar,sunflower,sweetcorn,sweetsorghum,tillage,tithonia,vetch,weed,wheat" description="Organic Matter type">grass</type>
        <mass type="text" description="Initial surface residue (kg/ha)">1000</mass>
        <cnr type="text" description="C:N ratio of initial residue">40</cnr>
        <cpr type="text" description="C:P ratio of initial residue (optional)" />
        <standing_fraction type="text" description="Fraction of residue standing">0</standing_fraction>
      </surfaceom>
      <Soil name="SoilLismore">
        <RecordNumber>0</RecordNumber>
        <SoilType>NZ_Sedimentary</SoilType>
        <LocalName>Lismore</LocalName>
        <Site>Winchmore</Site>
        <NearestTown>Ashburton</NearestTown>
        <Region>Canterbury</Region>
        <Country>New Zealand</Country>
        <NaturalVegetation>0</NaturalVegetation>
        <ApsoilNumber>0</ApsoilNumber>
        <Latitude>-48.48</Latitude>
        <Longitude>0</Longitude>
        <LocationAccuracy>0</LocationAccuracy>
        <YearOfSampling>0</YearOfSampling>
        <DataSource>published soil profile description (as an example)</DataSource>
        <Analysis>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <Rocks>
            <double>0</double>
            <double>0</double>
            <double>10</double>
            <double>40</double>
            <double>60</double>
            <double>70</double>
            <double>70</double>
          </Rocks>
          <Texture>
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
          </Texture>
          <MunsellColour>
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
          </MunsellColour>
          <PH>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
            <double>6</double>
          </PH>
          <CEC>
            <double>12.5</double>
            <double>10</double>
            <double>9</double>
            <double>5</double>
            <double>4</double>
            <double>4</double>
            <double>4</double>
          </CEC>
          <ParticleSizeSand>
            <double>15</double>
            <double>20</double>
            <double>25</double>
            <double>35</double>
            <double>40</double>
            <double>40</double>
            <double>40</double>
          </ParticleSizeSand>
          <ParticleSizeSilt>
            <double>65</double>
            <double>65</double>
            <double>63</double>
            <double>57</double>
            <double>54</double>
            <double>55</double>
            <double>55</double>
          </ParticleSizeSilt>
          <ParticleSizeClay>
            <double>20</double>
            <double>15</double>
            <double>12</double>
            <double>8</double>
            <double>6</double>
            <double>5</double>
            <double>5</double>
          </ParticleSizeClay>
          <PHUnits>Water</PHUnits>
          <BoronUnits>HotWater</BoronUnits>
        </Analysis>
        <Water>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <BD>
            <double>1.3</double>
            <double>1.35</double>
            <double>1</double>
            <double>0.53</double>
            <double>0.31</double>
            <double>0.3</double>
            <double>0.3</double>
          </BD>
          <AirDry>
            <double>0.05</double>
            <double>0.12</double>
            <double>0.06</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
          </AirDry>
          <LL15>
            <double>0.15</double>
            <double>0.14</double>
            <double>0.06</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0.01</double>
          </LL15>
          <DUL>
            <double>0.36</double>
            <double>0.34</double>
            <double>0.19</double>
            <double>0.07</double>
            <double>0.04</double>
            <double>0.03</double>
            <double>0.03</double>
          </DUL>
          <SAT>
            <double>0.45</double>
            <double>0.43</double>
            <double>0.25</double>
            <double>0.15</double>
            <double>0.11</double>
            <double>0.11</double>
            <double>0.11</double>
          </SAT>
          <KS>
            <double>5000</double>
            <double>2500</double>
            <double>3000</double>
            <double>10000</double>
            <double>17500</double>
            <double>20000</double>
            <double>20000</double>
          </KS>
          <SoilCrop name="agpasture">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="ryegrass">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="clover">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.15</double>
              <double>0.14</double>
              <double>0.06</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </LL>
            <KL>
              <double>0.1</double>
              <double>0.1</double>
              <double>0.08</double>
              <double>0.04</double>
              <double>0.01</double>
              <double>0</double>
              <double>0</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </XF>
          </SoilCrop>
          <SoilCrop name="slurp">
            <Thickness>
              <double>150</double>
              <double>150</double>
              <double>200</double>
              <double>150</double>
              <double>250</double>
              <double>300</double>
              <double>300</double>
            </Thickness>
            <LL>
              <double>0.14</double>
              <double>0.14</double>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.02</double>
              <double>0.02</double>
              <double>0.02</double>
            </LL>
            <KL>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
              <double>0.06</double>
            </KL>
            <XF>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </XF>
          </SoilCrop>
        </Water>
        <SoilWater>
          <SummerCona>3.5</SummerCona>
          <SummerU>6</SummerU>
          <SummerDate>1-Nov</SummerDate>
          <WinterCona>2</WinterCona>
          <WinterU>2</WinterU>
          <WinterDate>1-apr</WinterDate>
          <DiffusConst>88</DiffusConst>
          <DiffusSlope>35</DiffusSlope>
          <Salb>0.13</Salb>
          <CN2Bare>73</CN2Bare>
          <CNRed>20</CNRed>
          <CNCov>0.8</CNCov>
          <Slope>NaN</Slope>
          <DischargeWidth>NaN</DischargeWidth>
          <CatchmentArea>NaN</CatchmentArea>
          <MaxPond>NaN</MaxPond>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <SWCON>
            <double>0.5</double>
            <double>0.52</double>
            <double>0.55</double>
            <double>0.6</double>
            <double>0.65</double>
            <double>0.65</double>
            <double>0.65</double>
          </SWCON>
        </SoilWater>
        <SoilOrganicMatter>
          <RootCN>40</RootCN>
          <RootWt>1000</RootWt>
          <SoilCN>12</SoilCN>
          <EnrACoeff>7.4</EnrACoeff>
          <EnrBCoeff>0.2</EnrBCoeff>
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <OC>
            <double>3</double>
            <double>1</double>
            <double>0.6</double>
            <double>0.4</double>
            <double>0.25</double>
            <double>0.15</double>
            <double>0.1</double>
          </OC>
          <FBiom>
            <double>0.04</double>
            <double>0.02</double>
            <double>0.02</double>
            <double>0.01</double>
            <double>0.01</double>
            <double>0</double>
            <double>0</double>
          </FBiom>
          <FInert>
            <double>0.5</double>
            <double>0.7</double>
            <double>0.83</double>
            <double>0.9</double>
            <double>0.95</double>
            <double>0.99</double>
            <double>0.99</double>
          </FInert>
          <OCUnits>Total</OCUnits>
        </SoilOrganicMatter>
        <InitialWater name="Initial water">
          <FractionFull>0.95</FractionFull>
          <DepthWetSoil>NaN</DepthWetSoil>
          <PercentMethod>EvenlyDistributed</PercentMethod>
          <RelativeTo>ll15</RelativeTo>
        </InitialWater>
        <Sample name="Initial nitrogen">
          <Thickness>
            <double>150</double>
            <double>150</double>
            <double>200</double>
            <double>150</double>
            <double>250</double>
            <double>300</double>
            <double>300</double>
          </Thickness>
          <NO3>
            <double>5</double>
            <double>2.5</double>
            <double>1</double>
            <double>0.8</double>
            <double>0.5</double>
            <double>0.5</double>
            <double>0.5</double>
          </NO3>
          <NH4>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
            <double>0.1</double>
          </NH4>
          <NO3Units>ppm</NO3Units>
          <NH4Units>ppm</NH4Units>
          <SWUnits>Volumetric</SWUnits>
          <OCUnits>Total</OCUnits>
          <PHUnits>Water</PHUnits>
        </Sample>
      </Soil>
      <AgPasture>
        <Dummy1 type="category" description="Initial values for each species to be simulated" />
        <speciesToSimulate type="text" description="  Name of the species to be simulated:">Ryegrass    WhiteClover</speciesToSimulate>
        <iniShootDM type="text" description="  Initial above ground dry matter weight (kgDM/ha):">1500   500</iniShootDM>
        <iniRootDM type="text" description="  Initial root dry matter weight (kgDM/ha):">400     100</iniRootDM>
        <iniRootDepth type="text" description="  Initial rooting depth (mm):">750     350</iniRootDepth>
        <WaterUptakeSource type="list" listvalues="calc,apsim" description="  Water uptake done by AgPasture (calc) or by apsim?:">calc</WaterUptakeSource>
        <NUptakeSource type="list" listvalues="calc" description="  N uptake done by AgPasture (calc) or by apsim?:">calc</NUptakeSource>
        <Dummy2 type="category" description="Detailed parameters for each species (overwrites the xml file)" />
        <speciesName type="text" description="  Name of each parameterised species:">ryegrass   whiteclover</speciesName>
        <micrometType type="text" description="  Plant type for MicroMet/SWIM:">grass   grass</micrometType>
        <photoPath type="text" description="  Photosynthesis pathway (C3=3, C4=4):">3   3</photoPath>
        <isLegume type="text" description="  Is this a legume species? (no=0, yes=1):">0   1</isLegume>
        <Pm type="text" description="  Reference photosynthesis rate - CO2 assimilation (mg CO2/m2.s):">1   1</Pm>
        <growthEfficiency type="text" description="  Growth efficiency factor - photosynthesis minus growth respiration (0-1):">0.75   0.75</growthEfficiency>
        <maintRespiration type="text" description="  Maintenance respiration coefficient (%):">3   3</maintRespiration>
        <alphaPhoto type="text" description="  Leaf gross photosynthesis rate (mg CO2/J):">0.01   0.01</alphaPhoto>
        <thetaPhoto type="text" description="  Photosynthesis curve parameter (J/kg.s):">0.8   0.8</thetaPhoto>
        <fractionPAR type="text" description="  Fraction of radiation that is photosynthetic active (0-1):">0.5   0.5</fractionPAR>
        <lightExtCoeff type="text" description="  Canopy light extinction coefficient (0-1):">0.5   0.8</lightExtCoeff>
        <growthTmin type="text" description="  Minimum temperature for growth (oC):">2   4</growthTmin>
        <growthTopt type="text" description="  Optimum temperature for growth (oC):">20   20</growthTopt>
        <growthTq type="text" description="  Curve parameter for growth response to temperature:">1.75   1.75</growthTq>
        <useHeatStress type="text" description="  Consider effects of high temperatures on photosynthesis? (yes/no):">yes   yes</useHeatStress>
        <heatOnsetT type="text" description="  Onset temperature for heat effects on growth (oC):">28   28</heatOnsetT>
        <heatFullT type="text" description="  Temperature for full heat effects on growth (oC):">35   35</heatFullT>
        <heatSumT type="text" description="  Temperature sum for recovery from heat effects (oC):">30   30</heatSumT>
        <heatTq type="text" description="  Exponent for computing recovery from heat stress:">1   0.8</heatTq>
        <heatRecoverT type="text" description="  Base temperature for recovery from heat stress (oC):">25   27</heatRecoverT>
        <useColdStress type="text" description="  Consider effects of low temperatures on photosynthesis? (yes/no):">yes   yes</useColdStress>
        <coldOnsetT type="text" description="  Onset temperature for cold effects on growth (oC):">0   0</coldOnsetT>
        <coldFullT type="text" description="  Temperature for full cold effects on growth (oC):">-3   -3</coldFullT>
        <coldSumT type="text" description="  Temperature sum for recovery from cold effects (oC):">20   20</coldSumT>
        <coldTq type="text" description="  Exponent for computing recovery from cold stress:">1   1</coldTq>
        <coldRecoverT type="text" description="  Base temperature for recovery from cold effects (oC):">0   1</coldRecoverT>
        <respTref type="text" description="  Reference temperature for maintenance respiration (oC):">380   20</respTref>
        <maxTeffectResp type="text" description="  Maximum effect of temperature on respiration (&gt;1.0):">28   1.25</maxTeffectResp>
        <referenceCO2 type="text" description="  Reference atmospheric CO2 content for photosynthesis (ppm):">1.25   380</referenceCO2>
        <CO2PmaxScale type="text" description="  Scale factor for CO2 effect on photosynthesis (ppm):">700   700</CO2PmaxScale>
        <CO2NScale type="text" description="  Scale factor for CO2 effects on plant N concentration (ppm):">600   600</CO2NScale>
        <CO2NMin type="text" description="  Minimum reduction of plant N concentration under elevated CO2 (0-1):">0.7   0.7</CO2NMin>
        <CO2NCurvature type="text" description="  Curvature factor of CO2 effect on plant N concentration (&gt;1.0):">2   2</CO2NCurvature>
        <maxRootFraction type="text" description="  Maximum biomass fraction allocated to roots (0-1):">0.25   0.25</maxRootFraction>
        <targetSRratio type="text" description="  Target or ideal shoot:root ratio:">4   4</targetSRratio>
        <allocationSeasonF type="text" description="  Factor for increasing DM allocation to shoot during reproductive growth (0-1):">0.25   0.25</allocationSeasonF>
        <StartHighAllocation type="text" description="  Day for starting the period with higher DM allocation to shoot:">232   232</StartHighAllocation>
        <DurationHighAllocation type="text" description="  Duration of main phase for higher DM allocation to shoot (days):">60   60</DurationHighAllocation>
        <ShoulderHighAllocation type="text" description="  Relative duration of shoulder periods for higher shoot allocation (0-1):">0.5   0.5</ShoulderHighAllocation>
        <useLatitudeFunction type="text" description="  Adjust DM allocation (shoot/root) using latitude? (yes/no):">no   no</useLatitudeFunction>
        <ReferenceLatitude type="text" description="  Reference latitude, beyond which DM allocation is hardly affected (degrees):">60   60</ReferenceLatitude>
        <paramALatFunction type="text" description="  Exponent of function for defining the start of period with high allocation to shoot (&gt;1.0):">5   5</paramALatFunction>
        <onsetFacLatFunction type="text" description="  Define the duration of onset phase with high allocation, fraction of main phase (0-1):">0.5   0.5</onsetFacLatFunction>
        <outsetFacLatFunction type="text" description="  Define the duration of outset phase with high allocation, fraction of main phase (0-1):">0.5   0.5</outsetFacLatFunction>
        <maxShoulderLatFunction type="text" description="  Maximum duration of the shoulder phases with high DM allocation (days):">60   60</maxShoulderLatFunction>
        <minPlateauLatFunction type="text" description="  Minimum duration of main phase (plateau) with high DM allocation (days):">15   15</minPlateauLatFunction>
        <paramBLatFunction type="text" description="  Exponent of function defining the duration of main phase with high allocation (&gt;0.0):">2.75   2.75</paramBLatFunction>
        <paramCLatFunction type="text" description="  Exponent of function for DM fraction allocated to shoot (&gt;1.0):">4   4</paramCLatFunction>
        <allocationMax type="text" description="  Maximum increase in DM allocation to shoot during reproductive growth (0-1):">0.4   0.4</allocationMax>
        <maxFLeaf type="text" description="  Maximum fraction of new shoot growth allocated to leaves (0-1):">0.7   0.56</maxFLeaf>
        <minFLeaf type="text" description="  Minimum fraction of new shoot growth allocated to leaves (0-1):">0.7   0.28</minFLeaf>
        <dmMaxFLeaf type="text" description="  Shoot DM for maximum leaf allocation, allocation decreases above that (kgDM/m2):">500   500</dmMaxFLeaf>
        <dmReferenceFLeaf type="text" description="  Reference DM, when allocation to leaves is midway max and min (kgDM/m2):">2000   2000</dmReferenceFLeaf>
        <exponentFLeaf type="text" description="  Exponent of function describing DM allocation to leaves (&gt;0.0):">3   3</exponentFLeaf>
        <fStolon type="text" description="  Fraction of new shoot growth allocated to stolons (0-1):">0   0.2</fStolon>
        <liveLeavesPerTiller type="text" description="  Number of live leaves per tiller:">3   3</liveLeavesPerTiller>
        <SpecificLeafArea type="text" description="  Specific leaf area, per dry matter weight (m2/kgDM):">20   20</SpecificLeafArea>
        <SpecificRootLength type="text" description="  Specific root length, per dry matter weight (m/gDM):">75   75</SpecificRootLength>
        <rateLive2Dead type="text" description="  Reference tissue turnover rate for shoot (0-1):">0.05   0.025</rateLive2Dead>
        <facGrowingTissue type="text" description="  Factor for adjusting DM turnover of growing tissue (0-1):">2   2</facGrowingTissue>
        <refTurnoverRateStolon type="text" description="  Reference tissue turnover rate for stolon (0-1):">0   0.05</refTurnoverRateStolon>
        <rateDead2Litter type="text" description="  Reference littering rate - dead tissue to litter (0-1):">0.11   0.11</rateDead2Litter>
        <rateRootSen type="text" description="  Reference senescence rate for roots (0-1):">0.02   0.02</rateRootSen>
        <massFluxTmin type="text" description="  Minimum temperature for tissue turnover (oC):">2   3</massFluxTmin>
        <massFluxTopt type="text" description="  Optimum temperature for tissue turnover (oC):">20   20</massFluxTopt>
        <massFluxTq type="text" description="  Exponent of function for temperature effect on tissue turnover:">1   1</massFluxTq>
        <massFluxW0 type="text" description="  Scale factor for GLFWater effect on DM turnover (&gt;1.0):">2   2</massFluxW0>
        <massFluxWopt type="text" description="  Reference GLFwater for tissue turnover (0-1):">0.5   0.5</massFluxWopt>
        <massFluxDeadWq type="text" description="  Exponent to adjust GLFWater for senescing tissue (&gt;1.0):">3   3</massFluxDeadWq>
        <stockParameter type="text" description="  Parameter for stock influence on tissue senescence:">0.05   0.05</stockParameter>
        <Kappa2_Remob type="text" description="  Coefficient for remobilisation of luxury N from tissue2 (0-1):">0   0</Kappa2_Remob>
        <Kappa3_Remob type="text" description="  Coefficient for remobilisation of luxury N from tissue3 (0-1):">0   0</Kappa3_Remob>
        <Kappa4_Remob type="text" description="  Coefficient for partitioning non-used Nremob into tissue4 (0-1):">0   0</Kappa4_Remob>
        <digestLive type="text" description="  Digestibility of live plant material (0-1):">0.6   0.6</digestLive>
        <digestDead type="text" description="  Digestibility of dead plant material (0-1):">0.2   0.2</digestDead>
        <dmshoot type="text" description="  Default initial shoot dry matter weight (kgDM/ha):">1500   500</dmshoot>
        <dmroot type="text" description="  Default initial root dry matter weight (kgDM/ha):">450   150</dmroot>
        <dmgreenmin type="text" description="  Minimum allowable green dry matter weight (kgDM/ha):">300   100</dmgreenmin>
        <dmdeadmin type="text" description="  Minimum allowable dead dry matter weight (kgDM/ha):">0   0</dmdeadmin>
        <NconcOptimum_leaves type="text" description="  Optimum N concentration of young leaves (%):">4   4.5</NconcOptimum_leaves>
        <NconcMaximum_leaves type="text" description="  Maximum N concentration in leaves, with luxury uptake (%):">5   5.5</NconcMaximum_leaves>
        <NconcMinimum_leaves type="text" description="  Minimum N concentration in leaves, at senescence (%):">1.2   2</NconcMinimum_leaves>
        <RelativeNconc_Stems type="text" description="  Relative N concentration in stems, fraction of leaf N (0-1):">0.5   0.5</RelativeNconc_Stems>
        <RelativeNconc_Stolons type="text" description="  Relative N concentration in stolons, fraction of leaf N (0-1):">0   0.5</RelativeNconc_Stolons>
        <RelativeNconc_Roots type="text" description="  Relative N concentration in roots, fraction of leaf N (0-1):">0.5   0.5</RelativeNconc_Roots>
        <RelativeNconc_stage2 type="text" description="  Optimum N concentration for tissue2 (mature), relative to tissue1 (0-1):">1   1</RelativeNconc_stage2>
        <RelativeNconc_stage3 type="text" description="  Optimum N concentration for tissue3 (senescing), relative to tissue1 (0-1):">1   1</RelativeNconc_stage3>
        <NMinFix type="text" description="  Minimum N fixation, when soil N is sufficient (0-1):">0   0.2</NMinFix>
        <NMaxFix type="text" description="  Maximum N fixation, when no soil N is available (0-1):">0   0.6</NMaxFix>
        <NdilutCoeff type="text" description="  Coefficient for modifying the effect of N stress on plant growth (0-1):">0.5   1</NdilutCoeff>
        <waterStressFactor type="text" description="  coefficient for modifying the effect of water stress on plant growth (0-1):">1   1</waterStressFactor>
        <soilSatFactor type="text" description="  Coefficient for growth limitations due to soil moisture saturation (0-1):">0.1   0.1</soilSatFactor>
        <MinMacroPorosity type="text" description="  Minimum soil macroporosity (pores&gt;30um) for optimum plant growth (0-1):">-1   -1</MinMacroPorosity>
        <GenericGLF type="text" description="  Generic relative growth limiting factor (0-1):">1   1</GenericGLF>
        <SFertilityGLF type="text" description="  Soil related generic growth limiting factor (0-1):">1   1</SFertilityGLF>
        <PreferenceForGreenDM type="text" description="  Weight factor defining the preference level for green DM (on removal):">1   1</PreferenceForGreenDM>
        <PreferenceForDeadDM type="text" description="  Weight factor defining the preference level for dead DM (on removal):">1   1</PreferenceForDeadDM>
        <PreferenceForLeaves type="text" description="  Weight factor defining the preference level for leaves over stems (on removal):">1   1</PreferenceForLeaves>
        <rootDepth type="text" description="  Default rooting depth (mm):">750   350</rootDepth>
        <ExpoLinearDepthParam type="text" description="  Depth from surface below which the proportion of roots starts to decrease (mm):">90   70</ExpoLinearDepthParam>
        <ExpoLinearCurveParam type="text" description="  Exponent to determine the distribution of root DM in the soil profile:">3.2   2.5</ExpoLinearCurveParam>
        <MaxPlantHeight type="text" description="  Maximum average height for each species in a sward (mm):">500   300</MaxPlantHeight>
        <MassForMaxHeight type="text" description="  Mass above ground when maximum height is reached (kgDM/ha):">8000   6000</MassForMaxHeight>
        <ExponentHeightFromMass type="text" description="  Exponent of function describing plant height as function of DM weight (&gt;1.0):">3   1.75</ExponentHeightFromMass>
        <MinimumHeight type="text" description="  Minimum plant height, for all species (mm):">20</MinimumHeight>
        <Dummy3 type="category" description="Generic parameters for initialising the sward, by species type" />
        <initialDMFractions_grass type="text" description="  Fractions of initial dmshoot for each biomass pool, for grasses:">0.15  0.25  0.25  0.05  0.05  0.10  0.10  0.05  0.00  0.00  0.00</initialDMFractions_grass>
        <initialDMFractions_legume type="text" description="  Fractions of initial dmshoot for each biomass pool, for legumes:">0.16  0.23  0.22  0.05  0.03  0.05  0.05  0.01  0.04  0.08  0.08</initialDMFractions_legume>
      </AgPasture>
      <outputfile name="Results_Sward">
        <filename output="yes">TwoSpecies AgPastureClassic Results_Sward.out</filename>
        <title>TwoSpecies AgPastureClassic Results_Sward</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>Crop_type as Sward.CropType</variable>
          <variable>TotalPlantWt as Sward.TotalWt</variable>
          <variable>AboveGroundWt as Sward.AboveGroundWt</variable>
          <variable>BelowGroundWt as Sward.BelowGroundWt</variable>
          <variable>StandingPlantWt as Sward.StandingWt</variable>
          <variable>SpeciesStandingLiveWt() as Sward.StandingLiveWt</variable>
          <variable>SpeciesStandingDeadWt() as Sward.StandingDeadWt</variable>
          <variable>LeafWt as Sward.LeafWt</variable>
          <variable>StemWt as Sward.StemWt</variable>
          <variable>StolonWt as Sward.StolonWt</variable>
          <variable>RootWt as Sward.RootWt</variable>
          <variable>SpeciesLeafStage1Wt as Sward.LeafStage1Wt</variable>
          <variable>SpeciesLeafStage2Wt as Sward.LeafStage2Wt</variable>
          <variable>SpeciesLeafStage3Wt as Sward.LeafStage3Wt</variable>
          <variable>SpeciesLeafStage4Wt as Sward.LeafStage4Wt</variable>
          <variable>SpeciesStemStage1Wt as Sward.StemStage1Wt</variable>
          <variable>SpeciesStemStage2Wt as Sward.StemStage2Wt</variable>
          <variable>SpeciesStemStage3Wt as Sward.StemStage3Wt</variable>
          <variable>SpeciesStemStage4Wt as Sward.StemStage4Wt</variable>
          <variable>SpeciesStolonStage1Wt as Sward.StolonStage1Wt</variable>
          <variable>SpeciesStolonStage2Wt as Sward.StolonStage2Wt</variable>
          <variable>SpeciesStolonStage3Wt as Sward.StolonStage3Wt</variable>
          <variable>PlantPotentialCarbonAssimilation as Sward.PotCarbonAssimilation</variable>
          <variable>PlantCarbonLossRespiration as Sward.CarbonLossRespiration</variable>
          <variable>PlantPotentialGrossGrowth as Sward.GrossPotentialGrowthWt</variable>
          <variable>PlantPotentialGrowthWt as Sward.NetPotentialGrowthWt</variable>
          <variable>PlantGrowthNoNLimit as Sward.PotGrowthWt_Wstress</variable>
          <variable>PlantGrowthWt as Sward.ActualGrowthWt</variable>
          <variable>PlantNetGrowthWt as Sward.EffectiveGrowthWt</variable>
          <variable>HerbageGrowthWt as Sward.HerbageGrowthWt</variable>
          <variable>LitterDepositionWt as Sward.LitterWt</variable>
          <variable>RootSenescenceWt as Sward.RootSenescedWt</variable>
          <variable>TotalPlantN as Sward.TotalN</variable>
          <variable>StandingPlantN as Sward.StandingN</variable>
          <variable>LeafN as Sward.LeafN</variable>
          <variable>StemN as Sward.StemN</variable>
          <variable>StolonN as Sward.StolonN</variable>
          <variable>RootN as Sward.RootN</variable>
          <variable>SpeciesLeafStage1N as Sward.LeafStage1N</variable>
          <variable>SpeciesLeafStage2N as Sward.LeafStage2N</variable>
          <variable>SpeciesLeafStage3N as Sward.LeafStage3N</variable>
          <variable>SpeciesLeafStage4N as Sward.LeafStage4N</variable>
          <variable>SpeciesStemStage1N as Sward.StemStage1N</variable>
          <variable>SpeciesStemStage2N as Sward.StemStage2N</variable>
          <variable>SpeciesStemStage3N as Sward.StemStage3N</variable>
          <variable>SpeciesStemStage4N as Sward.StemStage4N</variable>
          <variable>SpeciesStolonStage1N as Sward.StolonStage1N</variable>
          <variable>SpeciesStolonStage2N as Sward.StolonStage2N</variable>
          <variable>SpeciesStolonStage3N as Sward.StolonStage3N</variable>
          <variable>LeafNConc as Sward.LeafNConc</variable>
          <variable>StemNConc as Sward.StemNConc</variable>
          <variable>StolonNConc as Sward.StolonNConc</variable>
          <variable>RootNConc as Sward.RootNConc</variable>
          <variable>SpeciesLeafStage1NConc as Sward.LeafStage1NConc</variable>
          <variable>SpeciesLeafStage2NConc as Sward.LeafStage2NConc</variable>
          <variable>SpeciesLeafStage3NConc as Sward.LeafStage3NConc</variable>
          <variable>SpeciesLeafStage4NConc as Sward.LeafStage4NConc</variable>
          <variable>SpeciesStemStage1NConc as Sward.StemStage1NConc</variable>
          <variable>SpeciesStemStage2NConc as Sward.StemStage2NConc</variable>
          <variable>SpeciesStemStage3NConc as Sward.StemStage3NConc</variable>
          <variable>SpeciesStemStage4NConc as Sward.StemStage4NConc</variable>
          <variable>SpeciesStolonStage1NConc as Sward.StolonStage1NConc</variable>
          <variable>SpeciesStolonStage2NConc as Sward.StolonStage2NConc</variable>
          <variable>SpeciesStolonStage3NConc as Sward.StolonStage3NConc</variable>
          <variable>PlantRemobilisableSenescedN as Sward.RemobilisableSenescedN</variable>
          <variable>PlantRemobilisedN as Sward.RemobilisedSenescedN</variable>
          <variable>PlantRemobilisableLuxuryN as Sward.RemobilisableLuxuryN</variable>
          <variable>PlantLuxuryNRemobilised as Sward.RemobilisedLuxuryN</variable>
          <variable>PlantFixedN as Sward.FixedN</variable>
          <variable>NitrogenRequiredLuxury as Sward.RequiredLuxuryN</variable>
          <variable>NitrogenRequiredOptimum as Sward.RequiredOptimumN</variable>
          <variable>NitrogenDemand as Sward.DemandSoilN</variable>
          <variable>NitrogenUptake as Sward.UptakeN</variable>
          <variable>LitterDepositionN as Sward.LitterN</variable>
          <variable>RootSenescenceN as Sward.SenescedRootN</variable>
          <variable>PlantGrowthN as Sward.ActualGrowthN</variable>
          <variable>PlantGrowthNconc as Sward.ActualGrowthNConc</variable>
          <variable>WaterDemand as Sward.WaterDemand</variable>
          <variable>WaterUptake as Sward.WaterUptake</variable>
          <variable>SpeciesLiveDMTurnoverRate() as Sward.LiveDMTurnoverRate</variable>
          <variable>SpeciesDeadDMTurnoverRate() as Sward.DeadDMTurnoverRate</variable>
          <variable>SpeciesStolonDMTurnoverRate() as Sward.StolonDMTurnoverRate</variable>
          <variable>SpeciesRootDMTurnoverRate() as Sward.RootDMTurnoverRate</variable>
          <variable>LAI_total as Sward.TotalLAI</variable>
          <variable>LAI_green as Sward.GreenLAI</variable>
          <variable>LAI_dead as Sward.DeadLAI</variable>
          <variable>GLFtemp as Sward.GlfTemperature</variable>
          <variable>GLFwater as Sward.GlfWater</variable>
          <variable>GLFn as Sward.GlfN</variable>
          <variable>InterceptedRadn as Sward.IrradianceTopCanopy</variable>
          <variable>HarvestableWt as Sward.HarvestableWt</variable>
          <variable>HarvestWt as Sward.HarvestedWt</variable>
          <variable>HarvestN as Sward.HarvestedN</variable>
          <variable>HerbageDigestibility as Sward.HerbageDigestibility</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
        <Graph name="XY">
          <Format>AAEAAAD/////AQAAAAAAAAAMAgAAAFJUZWVDaGFydCwgVmVyc2lvbj0yLjAuMjMwNi4yNjIzMiwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj05YzgxMjYyNzZjNzdiZGI3DAMAAABXU3lzdGVtLldpbmRvd3MuRm9ybXMsIFZlcnNpb249Mi4wLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj1iNzdhNWM1NjE5MzRlMDg5DAQAAABRU3lzdGVtLkRyYXdpbmcsIFZlcnNpb249Mi4wLjAuMCwgQ3VsdHVyZT1uZXV0cmFsLCBQdWJsaWNLZXlUb2tlbj1iMDNmNWY3ZjExZDUwYTNhBQEAAAAVU3RlZW1hLlRlZUNoYXJ0LkNoYXJ0wAAAAAYuV2lkdGgHLkhlaWdodA4uWm9vbS5BbmltYXRlZBMuWm9vbS5BbmltYXRlZFN0ZXBzFC5QYW5uaW5nLk1vdXNlQnV0dG9uFy5QYW5lbC5JbWFnZUJldmVsLldpZHRoEi5QYW5lbC5CZXZlbC5PdXRlchUuUGFuZWwuU2hhZG93LlZpc2libGUSLlBhbmVsLkJydXNoLkNvbG9yEi5MZWdlbmQuQ2hlY2tCb3hlcxEuTGVnZW5kLkFsaWdubWVudBcuTGVnZW5kLlRpdGxlLkZvbnQuQm9sZCEuTGVnZW5kLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUcLkxlZ2VuZC5UaXRsZS5TaGFkb3cuVmlzaWJsZRkuTGVnZW5kLlRpdGxlLlBlbi5WaXNpYmxlGy5MZWdlbmQuRm9udC5TaGFkb3cuVmlzaWJsZRYuTGVnZW5kLlNoYWRvdy5WaXNpYmxlEy5MZWdlbmQuVHJhbnNwYXJlbnQNLkhlYWRlci5MaW5lcxEuSGVhZGVyLkZvbnQuTmFtZREuSGVhZGVyLkZvbnQuU2l6ZRsuSGVhZGVyLkZvbnQuU2hhZG93LlZpc2libGUWLkhlYWRlci5TaGFkb3cuVmlzaWJsZR4uU3ViSGVhZGVyLkZvbnQuU2hhZG93LlZpc2libGUZLlN1YkhlYWRlci5TaGFkb3cuVmlzaWJsZRsuRm9vdGVyLkZvbnQuU2hhZG93LlZpc2libGUWLkZvb3Rlci5TaGFkb3cuVmlzaWJsZR4uU3ViRm9vdGVyLkZvbnQuU2hhZG93LlZpc2libGUZLlN1YkZvb3Rlci5TaGFkb3cuVmlzaWJsZRUuQXNwZWN0LlJvdGF0aW9uRmxvYXQWLkFzcGVjdC5FbGV2YXRpb25GbG9hdBkuQXNwZWN0LkNvbG9yUGFsZXR0ZUluZGV4Di5Bc3BlY3QuVmlldzNEFy5HcmFwaGljczNELkJydXNoLkNvbG9yHy5HcmFwaGljczNELkZvbnQuU2hhZG93LlZpc2libGUTLkdyYXBoaWNzM0QuWENlbnRlchMuR3JhcGhpY3MzRC5ZQ2VudGVyGS5HcmFwaGljczNELlNtb290aGluZ01vZGUdLkdyYXBoaWNzM0QuVGV4dFJlbmRlcmluZ0hpbnQaLkdyYXBoaWNzM0QuU3VwcG9ydHMzRFRleHQVLkdyYXBoaWNzM0QuQmFja0NvbG9yFS5HcmFwaGljczNELlVzZUJ1ZmZlchwuR3JhcGhpY3MzRC5Sb3RhdGlvbkNlbnRlci5YHC5HcmFwaGljczNELlJvdGF0aW9uQ2VudGVyLlkcLkdyYXBoaWNzM0QuUm90YXRpb25DZW50ZXIuWghTZXJpZXMuMBUuU2VyaWVzLjAuQnJ1c2guQ29sb3IZLlNlcmllcy4wLlBvaW50ZXIuVmlzaWJsZRcuU2VyaWVzLjAuUG9pbnRlci5TdHlsZRsuU2VyaWVzLjAuUG9pbnRlci5QZW4uQ29sb3IdLlNlcmllcy4wLlBvaW50ZXIuQnJ1c2guQ29sb3IXLlNlcmllcy4wLkxpbmVQZW4uQ29sb3IXLlNlcmllcy4wLkxpbmVQZW4uV2lkdGgPLlNlcmllcy4wLlRpdGxlHi5TZXJpZXMuMC5NYXJrcy5DYWxsb3V0Lkxlbmd0aCEuU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5BcnJvd0hlYWQlLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuQXJyb3dIZWFkU2l6ZSAuU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5EaXN0YW5jZR4uU2VyaWVzLjAuTWFya3MuQ2FsbG91dC5EcmF3M0QdLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuU3R5bGUjLlNlcmllcy4wLk1hcmtzLkNhbGxvdXQuQnJ1c2guQ29sb3IeLlNlcmllcy4wLk1hcmtzLkl0ZW1zLkNhcGFjaXR5Iy5TZXJpZXMuMC5NYXJrcy5Gb250LlNoYWRvdy5WaXNpYmxlCFNlcmllcy4xFS5TZXJpZXMuMS5CcnVzaC5Db2xvchkuU2VyaWVzLjEuUG9pbnRlci5WaXNpYmxlFy5TZXJpZXMuMS5Qb2ludGVyLlN0eWxlGy5TZXJpZXMuMS5Qb2ludGVyLlBlbi5Db2xvch0uU2VyaWVzLjEuUG9pbnRlci5CcnVzaC5Db2xvchcuU2VyaWVzLjEuTGluZVBlbi5Db2xvchcuU2VyaWVzLjEuTGluZVBlbi5XaWR0aA8uU2VyaWVzLjEuVGl0bGUeLlNlcmllcy4xLk1hcmtzLkNhbGxvdXQuTGVuZ3RoIS5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkFycm93SGVhZCUuU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5BcnJvd0hlYWRTaXplIC5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkRpc3RhbmNlHi5TZXJpZXMuMS5NYXJrcy5DYWxsb3V0LkRyYXczRB0uU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5TdHlsZSMuU2VyaWVzLjEuTWFya3MuQ2FsbG91dC5CcnVzaC5Db2xvch4uU2VyaWVzLjEuTWFya3MuSXRlbXMuQ2FwYWNpdHkjLlNlcmllcy4xLk1hcmtzLkZvbnQuU2hhZG93LlZpc2libGUULldhbGxzLkxlZnQuQXV0b0hpZGUaLldhbGxzLkxlZnQuU2hhZG93LlZpc2libGUVLldhbGxzLlJpZ2h0LkF1dG9IaWRlGy5XYWxscy5SaWdodC5TaGFkb3cuVmlzaWJsZRQuV2FsbHMuQmFjay5BdXRvSGlkZRouV2FsbHMuQmFjay5TaGFkb3cuVmlzaWJsZRYuV2FsbHMuQm90dG9tLkF1dG9IaWRlHC5XYWxscy5Cb3R0b20uU2hhZG93LlZpc2libGUOLldhbGxzLlZpc2libGUcLkF4ZXMuTGVmdC5MYWJlbHMuU2VwYXJhdGlvbh0uQXhlcy5MZWZ0LkxhYmVscy5WYWx1ZUZvcm1hdBsuQXhlcy5MZWZ0LkxhYmVscy5Gb250Lk5hbWUbLkF4ZXMuTGVmdC5MYWJlbHMuRm9udC5TaXplJS5BeGVzLkxlZnQuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUgLkF4ZXMuTGVmdC5MYWJlbHMuU2hhZG93LlZpc2libGUULkF4ZXMuTGVmdC5BdXRvbWF0aWMYLkF4ZXMuTGVmdC5BeGlzUGVuLldpZHRoGS5BeGVzLkxlZnQuQXhpc1Blbi5FbmRDYXAVLkF4ZXMuTGVmdC5HcmlkLlN0eWxlGS5BeGVzLkxlZnQuR3JpZC5aUG9zaXRpb24XLkF4ZXMuTGVmdC5HcmlkLlZpc2libGUYLkF4ZXMuTGVmdC5NYXhpbXVtT2Zmc2V0HS5BeGVzLkxlZnQuTWlub3JUaWNrcy5WaXNpYmxlFi5BeGVzLkxlZnQuVGlja3MuQ29sb3IWLkF4ZXMuTGVmdC5UaXRsZS5MaW5lcxouQXhlcy5MZWZ0LlRpdGxlLkZvbnQuTmFtZRouQXhlcy5MZWZ0LlRpdGxlLkZvbnQuU2l6ZSguQXhlcy5MZWZ0LlRpdGxlLkZvbnQuU2hhZG93LkJydXNoLkNvbG9yJC5BeGVzLkxlZnQuVGl0bGUuRm9udC5TaGFkb3cuVmlzaWJsZSEuQXhlcy5MZWZ0LlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IfLkF4ZXMuTGVmdC5UaXRsZS5TaGFkb3cuVmlzaWJsZRsuQXhlcy5Ub3AuTGFiZWxzLlNlcGFyYXRpb24cLkF4ZXMuVG9wLkxhYmVscy5WYWx1ZUZvcm1hdBouQXhlcy5Ub3AuTGFiZWxzLkZvbnQuTmFtZRouQXhlcy5Ub3AuTGFiZWxzLkZvbnQuU2l6ZSQuQXhlcy5Ub3AuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUfLkF4ZXMuVG9wLkxhYmVscy5TaGFkb3cuVmlzaWJsZRMuQXhlcy5Ub3AuQXV0b21hdGljFy5BeGVzLlRvcC5BeGlzUGVuLldpZHRoGC5BeGVzLlRvcC5BeGlzUGVuLkVuZENhcBQuQXhlcy5Ub3AuR3JpZC5TdHlsZRguQXhlcy5Ub3AuR3JpZC5aUG9zaXRpb24WLkF4ZXMuVG9wLkdyaWQuVmlzaWJsZRwuQXhlcy5Ub3AuTWlub3JUaWNrcy5WaXNpYmxlFS5BeGVzLlRvcC5UaWNrcy5Db2xvchkuQXhlcy5Ub3AuVGl0bGUuRm9udC5OYW1lGS5BeGVzLlRvcC5UaXRsZS5Gb250LlNpemUjLkF4ZXMuVG9wLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUgLkF4ZXMuVG9wLlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IeLkF4ZXMuVG9wLlRpdGxlLlNoYWRvdy5WaXNpYmxlES5BeGVzLlRvcC5WaXNpYmxlHS5BeGVzLlJpZ2h0LkxhYmVscy5TZXBhcmF0aW9uHi5BeGVzLlJpZ2h0LkxhYmVscy5WYWx1ZUZvcm1hdBwuQXhlcy5SaWdodC5MYWJlbHMuRm9udC5OYW1lHC5BeGVzLlJpZ2h0LkxhYmVscy5Gb250LlNpemUmLkF4ZXMuUmlnaHQuTGFiZWxzLkZvbnQuU2hhZG93LlZpc2libGUhLkF4ZXMuUmlnaHQuTGFiZWxzLlNoYWRvdy5WaXNpYmxlFS5BeGVzLlJpZ2h0LkF1dG9tYXRpYxkuQXhlcy5SaWdodC5BeGlzUGVuLldpZHRoGi5BeGVzLlJpZ2h0LkF4aXNQZW4uRW5kQ2FwFi5BeGVzLlJpZ2h0LkdyaWQuU3R5bGUaLkF4ZXMuUmlnaHQuR3JpZC5aUG9zaXRpb24YLkF4ZXMuUmlnaHQuR3JpZC5WaXNpYmxlHi5BeGVzLlJpZ2h0Lk1pbm9yVGlja3MuVmlzaWJsZRcuQXhlcy5SaWdodC5UaWNrcy5Db2xvchsuQXhlcy5SaWdodC5UaXRsZS5Gb250Lk5hbWUbLkF4ZXMuUmlnaHQuVGl0bGUuRm9udC5TaXplJS5BeGVzLlJpZ2h0LlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUiLkF4ZXMuUmlnaHQuVGl0bGUuRm9udC5CcnVzaC5Db2xvciAuQXhlcy5SaWdodC5UaXRsZS5TaGFkb3cuVmlzaWJsZRMuQXhlcy5SaWdodC5WaXNpYmxlHi5BeGVzLkJvdHRvbS5MYWJlbHMuU2VwYXJhdGlvbiIuQXhlcy5Cb3R0b20uTGFiZWxzLkRhdGVUaW1lRm9ybWF0Hy5BeGVzLkJvdHRvbS5MYWJlbHMuVmFsdWVGb3JtYXQdLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250Lk5hbWUdLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250LlNpemUnLkF4ZXMuQm90dG9tLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlIi5BeGVzLkJvdHRvbS5MYWJlbHMuU2hhZG93LlZpc2libGUdLkF4ZXMuQm90dG9tLkF1dG9tYXRpY01heGltdW0dLkF4ZXMuQm90dG9tLkF1dG9tYXRpY01pbmltdW0aLkF4ZXMuQm90dG9tLkF4aXNQZW4uV2lkdGgbLkF4ZXMuQm90dG9tLkF4aXNQZW4uRW5kQ2FwFy5BeGVzLkJvdHRvbS5HcmlkLlN0eWxlGy5BeGVzLkJvdHRvbS5HcmlkLlpQb3NpdGlvbhkuQXhlcy5Cb3R0b20uR3JpZC5WaXNpYmxlGi5BeGVzLkJvdHRvbS5NYXhpbXVtT2Zmc2V0FC5BeGVzLkJvdHRvbS5NYXhpbXVtFC5BeGVzLkJvdHRvbS5NaW5pbXVtGi5BeGVzLkJvdHRvbS5NaW5pbXVtT2Zmc2V0Hy5BeGVzLkJvdHRvbS5NaW5vclRpY2tzLlZpc2libGUYLkF4ZXMuQm90dG9tLlRpY2tzLkNvbG9yGC5BeGVzLkJvdHRvbS5UaXRsZS5MaW5lcxwuQXhlcy5Cb3R0b20uVGl0bGUuRm9udC5OYW1lHC5BeGVzLkJvdHRvbS5UaXRsZS5Gb250LlNpemUmLkF4ZXMuQm90dG9tLlRpdGxlLkZvbnQuU2hhZG93LlZpc2libGUjLkF4ZXMuQm90dG9tLlRpdGxlLkZvbnQuQnJ1c2guQ29sb3IhLkF4ZXMuQm90dG9tLlRpdGxlLlNoYWRvdy5WaXNpYmxlKS5BeGVzLkRlcHRoVG9wLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlJC5BeGVzLkRlcHRoVG9wLkxhYmVscy5TaGFkb3cuVmlzaWJsZRguQXhlcy5EZXB0aFRvcC5BdXRvbWF0aWMZLkF4ZXMuRGVwdGhUb3AuR3JpZC5TdHlsZR0uQXhlcy5EZXB0aFRvcC5HcmlkLlpQb3NpdGlvbiguQXhlcy5EZXB0aFRvcC5UaXRsZS5Gb250LlNoYWRvdy5WaXNpYmxlIy5BeGVzLkRlcHRoVG9wLlRpdGxlLlNoYWRvdy5WaXNpYmxlJi5BeGVzLkRlcHRoLkxhYmVscy5Gb250LlNoYWRvdy5WaXNpYmxlIS5BeGVzLkRlcHRoLkxhYmVscy5TaGFkb3cuVmlzaWJsZRUuQXhlcy5EZXB0aC5BdXRvbWF0aWMWLkF4ZXMuRGVwdGguR3JpZC5TdHlsZRouQXhlcy5EZXB0aC5HcmlkLlpQb3NpdGlvbiUuQXhlcy5EZXB0aC5UaXRsZS5Gb250LlNoYWRvdy5WaXNpYmxlIC5BeGVzLkRlcHRoLlRpdGxlLlNoYWRvdy5WaXNpYmxlAAAAAAQABAAEAAQAAAAAAAAABgEAAAAAAAAAAAAAAAAABAAAAAQEAAQAAAAAAQQABAQEBAABAAQAAAAEBAAAAQQABAQEBAABAAQAAAAEBAAAAAAAAAAAAAAAAAEBAAAAAAAEBAAAAAAEBgEABAAEAAABAQAAAAAABAQAAAAEAQAABAAAAAEBAAAAAAAEBAAAAAQBAAAEAAAAAQEBAAAAAAAABAQAAAAAAAAABAYBAAAEAAAAAAQAAAAAAAAEAAAACAgBCCFTeXN0ZW0uV2luZG93cy5Gb3Jtcy5Nb3VzZUJ1dHRvbnMDAAAACCNTdGVlbWEuVGVlQ2hhcnQuRHJhd2luZy5CZXZlbFN0eWxlcwIAAAABFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAAAEgU3RlZW1hLlRlZUNoYXJ0LkxlZ2VuZEFsaWdubWVudHMCAAAAAQEBAQEBAQgBAQEBAQEBAQYGCAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQgIJlN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5TbW9vdGhpbmdNb2RlBAAAACVTeXN0ZW0uRHJhd2luZy5UZXh0LlRleHRSZW5kZXJpbmdIaW50BAAAAAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQgICBRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABJFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwIAAAAUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAICCZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwIAAAAICAEkU3RlZW1hLlRlZUNoYXJ0LlN0eWxlcy5Qb2ludGVyU3R5bGVzAgAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABJFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwIAAAAUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAICCZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwIAAAAICAEkU3RlZW1hLlRlZUNoYXJ0LlN0eWxlcy5Qb2ludGVyU3R5bGVzAgAAABRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIAQEBAQEBAQEBAQgIAQEBCCBTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuTGluZUNhcAQAAAAiU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELkRhc2hTdHlsZQQAAAAGAQgBFFN5c3RlbS5EcmF3aW5nLkNvbG9yBAAAAAgUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABCAgBAQEIIFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwBAAAACJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAAIARRTeXN0ZW0uRHJhd2luZy5Db2xvcgQAAAABAQgIAQEBCCBTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuTGluZUNhcAQAAAAiU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELkRhc2hTdHlsZQQAAAAGAQEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAACAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQEICAEBAQEIIFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwBAAAACJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBCAYGCAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAACAEUU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAAAQEBASJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBAQEBASJTeXN0ZW0uRHJhd2luZy5EcmF3aW5nMkQuRGFzaFN0eWxlBAAAAAYBAQIAAACLBQAAdAIAAAEEAAAABfv///8hU3lzdGVtLldpbmRvd3MuRm9ybXMuTW91c2VCdXR0b25zAQAAAAd2YWx1ZV9fAAgDAAAAAABAAAEAAAAF+v///yNTdGVlbWEuVGVlQ2hhcnQuRHJhd2luZy5CZXZlbFN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAAAAAAABfn///8UU3lzdGVtLkRyYXdpbmcuQ29sb3IEAAAABG5hbWUFdmFsdWUKa25vd25Db2xvcgVzdGF0ZQEAAAAJBwcEAAAACv////8AAAAAAAACAAEF+P///yBTdGVlbWEuVGVlQ2hhcnQuTGVnZW5kQWxpZ25tZW50cwEAAAAHdmFsdWVfXwAIAgAAAAMAAAABAAAAAAABCQkAAAAGCgAAAAZUYWhvbWEMAAAAAAAAAAAAAAAAAAAAAJB1QAAAAAAAkHVAAwAAAAAB9f////n///8KAAAAAAAAAACNAAEAANUCAAAmAQAABfT///8mU3lzdGVtLkRyYXdpbmcuRHJhd2luZzJELlNtb290aGluZ01vZGUBAAAAB3ZhbHVlX18ACAQAAAABAAAABfP///8lU3lzdGVtLkRyYXdpbmcuVGV4dC5UZXh0UmVuZGVyaW5nSGludAEAAAAHdmFsdWVfXwAIBAAAAAAAAAAAAfL////5////CgAAAAAAAAAAjQABAAEAAAAAAAAAAAAAAAAGDwAAABtTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkxpbmUB8P////n///8KAAAAAAAAAAAlAAEAAQXv////JFN0ZWVtYS5UZWVDaGFydC5TdHlsZXMuUG9pbnRlclN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAEAAAAB7v////n///8KAAAAAAAAAACkAAEAAe3////5////CgAAAAAAAAAAJQABAAHs////+f///wqZAAD/AAAAAAAAAgACAAAABhUAAAAKIGdyZWVuX2xhaQoAAAAF6v///yZTdGVlbWEuVGVlQ2hhcnQuU3R5bGVzLkFycm93SGVhZFN0eWxlcwEAAAAHdmFsdWVfXwAIAgAAAAAAAAAIAAAAAAAAAAAB6f///+////8AAAAAAej////5////CgAAAAAAAAAAIwABAAAAAAAACQ8AAAAB5v////n///8KAAAAAAAAAACNAAEAAQHl////7////wEAAAAB5P////n///8KAAAAAAAAAACkAAEAAeP////5////CgAAAAAAAAAAjQABAAHi////+f///woAAJn/AAAAAAAAAgACAAAABh8AAAAJIGRlYWRfbGFpCgAAAAHg////6v///wAAAAAIAAAAAAAAAAAB3////+////8AAAAAAd7////5////CgAAAAAAAAAAIwABAAAAAAAAAAAAAAAAAAAAUAAAAAYjAAAACCMjIzAuIyMjCQoAAAAJAAAAAAABAQAAAAXb////IFN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5MaW5lQ2FwAQAAAAd2YWx1ZV9fAAgEAAAAAgAAAAXa////IlN5c3RlbS5EcmF3aW5nLkRyYXdpbmcyRC5EYXNoU3R5bGUBAAAAB3ZhbHVlX18ACAQAAAABAAAAAAAAAAAAAAAACgAAAAAB2f////n///8KAAAA/wAAAAAAAAIACSgAAAAJCgAAAAsAAAAB1v////n///8KwAAA/wAAAAAAAAIAAAHV////+f///wr/AAD/AAAAAAAAAgAAUAAAAAkjAAAACQoAAAAJAAAAAAABAQAAAAHS////2////wIAAAAB0f///9r///8BAAAAAAAAAAAAAAAAAAHQ////+f///woAAAD/AAAAAAAAAgAJCgAAAAsAAAAAAc/////5////Cv8AAP8AAAAAAAACAAAAUAAAAAkjAAAACQoAAAAJAAAAAAABAQAAAAHM////2////wIAAAABy////9r///8BAAAAAAAAAAAAAAAAAAHK////+f///woAAAD/AAAAAAAAAgAJCgAAAAsAAAAAAcn////5////Cv8AAP8AAAAAAAACAAAAUAAAAAY4AAAACWQvTU0veXl5eQkjAAAACQoAAAAJAAAAAAAAAAEAAAABxf///9v///8CAAAAAcT////a////AQAAAAAAAAAAAAAAAAoAAAAAAAAAwOfiQAAAAACA8eBACgAAAAABw/////n///8KAAAA/wAAAAAAAAIACT4AAAAJCgAAAAsAAAAAAcD////5////Cv8AAP8AAAAAAAACAAAAAAEBv////9r///8BAAAAAAAAAAAAAAAAAAAAAQG+////2v///wEAAAAAAAAAAAAAAAAAEQkAAAABAAAABkMAAAAAESgAAAABAAAACUMAAAARPgAAAAEAAAAJQwAAAAs=</Format>
          <Legend>
            <CheckedTitles> TwoSpecies AgPastureClassic Results_Sward</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.TotalWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </outputfile>
      <outputfile name="Results_Layers">
        <filename output="yes">TwoSpecies AgPastureClassic Results_Layers.out</filename>
        <title>TwoSpecies AgPastureClassic Results_Layers</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>dlayer as Soil.Thickness</variable>
          <variable>RootWtFraction as Sward.RootWtFraction</variable>
          <variable>rlv as Sward.RLD</variable>
          <variable>NitrogenSupplyLayers as Sward.NitrogenAvailable</variable>
          <variable>NitrogenUptakeLayers as Sward.NitrogenUptake</variable>
          <variable>WaterSupplyLayers as Sward.SoilAvailableWater</variable>
          <variable>WaterUptakeLayers as Sward.WaterUptake</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
      </outputfile>
      <outputfile name="Results_MassBalance">
        <filename output="yes">TwoSpecies AgPastureClassic Results_MassBalance.out</filename>
        <title>TwoSpecies AgPastureClassic Results_MassBalance</title>
        <variables name="Variables">
          <variable>dd/mmm/yyyy as Date</variable>
          <variable>Crop_name as Sward.Name</variable>
          <variable>TotalPlantN as TotalPlantN</variable>
          <variable>urea() as TotalUrea</variable>
          <variable>nh4() as TotalNH4</variable>
          <variable>no3() as TotalNO3</variable>
          <variable>hum_n() as TotalHumusN</variable>
          <variable>biom_n() as TotalBiomN</variable>
          <variable>fom_N() as TotalFomN</variable>
          <variable>surfaceom_n as SurfaceOMN</variable>
          <variable>fertiliser as FertiliserN</variable>
          <variable>PlantFixedN as FixedN</variable>
          <variable>HarvestN as HarvestN</variable>
          <variable>dnit() as DenitrifiedN</variable>
          <variable>leach_no3 as LeachedN</variable>
          <variable>NitrogenUptake as UptakeN</variable>
          <variable>PlantRemobilisedN as NitrogenRemobilisedSenescence</variable>
          <variable>PlantLuxuryNRemobilised as NitrogenRemobilisedLuxury</variable>
          <variable>PlantGrowthN as ActualGrowthN</variable>
          <variable>LitterDepositionN as LitterDepositionN</variable>
          <variable>RootSenescenceN as RootSenescenceN</variable>
          <variable>sw_dep() as TotalSoilWater</variable>
          <variable>rain as Rain</variable>
          <variable>irrigation as Irrigation</variable>
          <variable>runoff as Runoff</variable>
          <variable>drain as Drainage</variable>
          <variable>es as Evaporation</variable>
          <variable>WaterUptake as WaterUptake</variable>
          <variable>StandingPlantWt as Pasture.StandingWt</variable>
          <variable>PreHarvestDM as PreHarvestDM</variable>
          <variable>PostHarvestDM as PostHarvestDM</variable>
          <variable>harvested_dm as DefoliatedWt</variable>
          <variable>harvested_dm as HarvestedWt</variable>
          <variable>removed_dm as RemovedWt</variable>
          <variable>returned_dm as ReturnedWt</variable>
          <variable>harvested_n as DefoliatedN</variable>
          <variable>harvested_n as HarvestedN</variable>
          <variable>removed_n as RemovedN</variable>
          <variable>NReturnedInDung as NReturnedInDung</variable>
          <variable>NReturnedInUrine as NReturnedInUrine</variable>
          <variable>DaysAfterCut as DaysAfterCut</variable>
        </variables>
        <events name="Reporting Frequency">
          <event>end_day</event>
        </events>
      </outputfile>
      <GraphReport name="Plant">
        <Graph name="PlantWt">
          <Legend>
            <CheckedTitles> Sward.TotalWt</CheckedTitles>
            <CheckedTitles> Sward.AboveGroundWt</CheckedTitles>
            <CheckedTitles> Sward.BelowGroundWt</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.TotalWt</Y>
            <Y>Sward.AboveGroundWt</Y>
            <Y>Sward.BelowGroundWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GrowthRate">
          <Legend>
            <CheckedTitles> Sward.GrossPotentialGrowthWt</CheckedTitles>
            <CheckedTitles> Sward.NetPotentialGrowthWt</CheckedTitles>
            <CheckedTitles> Sward.PotGrowthWt_Wstress</CheckedTitles>
            <CheckedTitles> Sward.ActualGrowthWt</CheckedTitles>
            <CheckedTitles> Sward.EffectiveGrowthWt</CheckedTitles>
            <CheckedTitles> Sward.HerbageGrowthWt</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.GrossPotentialGrowthWt</Y>
            <Y>Sward.NetPotentialGrowthWt</Y>
            <Y>Sward.PotGrowthWt_Wstress</Y>
            <Y>Sward.ActualGrowthWt</Y>
            <Y>Sward.EffectiveGrowthWt</Y>
            <Y>Sward.HerbageGrowthWt</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="PlantN">
          <Legend>
            <CheckedTitles> Sward.TotalN</CheckedTitles>
            <CheckedTitles> Sward.LeafN</CheckedTitles>
            <CheckedTitles> Sward.StemN</CheckedTitles>
            <CheckedTitles> Sward.RootN</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.TotalN</Y>
            <Y>Sward.LeafN</Y>
            <Y>Sward.StemN</Y>
            <Y>Sward.RootN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="LAI">
          <Legend>
            <CheckedTitles> Sward.TotalLAI</CheckedTitles>
            <CheckedTitles> Sward.GreenLAI</CheckedTitles>
            <CheckedTitles> Sward.DeadLAI</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.TotalLAI</Y>
            <Y>Sward.GreenLAI</Y>
            <Y>Sward.DeadLAI</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="Harvest">
        <Graph name="PlantDM">
          <Legend>
            <CheckedTitles> Pasture.StandingWt</CheckedTitles>
            <CheckedTitles> PreHarvestDM</CheckedTitles>
            <CheckedTitles> PostHarvestDM</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Pasture.StandingWt</Y>
            <Y>PreHarvestDM</Y>
            <Y>PostHarvestDM</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="DMHarvestable">
          <Legend>
            <CheckedTitles> Sward.HarvestableWt</CheckedTitles>
            <CheckedTitles> Sward.HarvestedWt</CheckedTitles>
            <CheckedTitles> Sward.HerbageDigestibility</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.HarvestableWt</Y>
            <Y>Sward.HarvestedWt</Y>
            <YRight>Sward.HerbageDigestibility</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="DMYield">
          <Legend>
            <CheckedTitles> Sward.HarvestedWt</CheckedTitles>
            <CheckedTitles> Cumulative Sward.HarvestedWt</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.HarvestedWt</Y>
            <YRight>Cumulative Sward.HarvestedWt</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="Harvest">
          <Legend>
            <CheckedTitles> Cumulative HarvestedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative HarvestedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative RemovedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative RemovedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative ReturnedWt, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> Cumulative ReturnedWt, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <YRight>Cumulative HarvestedWt</YRight>
            <YRight>Cumulative RemovedWt</YRight>
            <YRight>Cumulative ReturnedWt</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="GLFs">
        <Graph name="GLFTemp">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.GlfTemperature</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GLFW">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.GlfWater</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="GLFN">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
            <CheckedTitles> {Checkpoint} OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.GlfN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="Radn">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_Species</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.IrradianceTopCanopy</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="NBalance">
        <Graph name="MineralN">
          <Legend>
            <CheckedTitles> TotalNO3, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNO3, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNH4, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalNH4, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalNO3</Y>
            <Y>TotalNH4</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="OrganicN">
          <Legend>
            <CheckedTitles> TotalBiomN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalBiomN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalFomN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalFomN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> SurfaceOMN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> SurfaceOMN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalHumusN, OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
            <CheckedTitles> TotalHumusN, {Checkpoint} OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalBiomN</Y>
            <Y>TotalFomN</Y>
            <Y>SurfaceOMN</Y>
            <YRight>TotalHumusN</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="Uptake">
        <Graph name="PlantWater">
          <Legend>
            <CheckedTitles> Sward.WaterDemand</CheckedTitles>
            <CheckedTitles> Sward.WaterUptake</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.WaterDemand</Y>
            <Y>Sward.WaterUptake</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="PlantNUptake">
          <Legend>
            <CheckedTitles> Sward.RequiredOptimumN</CheckedTitles>
            <CheckedTitles> Sward.DemandSoilN</CheckedTitles>
            <CheckedTitles> Sward.UptakeN</CheckedTitles>
            <CheckedTitles> Sward.FixedN</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>Sward.RequiredOptimumN</Y>
            <Y>Sward.DemandSoilN</Y>
            <Y>Sward.UptakeN</Y>
            <Y>Sward.FixedN</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
      <GraphReport name="WBalance">
        <Graph name="SWC">
          <Legend>
            <CheckedTitles> OneSpecies AgPastureClassic Results_MassBalance</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <Y>TotalSoilWater</Y>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
        <Graph name="InOuts">
          <Legend>
            <CheckedTitles> Cumulative Rain</CheckedTitles>
            <CheckedTitles> Cumulative Irrigation</CheckedTitles>
            <CheckedTitles> Cumulative Runoff</CheckedTitles>
            <CheckedTitles> Cumulative Drainage</CheckedTitles>
            <CheckedTitles> Cumulative Evaporation</CheckedTitles>
            <CheckedTitles> Cumulative WaterUptake</CheckedTitles>
          </Legend>
          <Plot>
            <SeriesType>Solid line</SeriesType>
            <PointType>None</PointType>
            <colour>
            </colour>
            <X>Date</X>
            <YRight>Cumulative Rain</YRight>
            <YRight>Cumulative Irrigation</YRight>
            <YRight>Cumulative Runoff</YRight>
            <YRight>Cumulative Drainage</YRight>
            <YRight>Cumulative Evaporation</YRight>
            <YRight>Cumulative WaterUptake</YRight>
            <GDApsimFileReader name="ApsimFileReader" />
          </Plot>
        </Graph>
      </GraphReport>
    </area>
  </simulation>
</folder>